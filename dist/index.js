
define("@ijstech/eth-wallet-web3modal",(require, exports)=>{
let global = window;
var hT=Object.create;var Sl=Object.defineProperty;var fT=Object.getOwnPropertyDescriptor;var dT=Object.getOwnPropertyNames;var pT=Object.getPrototypeOf,gT=Object.prototype.hasOwnProperty;var tv=r=>Sl(r,"__esModule",{value:!0});var M=(r,e)=>()=>(r&&(e=r(r=0)),e);var Z=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),nt=(r,e)=>{tv(r);for(var t in e)Sl(r,t,{get:e[t],enumerable:!0})},qt=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dT(e))!gT.call(r,i)&&i!=="default"&&Sl(r,i,{get:()=>e[i],enumerable:!(t=fT(e,i))||t.enumerable});return r},Or=r=>qt(tv(Sl(r!=null?hT(pT(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Yr=Z((CW,Ud)=>{"use strict";var Bs=typeof Reflect=="object"?Reflect:null,rv=Bs&&typeof Bs.apply=="function"?Bs.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},Cl;Bs&&typeof Bs.ownKeys=="function"?Cl=Bs.ownKeys:Object.getOwnPropertySymbols?Cl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Cl=function(e){return Object.getOwnPropertyNames(e)};function mT(r){console&&console.warn&&console.warn(r)}var iv=Number.isNaN||function(e){return e!==e};function Xe(){Xe.init.call(this)}Ud.exports=Xe;Ud.exports.once=bT;Xe.EventEmitter=Xe;Xe.prototype._events=void 0;Xe.prototype._eventsCount=0;Xe.prototype._maxListeners=void 0;var nv=10;function Dl(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Xe,"defaultMaxListeners",{enumerable:!0,get:function(){return nv},set:function(r){if(typeof r!="number"||r<0||iv(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");nv=r}});Xe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||iv(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function sv(r){return r._maxListeners===void 0?Xe.defaultMaxListeners:r._maxListeners}Xe.prototype.getMaxListeners=function(){return sv(this)};Xe.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")rv(f,this,t);else for(var d=f.length,g=uv(f,d),i=0;i<d;++i)rv(g[i],this,t);return!0};function ov(r,e,t,i){var n,o,c;if(Dl(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),c=o[e]),c===void 0)c=o[e]=t,++r._eventsCount;else if(typeof c=="function"?c=o[e]=i?[t,c]:[c,t]:i?c.unshift(t):c.push(t),n=sv(r),n>0&&c.length>n&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=c.length,mT(u)}return r}Xe.prototype.addListener=function(e,t){return ov(this,e,t,!1)};Xe.prototype.on=Xe.prototype.addListener;Xe.prototype.prependListener=function(e,t){return ov(this,e,t,!0)};function yT(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function av(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=yT.bind(i);return n.listener=t,i.wrapFn=n,n}Xe.prototype.once=function(e,t){return Dl(t),this.on(e,av(this,e,t)),this};Xe.prototype.prependOnceListener=function(e,t){return Dl(t),this.prependListener(e,av(this,e,t)),this};Xe.prototype.removeListener=function(e,t){var i,n,o,c,u;if(Dl(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(o=-1,c=i.length-1;c>=0;c--)if(i[c]===t||i[c].listener===t){u=i[c].listener,o=c;break}if(o<0)return this;o===0?i.shift():wT(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};Xe.prototype.off=Xe.prototype.removeListener;Xe.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),c;for(n=0;n<o.length;++n)c=o[n],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function cv(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?vT(n):uv(n,n.length)}Xe.prototype.listeners=function(e){return cv(this,e,!0)};Xe.prototype.rawListeners=function(e){return cv(this,e,!1)};Xe.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):lv.call(r,e)};Xe.prototype.listenerCount=lv;function lv(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Xe.prototype.eventNames=function(){return this._eventsCount>0?Cl(this._events):[]};function uv(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function wT(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function vT(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function bT(r,e){return new Promise(function(t,i){function n(c){r.removeListener(e,o),i(c)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}hv(r,e,o,{once:!0}),e!=="error"&&ET(r,n,{once:!0})})}function ET(r,e,t){typeof r.on=="function"&&hv(r,"error",e,t)}function hv(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(o){i.once&&r.removeEventListener(e,n),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var fv=Z(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});function _T(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,o=e&65535;return i*o+(t*o+i*n<<16>>>0)|0}mr.mul=Math.imul||_T;function xT(r,e){return r+e|0}mr.add=xT;function IT(r,e){return r-e|0}mr.sub=IT;function ST(r,e){return r<<e|r>>>32-e}mr.rotl=ST;function CT(r,e){return r<<32-e|r>>>e}mr.rotr=CT;function DT(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}mr.isInteger=Number.isInteger||DT;mr.MAX_SAFE_INTEGER=9007199254740991;mr.isSafeInteger=function(r){return mr.isInteger(r)&&r>=-mr.MAX_SAFE_INTEGER&&r<=mr.MAX_SAFE_INTEGER}});var ks=Z(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var dv=fv();function AT(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Me.readInt16BE=AT;function OT(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Me.readUint16BE=OT;function RT(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Me.readInt16LE=RT;function PT(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Me.readUint16LE=PT;function pv(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Me.writeUint16BE=pv;Me.writeInt16BE=pv;function gv(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Me.writeUint16LE=gv;Me.writeInt16LE=gv;function Md(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Me.readInt32BE=Md;function jd(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Me.readUint32BE=jd;function Fd(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Me.readInt32LE=Fd;function $d(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Me.readUint32LE=$d;function Al(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Me.writeUint32BE=Al;Me.writeInt32BE=Al;function Ol(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Me.writeUint32LE=Ol;Me.writeInt32LE=Ol;function TT(r,e){e===void 0&&(e=0);var t=Md(r,e),i=Md(r,e+4);return t*4294967296+i-(i>>31)*4294967296}Me.readInt64BE=TT;function NT(r,e){e===void 0&&(e=0);var t=jd(r,e),i=jd(r,e+4);return t*4294967296+i}Me.readUint64BE=NT;function LT(r,e){e===void 0&&(e=0);var t=Fd(r,e),i=Fd(r,e+4);return i*4294967296+t-(t>>31)*4294967296}Me.readInt64LE=LT;function UT(r,e){e===void 0&&(e=0);var t=$d(r,e),i=$d(r,e+4);return i*4294967296+t}Me.readUint64LE=UT;function mv(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Al(r/4294967296>>>0,e,t),Al(r>>>0,e,t+4),e}Me.writeUint64BE=mv;Me.writeInt64BE=mv;function yv(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ol(r>>>0,e,t),Ol(r/4294967296>>>0,e,t+4),e}Me.writeUint64LE=yv;Me.writeInt64LE=yv;function MT(r,e,t){if(t===void 0&&(t=0),r%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,o=r/8+t-1;o>=t;o--)i+=e[o]*n,n*=256;return i}Me.readUintBE=MT;function jT(r,e,t){if(t===void 0&&(t=0),r%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,o=t;o<t+r/8;o++)i+=e[o]*n,n*=256;return i}Me.readUintLE=jT;function FT(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!dv.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,o=r/8+i-1;o>=i;o--)t[o]=e/n&255,n*=256;return t}Me.writeUintBE=FT;function $T(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!dv.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,o=i;o<i+r/8;o++)t[o]=e/n&255,n*=256;return t}Me.writeUintLE=$T;function BT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Me.readFloat32BE=BT;function kT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Me.readFloat32LE=kT;function qT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Me.readFloat64BE=qT;function HT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Me.readFloat64LE=HT;function zT(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}Me.writeFloat32BE=zT;function VT(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}Me.writeFloat32LE=VT;function WT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}Me.writeFloat64BE=WT;function KT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}Me.writeFloat64LE=KT});var Rr=Z(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});function GT(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Bd.wipe=GT});var vv=Z(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var Ht=ks(),kd=Rr(),JT=20;function YT(r,e,t){for(var i=1634760805,n=857760878,o=2036477234,c=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],d=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=t[19]<<24|t[18]<<16|t[17]<<8|t[16],b=t[23]<<24|t[22]<<16|t[21]<<8|t[20],v=t[27]<<24|t[26]<<16|t[25]<<8|t[24],E=t[31]<<24|t[30]<<16|t[29]<<8|t[28],I=e[3]<<24|e[2]<<16|e[1]<<8|e[0],O=e[7]<<24|e[6]<<16|e[5]<<8|e[4],R=e[11]<<24|e[10]<<16|e[9]<<8|e[8],H=e[15]<<24|e[14]<<16|e[13]<<8|e[12],U=i,N=n,k=o,W=c,C=u,A=f,V=d,_=g,S=y,L=b,B=v,G=E,Q=I,ne=O,ee=R,oe=H,Ye=0;Ye<JT;Ye+=2)U=U+C|0,Q^=U,Q=Q>>>32-16|Q<<16,S=S+Q|0,C^=S,C=C>>>32-12|C<<12,N=N+A|0,ne^=N,ne=ne>>>32-16|ne<<16,L=L+ne|0,A^=L,A=A>>>32-12|A<<12,k=k+V|0,ee^=k,ee=ee>>>32-16|ee<<16,B=B+ee|0,V^=B,V=V>>>32-12|V<<12,W=W+_|0,oe^=W,oe=oe>>>32-16|oe<<16,G=G+oe|0,_^=G,_=_>>>32-12|_<<12,k=k+V|0,ee^=k,ee=ee>>>32-8|ee<<8,B=B+ee|0,V^=B,V=V>>>32-7|V<<7,W=W+_|0,oe^=W,oe=oe>>>32-8|oe<<8,G=G+oe|0,_^=G,_=_>>>32-7|_<<7,N=N+A|0,ne^=N,ne=ne>>>32-8|ne<<8,L=L+ne|0,A^=L,A=A>>>32-7|A<<7,U=U+C|0,Q^=U,Q=Q>>>32-8|Q<<8,S=S+Q|0,C^=S,C=C>>>32-7|C<<7,U=U+A|0,oe^=U,oe=oe>>>32-16|oe<<16,B=B+oe|0,A^=B,A=A>>>32-12|A<<12,N=N+V|0,Q^=N,Q=Q>>>32-16|Q<<16,G=G+Q|0,V^=G,V=V>>>32-12|V<<12,k=k+_|0,ne^=k,ne=ne>>>32-16|ne<<16,S=S+ne|0,_^=S,_=_>>>32-12|_<<12,W=W+C|0,ee^=W,ee=ee>>>32-16|ee<<16,L=L+ee|0,C^=L,C=C>>>32-12|C<<12,k=k+_|0,ne^=k,ne=ne>>>32-8|ne<<8,S=S+ne|0,_^=S,_=_>>>32-7|_<<7,W=W+C|0,ee^=W,ee=ee>>>32-8|ee<<8,L=L+ee|0,C^=L,C=C>>>32-7|C<<7,N=N+V|0,Q^=N,Q=Q>>>32-8|Q<<8,G=G+Q|0,V^=G,V=V>>>32-7|V<<7,U=U+A|0,oe^=U,oe=oe>>>32-8|oe<<8,B=B+oe|0,A^=B,A=A>>>32-7|A<<7;Ht.writeUint32LE(U+i|0,r,0),Ht.writeUint32LE(N+n|0,r,4),Ht.writeUint32LE(k+o|0,r,8),Ht.writeUint32LE(W+c|0,r,12),Ht.writeUint32LE(C+u|0,r,16),Ht.writeUint32LE(A+f|0,r,20),Ht.writeUint32LE(V+d|0,r,24),Ht.writeUint32LE(_+g|0,r,28),Ht.writeUint32LE(S+y|0,r,32),Ht.writeUint32LE(L+b|0,r,36),Ht.writeUint32LE(B+v|0,r,40),Ht.writeUint32LE(G+E|0,r,44),Ht.writeUint32LE(Q+I|0,r,48),Ht.writeUint32LE(ne+O|0,r,52),Ht.writeUint32LE(ee+R|0,r,56),Ht.writeUint32LE(oe+H|0,r,60)}function wv(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),c=o.length-e.length,o.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,c=n}for(var u=new Uint8Array(64),f=0;f<t.length;f+=64){YT(u,o,r);for(var d=f;d<f+64&&d<t.length;d++)i[d]=t[d]^u[d-f];XT(o,0,c)}return kd.wipe(u),n===0&&kd.wipe(o),i}Rl.streamXOR=wv;function ZT(r,e,t,i){return i===void 0&&(i=0),kd.wipe(t),wv(r,e,t,t,i)}Rl.stream=ZT;function XT(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var Pl=Z(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});function QT(r,e,t){return~(r-1)&e|r-1&t}qs.select=QT;function e9(r,e){return(r|0)-(e|0)-1>>>31&1}qs.lessOrEqual=e9;function bv(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}qs.compare=bv;function t9(r,e){return r.length===0||e.length===0?!1:bv(r,e)!==0}qs.equal=t9});var _v=Z(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var r9=Pl(),Tl=Rr();_i.DIGEST_LENGTH=16;var Ev=function(){function r(e){this.digestLength=_i.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(n>>>7|o<<9)&8191;var c=e[8]|e[9]<<8;this._r[4]=(o>>>4|c<<12)&255,this._r[5]=c>>>1&8190;var u=e[10]|e[11]<<8;this._r[6]=(c>>>14|u<<2)&8191;var f=e[12]|e[13]<<8;this._r[7]=(u>>>11|f<<5)&8065;var d=e[14]|e[15]<<8;this._r[8]=(f>>>8|d<<8)&8191,this._r[9]=d>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:1<<11,o=this._h[0],c=this._h[1],u=this._h[2],f=this._h[3],d=this._h[4],g=this._h[5],y=this._h[6],b=this._h[7],v=this._h[8],E=this._h[9],I=this._r[0],O=this._r[1],R=this._r[2],H=this._r[3],U=this._r[4],N=this._r[5],k=this._r[6],W=this._r[7],C=this._r[8],A=this._r[9];i>=16;){var V=e[t+0]|e[t+1]<<8;o+=V&8191;var _=e[t+2]|e[t+3]<<8;c+=(V>>>13|_<<3)&8191;var S=e[t+4]|e[t+5]<<8;u+=(_>>>10|S<<6)&8191;var L=e[t+6]|e[t+7]<<8;f+=(S>>>7|L<<9)&8191;var B=e[t+8]|e[t+9]<<8;d+=(L>>>4|B<<12)&8191,g+=B>>>1&8191;var G=e[t+10]|e[t+11]<<8;y+=(B>>>14|G<<2)&8191;var Q=e[t+12]|e[t+13]<<8;b+=(G>>>11|Q<<5)&8191;var ne=e[t+14]|e[t+15]<<8;v+=(Q>>>8|ne<<8)&8191,E+=ne>>>5|n;var ee=0,oe=ee;oe+=o*I,oe+=c*(5*A),oe+=u*(5*C),oe+=f*(5*W),oe+=d*(5*k),ee=oe>>>13,oe&=8191,oe+=g*(5*N),oe+=y*(5*U),oe+=b*(5*H),oe+=v*(5*R),oe+=E*(5*O),ee+=oe>>>13,oe&=8191;var Ye=ee;Ye+=o*O,Ye+=c*I,Ye+=u*(5*A),Ye+=f*(5*C),Ye+=d*(5*W),ee=Ye>>>13,Ye&=8191,Ye+=g*(5*k),Ye+=y*(5*N),Ye+=b*(5*U),Ye+=v*(5*H),Ye+=E*(5*R),ee+=Ye>>>13,Ye&=8191;var ue=ee;ue+=o*R,ue+=c*O,ue+=u*I,ue+=f*(5*A),ue+=d*(5*C),ee=ue>>>13,ue&=8191,ue+=g*(5*W),ue+=y*(5*k),ue+=b*(5*N),ue+=v*(5*U),ue+=E*(5*H),ee+=ue>>>13,ue&=8191;var ae=ee;ae+=o*H,ae+=c*R,ae+=u*O,ae+=f*I,ae+=d*(5*A),ee=ae>>>13,ae&=8191,ae+=g*(5*C),ae+=y*(5*W),ae+=b*(5*k),ae+=v*(5*N),ae+=E*(5*U),ee+=ae>>>13,ae&=8191;var me=ee;me+=o*U,me+=c*H,me+=u*R,me+=f*O,me+=d*I,ee=me>>>13,me&=8191,me+=g*(5*A),me+=y*(5*C),me+=b*(5*W),me+=v*(5*k),me+=E*(5*N),ee+=me>>>13,me&=8191;var ye=ee;ye+=o*N,ye+=c*U,ye+=u*H,ye+=f*R,ye+=d*O,ee=ye>>>13,ye&=8191,ye+=g*I,ye+=y*(5*A),ye+=b*(5*C),ye+=v*(5*W),ye+=E*(5*k),ee+=ye>>>13,ye&=8191;var ge=ee;ge+=o*k,ge+=c*N,ge+=u*U,ge+=f*H,ge+=d*R,ee=ge>>>13,ge&=8191,ge+=g*O,ge+=y*I,ge+=b*(5*A),ge+=v*(5*C),ge+=E*(5*W),ee+=ge>>>13,ge&=8191;var he=ee;he+=o*W,he+=c*k,he+=u*N,he+=f*U,he+=d*H,ee=he>>>13,he&=8191,he+=g*R,he+=y*O,he+=b*I,he+=v*(5*A),he+=E*(5*C),ee+=he>>>13,he&=8191;var fe=ee;fe+=o*C,fe+=c*W,fe+=u*k,fe+=f*N,fe+=d*U,ee=fe>>>13,fe&=8191,fe+=g*H,fe+=y*R,fe+=b*O,fe+=v*I,fe+=E*(5*A),ee+=fe>>>13,fe&=8191;var we=ee;we+=o*A,we+=c*C,we+=u*W,we+=f*k,we+=d*N,ee=we>>>13,we&=8191,we+=g*U,we+=y*H,we+=b*R,we+=v*O,we+=E*I,ee+=we>>>13,we&=8191,ee=(ee<<2)+ee|0,ee=ee+oe|0,oe=ee&8191,ee=ee>>>13,Ye+=ee,o=oe,c=Ye,u=ue,f=ae,d=me,g=ye,y=ge,b=he,v=fe,E=we,t+=16,i-=16}this._h[0]=o,this._h[1]=c,this._h[2]=u,this._h[3]=f,this._h[4]=d,this._h[5]=g,this._h[6]=y,this._h[7]=b,this._h[8]=v,this._h[9]=E},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,o,c,u;if(this._leftover){for(u=this._leftover,this._buffer[u++]=1;u<16;u++)this._buffer[u]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,u=2;u<10;u++)this._h[u]+=n,n=this._h[u]>>>13,this._h[u]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,u=1;u<10;u++)i[u]=this._h[u]+n,n=i[u]>>>13,i[u]&=8191;for(i[9]-=1<<13,o=(n^1)-1,u=0;u<10;u++)i[u]&=o;for(o=~o,u=0;u<10;u++)this._h[u]=this._h[u]&o|i[u];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,c=this._h[0]+this._pad[0],this._h[0]=c&65535,u=1;u<8;u++)c=(this._h[u]+this._pad[u]|0)+(c>>>16)|0,this._h[u]=c&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var o=0;o<n;o++)this._buffer[this._leftover+o]=e[t+o];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var o=0;o<i;o++)this._buffer[this._leftover+o]=e[t+o];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Tl.wipe(this._buffer),Tl.wipe(this._r),Tl.wipe(this._h),Tl.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();_i.Poly1305=Ev;function i9(r,e){var t=new Ev(r);t.update(e);var i=t.digest();return t.clean(),i}_i.oneTimeAuth=i9;function n9(r,e){return r.length!==_i.DIGEST_LENGTH||e.length!==_i.DIGEST_LENGTH?!1:r9.equal(r,e)}_i.equal=n9});var Sv=Z(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});var Nl=vv(),s9=_v(),da=Rr(),xv=ks(),o9=Pl();xi.KEY_LENGTH=32;xi.NONCE_LENGTH=12;xi.TAG_LENGTH=16;var Iv=new Uint8Array(16),a9=function(){function r(e){if(this.nonceLength=xi.NONCE_LENGTH,this.tagLength=xi.TAG_LENGTH,e.length!==xi.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);Nl.stream(this._key,o,c,4);var u=t.length+this.tagLength,f;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");f=n}else f=new Uint8Array(u);return Nl.streamXOR(this._key,o,t,f,4),this._authenticate(f.subarray(f.length-this.tagLength,f.length),c,f.subarray(0,f.length-this.tagLength),i),da.wipe(o),f},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);Nl.stream(this._key,o,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),i),!o9.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var f=t.length-this.tagLength,d;if(n){if(n.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");d=n}else d=new Uint8Array(f);return Nl.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),d,4),da.wipe(o),d},r.prototype.clean=function(){return da.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var o=new s9.Poly1305(t);n&&(o.update(n),n.length%16>0&&o.update(Iv.subarray(n.length%16))),o.update(i),i.length%16>0&&o.update(Iv.subarray(i.length%16));var c=new Uint8Array(8);n&&xv.writeUint64LE(n.length,c),o.update(c),xv.writeUint64LE(i.length,c),o.update(c);for(var u=o.digest(),f=0;f<u.length;f++)e[f]=u[f];o.clean(),da.wipe(u),da.wipe(c)},r}();xi.ChaCha20Poly1305=a9});var Cv=Z(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});function c9(r){return typeof r.saveState!="undefined"&&typeof r.restoreState!="undefined"&&typeof r.cleanSavedState!="undefined"}qd.isSerializableHash=c9});var Av=Z(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var Zr=Cv(),l9=Pl(),u9=Rr(),Dv=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=54^92;this._outer.update(i),Zr.isSerializableHash(this._inner)&&Zr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),u9.wipe(i)}return r.prototype.reset=function(){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Zr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Zr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();pa.HMAC=Dv;function h9(r,e,t){var i=new Dv(r,e);i.update(t);var n=i.digest();return i.clean(),n}pa.hmac=h9;pa.equal=l9.equal});var Pv=Z(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var Ov=Av(),Rv=Rr(),f9=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var o=Ov.hmac(this._hash,i,t);this._hmac=new Ov.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Rv.wipe(this._buffer),Rv.wipe(this._counter),this._bufpos=0},r}();Hd.HKDF=f9});var Lv=Z(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.BrowserRandomSource=void 0;var Tv=65536,Nv=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self!="undefined"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=Tv)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,Tv)));return t}};Ll.BrowserRandomSource=Nv});var Uv=Z(()=>{});var jv=Z(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.NodeRandomSource=void 0;var d9=Rr(),Mv=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof require!="undefined"){let e=Uv();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,d9.wipe)(t),i}};Ul.NodeRandomSource=Mv});var $v=Z(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.SystemRandomSource=void 0;var p9=Lv(),g9=jv(),Fv=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new p9.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new g9.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Ml.SystemRandomSource=Fv});var ga=Z(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.randomStringForEntropy=zt.randomString=zt.randomUint32=zt.randomBytes=zt.defaultRandomSource=void 0;var m9=$v(),y9=ks(),Bv=Rr();zt.defaultRandomSource=new m9.SystemRandomSource;function zd(r,e=zt.defaultRandomSource){return e.randomBytes(r)}zt.randomBytes=zd;function w9(r=zt.defaultRandomSource){let e=zd(4,r),t=(0,y9.readUint32LE)(e);return(0,Bv.wipe)(e),t}zt.randomUint32=w9;var kv="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function qv(r,e=kv,t=zt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,o=256-256%n;for(;r>0;){let c=zd(Math.ceil(r*256/o),t);for(let u=0;u<c.length&&r>0;u++){let f=c[u];f<o&&(i+=e.charAt(f%n),r--)}(0,Bv.wipe)(c)}return i}zt.randomString=qv;function v9(r,e=kv,t=zt.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return qv(i,e,t)}zt.randomStringForEntropy=v9});var zv=Z(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var jl=ks(),Fl=Rr();en.DIGEST_LENGTH=32;en.BLOCK_SIZE=64;var Hv=function(){function r(){this.digestLength=en.DIGEST_LENGTH,this.blockSize=en.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Fl.wipe(this._buffer),Fl.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(Vd(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=Vd(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,o=t<<3,c=t%64<56?64:128;this._buffer[i]=128;for(var u=i+1;u<c-8;u++)this._buffer[u]=0;jl.writeUint32BE(n,this._buffer,c-8),jl.writeUint32BE(o,this._buffer,c-4),Vd(this._temp,this._state,this._buffer,0,c),this._finished=!0}for(var u=0;u<this.digestLength/4;u++)jl.writeUint32BE(this._state[u],e,u*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Fl.wipe(e.state),e.buffer&&Fl.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();en.SHA256=Hv;var b9=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Vd(r,e,t,i,n){for(;n>=64;){for(var o=e[0],c=e[1],u=e[2],f=e[3],d=e[4],g=e[5],y=e[6],b=e[7],v=0;v<16;v++){var E=i+v*4;r[v]=jl.readUint32BE(t,E)}for(var v=16;v<64;v++){var I=r[v-2],O=(I>>>17|I<<32-17)^(I>>>19|I<<32-19)^I>>>10;I=r[v-15];var R=(I>>>7|I<<32-7)^(I>>>18|I<<32-18)^I>>>3;r[v]=(O+r[v-7]|0)+(R+r[v-16]|0)}for(var v=0;v<64;v++){var O=(((d>>>6|d<<32-6)^(d>>>11|d<<32-11)^(d>>>25|d<<32-25))+(d&g^~d&y)|0)+(b+(b9[v]+r[v]|0)|0)|0,R=((o>>>2|o<<32-2)^(o>>>13|o<<32-13)^(o>>>22|o<<32-22))+(o&c^o&u^c&u)|0;b=y,y=g,g=d,d=f+O|0,f=u,u=c,c=o,o=O+R|0}e[0]+=o,e[1]+=c,e[2]+=u,e[3]+=f,e[4]+=d,e[5]+=g,e[6]+=y,e[7]+=b,i+=64,n-=64}return i}function E9(r){var e=new Hv;e.update(r);var t=e.digest();return e.clean(),t}en.hash=E9});var Gv=Z(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.sharedKey=vt.generateKeyPair=vt.generateKeyPairFromSeed=vt.scalarMultBase=vt.scalarMult=vt.SHARED_KEY_LENGTH=vt.SECRET_KEY_LENGTH=vt.PUBLIC_KEY_LENGTH=void 0;var _9=ga(),x9=Rr();vt.PUBLIC_KEY_LENGTH=32;vt.SECRET_KEY_LENGTH=32;vt.SHARED_KEY_LENGTH=32;function Xr(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Vv=new Uint8Array(32);Vv[0]=9;var I9=Xr([56129,1]);function Wd(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function ma(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let o=i&(r[n]^e[n]);r[n]^=o,e[n]^=o}}function S9(r,e){let t=Xr(),i=Xr();for(let n=0;n<16;n++)i[n]=e[n];Wd(i),Wd(i),Wd(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let c=1;c<15;c++)t[c]=i[c]-65535-(t[c-1]>>16&1),t[c-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,ma(i,t,1-o)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function C9(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function $l(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Bl(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Ii(r,e,t){let i,n,o=0,c=0,u=0,f=0,d=0,g=0,y=0,b=0,v=0,E=0,I=0,O=0,R=0,H=0,U=0,N=0,k=0,W=0,C=0,A=0,V=0,_=0,S=0,L=0,B=0,G=0,Q=0,ne=0,ee=0,oe=0,Ye=0,ue=t[0],ae=t[1],me=t[2],ye=t[3],ge=t[4],he=t[5],fe=t[6],we=t[7],Se=t[8],Ae=t[9],je=t[10],Pe=t[11],Oe=t[12],$e=t[13],_e=t[14],Le=t[15];i=e[0],o+=i*ue,c+=i*ae,u+=i*me,f+=i*ye,d+=i*ge,g+=i*he,y+=i*fe,b+=i*we,v+=i*Se,E+=i*Ae,I+=i*je,O+=i*Pe,R+=i*Oe,H+=i*$e,U+=i*_e,N+=i*Le,i=e[1],c+=i*ue,u+=i*ae,f+=i*me,d+=i*ye,g+=i*ge,y+=i*he,b+=i*fe,v+=i*we,E+=i*Se,I+=i*Ae,O+=i*je,R+=i*Pe,H+=i*Oe,U+=i*$e,N+=i*_e,k+=i*Le,i=e[2],u+=i*ue,f+=i*ae,d+=i*me,g+=i*ye,y+=i*ge,b+=i*he,v+=i*fe,E+=i*we,I+=i*Se,O+=i*Ae,R+=i*je,H+=i*Pe,U+=i*Oe,N+=i*$e,k+=i*_e,W+=i*Le,i=e[3],f+=i*ue,d+=i*ae,g+=i*me,y+=i*ye,b+=i*ge,v+=i*he,E+=i*fe,I+=i*we,O+=i*Se,R+=i*Ae,H+=i*je,U+=i*Pe,N+=i*Oe,k+=i*$e,W+=i*_e,C+=i*Le,i=e[4],d+=i*ue,g+=i*ae,y+=i*me,b+=i*ye,v+=i*ge,E+=i*he,I+=i*fe,O+=i*we,R+=i*Se,H+=i*Ae,U+=i*je,N+=i*Pe,k+=i*Oe,W+=i*$e,C+=i*_e,A+=i*Le,i=e[5],g+=i*ue,y+=i*ae,b+=i*me,v+=i*ye,E+=i*ge,I+=i*he,O+=i*fe,R+=i*we,H+=i*Se,U+=i*Ae,N+=i*je,k+=i*Pe,W+=i*Oe,C+=i*$e,A+=i*_e,V+=i*Le,i=e[6],y+=i*ue,b+=i*ae,v+=i*me,E+=i*ye,I+=i*ge,O+=i*he,R+=i*fe,H+=i*we,U+=i*Se,N+=i*Ae,k+=i*je,W+=i*Pe,C+=i*Oe,A+=i*$e,V+=i*_e,_+=i*Le,i=e[7],b+=i*ue,v+=i*ae,E+=i*me,I+=i*ye,O+=i*ge,R+=i*he,H+=i*fe,U+=i*we,N+=i*Se,k+=i*Ae,W+=i*je,C+=i*Pe,A+=i*Oe,V+=i*$e,_+=i*_e,S+=i*Le,i=e[8],v+=i*ue,E+=i*ae,I+=i*me,O+=i*ye,R+=i*ge,H+=i*he,U+=i*fe,N+=i*we,k+=i*Se,W+=i*Ae,C+=i*je,A+=i*Pe,V+=i*Oe,_+=i*$e,S+=i*_e,L+=i*Le,i=e[9],E+=i*ue,I+=i*ae,O+=i*me,R+=i*ye,H+=i*ge,U+=i*he,N+=i*fe,k+=i*we,W+=i*Se,C+=i*Ae,A+=i*je,V+=i*Pe,_+=i*Oe,S+=i*$e,L+=i*_e,B+=i*Le,i=e[10],I+=i*ue,O+=i*ae,R+=i*me,H+=i*ye,U+=i*ge,N+=i*he,k+=i*fe,W+=i*we,C+=i*Se,A+=i*Ae,V+=i*je,_+=i*Pe,S+=i*Oe,L+=i*$e,B+=i*_e,G+=i*Le,i=e[11],O+=i*ue,R+=i*ae,H+=i*me,U+=i*ye,N+=i*ge,k+=i*he,W+=i*fe,C+=i*we,A+=i*Se,V+=i*Ae,_+=i*je,S+=i*Pe,L+=i*Oe,B+=i*$e,G+=i*_e,Q+=i*Le,i=e[12],R+=i*ue,H+=i*ae,U+=i*me,N+=i*ye,k+=i*ge,W+=i*he,C+=i*fe,A+=i*we,V+=i*Se,_+=i*Ae,S+=i*je,L+=i*Pe,B+=i*Oe,G+=i*$e,Q+=i*_e,ne+=i*Le,i=e[13],H+=i*ue,U+=i*ae,N+=i*me,k+=i*ye,W+=i*ge,C+=i*he,A+=i*fe,V+=i*we,_+=i*Se,S+=i*Ae,L+=i*je,B+=i*Pe,G+=i*Oe,Q+=i*$e,ne+=i*_e,ee+=i*Le,i=e[14],U+=i*ue,N+=i*ae,k+=i*me,W+=i*ye,C+=i*ge,A+=i*he,V+=i*fe,_+=i*we,S+=i*Se,L+=i*Ae,B+=i*je,G+=i*Pe,Q+=i*Oe,ne+=i*$e,ee+=i*_e,oe+=i*Le,i=e[15],N+=i*ue,k+=i*ae,W+=i*me,C+=i*ye,A+=i*ge,V+=i*he,_+=i*fe,S+=i*we,L+=i*Se,B+=i*Ae,G+=i*je,Q+=i*Pe,ne+=i*Oe,ee+=i*$e,oe+=i*_e,Ye+=i*Le,o+=38*k,c+=38*W,u+=38*C,f+=38*A,d+=38*V,g+=38*_,y+=38*S,b+=38*L,v+=38*B,E+=38*G,I+=38*Q,O+=38*ne,R+=38*ee,H+=38*oe,U+=38*Ye,n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),r[0]=o,r[1]=c,r[2]=u,r[3]=f,r[4]=d,r[5]=g,r[6]=y,r[7]=b,r[8]=v,r[9]=E,r[10]=I,r[11]=O,r[12]=R,r[13]=H,r[14]=U,r[15]=N}function ya(r,e){Ii(r,e,e)}function D9(r,e){let t=Xr();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)ya(t,t),i!==2&&i!==4&&Ii(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function Kd(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Xr(),o=Xr(),c=Xr(),u=Xr(),f=Xr(),d=Xr();for(let v=0;v<31;v++)t[v]=r[v];t[31]=r[31]&127|64,t[0]&=248,C9(i,e);for(let v=0;v<16;v++)o[v]=i[v];n[0]=u[0]=1;for(let v=254;v>=0;--v){let E=t[v>>>3]>>>(v&7)&1;ma(n,o,E),ma(c,u,E),$l(f,n,c),Bl(n,n,c),$l(c,o,u),Bl(o,o,u),ya(u,f),ya(d,n),Ii(n,c,n),Ii(c,o,f),$l(f,n,c),Bl(n,n,c),ya(o,n),Bl(c,u,d),Ii(n,c,I9),$l(n,n,u),Ii(c,c,n),Ii(n,u,d),Ii(u,o,i),ya(o,f),ma(n,o,E),ma(c,u,E)}for(let v=0;v<16;v++)i[v+16]=n[v],i[v+32]=c[v],i[v+48]=o[v],i[v+64]=u[v];let g=i.subarray(32),y=i.subarray(16);D9(g,g),Ii(y,y,g);let b=new Uint8Array(32);return S9(b,y),b}vt.scalarMult=Kd;function Wv(r){return Kd(r,Vv)}vt.scalarMultBase=Wv;function Kv(r){if(r.length!==vt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${vt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:Wv(e),secretKey:e}}vt.generateKeyPairFromSeed=Kv;function A9(r){let e=(0,_9.randomBytes)(32,r),t=Kv(e);return(0,x9.wipe)(e),t}vt.generateKeyPair=A9;function O9(r,e,t=!1){if(r.length!==vt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==vt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=Kd(r,e);if(t){let n=0;for(let o=0;o<i.length;o++)n|=i[o];if(n===0)throw new Error("X25519: invalid shared key")}return i}vt.sharedKey=O9});function Jv(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var Yv=M(()=>{});function tn(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}var wa=M(()=>{});function Hs(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?tn(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}var kl=M(()=>{wa()});function ql(r,e){e||(e=r.reduce((n,o)=>n+o.length,0));let t=Hs(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return tn(t)}var Gd=M(()=>{kl();wa()});function Zv(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var Xv=M(()=>{});function R9(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),c=o.charCodeAt(0);if(t[c]!==255)throw new TypeError(o+" is ambiguous");t[c]=n}var u=r.length,f=r.charAt(0),d=Math.log(u)/Math.log(256),g=Math.log(256)/Math.log(u);function y(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var I=0,O=0,R=0,H=E.length;R!==H&&E[R]===0;)R++,I++;for(var U=(H-R)*g+1>>>0,N=new Uint8Array(U);R!==H;){for(var k=E[R],W=0,C=U-1;(k!==0||W<O)&&C!==-1;C--,W++)k+=256*N[C]>>>0,N[C]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");O=W,R++}for(var A=U-O;A!==U&&N[A]===0;)A++;for(var V=f.repeat(I);A<U;++A)V+=r.charAt(N[A]);return V}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var I=0;if(E[I]!==" "){for(var O=0,R=0;E[I]===f;)O++,I++;for(var H=(E.length-I)*d+1>>>0,U=new Uint8Array(H);E[I];){var N=t[E.charCodeAt(I)];if(N===255)return;for(var k=0,W=H-1;(N!==0||k<R)&&W!==-1;W--,k++)N+=u*U[W]>>>0,U[W]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");R=k,I++}if(E[I]!==" "){for(var C=H-R;C!==H&&U[C]===0;)C++;for(var A=new Uint8Array(O+(H-C)),V=O;C!==H;)A[V++]=U[C++];return A}}}function v(E){var I=b(E);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:v}}var P9,T9,Qv,eb=M(()=>{P9=R9,T9=P9,Qv=T9});var eK,tb,Si,rb,ib,rn=M(()=>{eK=new Uint8Array(0),tb=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Si=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},rb=r=>new TextEncoder().encode(r),ib=r=>new TextDecoder().decode(r)});var sb,ob,ab,cb,lb,zs,nn,N9,L9,bt,zr=M(()=>{eb();rn();sb=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ob=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return cb(this,e)}},ab=class{constructor(e){this.decoders=e}or(e){return cb(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},cb=(r,e)=>new ab({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),lb=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new sb(e,t,i),this.decoder=new ob(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},zs=({name:r,prefix:e,encode:t,decode:i})=>new lb(r,e,t,i),nn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=Qv(t,e);return zs({prefix:r,name:e,encode:i,decode:o=>Si(n(o))})},N9=(r,e,t,i)=>{let n={};for(let g=0;g<e.length;++g)n[e[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;let c=new Uint8Array(o*t/8|0),u=0,f=0,d=0;for(let g=0;g<o;++g){let y=n[r[g]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<t|y,u+=t,u>=8&&(u-=8,c[d++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},L9=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,o="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,o+=e[n&u>>c];if(c&&(o+=e[n&u<<t-c]),i)for(;o.length*t&7;)o+="=";return o},bt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>zs({prefix:e,name:r,encode(n){return L9(n,i,t)},decode(n){return N9(n,i,t,r)}})});var Jd={};nt(Jd,{identity:()=>U9});var U9,ub=M(()=>{zr();rn();U9=zs({prefix:"\0",name:"identity",encode:r=>ib(r),decode:r=>rb(r)})});var Yd={};nt(Yd,{base2:()=>M9});var M9,hb=M(()=>{zr();M9=bt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Zd={};nt(Zd,{base8:()=>j9});var j9,fb=M(()=>{zr();j9=bt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Xd={};nt(Xd,{base10:()=>F9});var F9,db=M(()=>{zr();F9=nn({prefix:"9",name:"base10",alphabet:"0123456789"})});var Qd={};nt(Qd,{base16:()=>$9,base16upper:()=>B9});var $9,B9,pb=M(()=>{zr();$9=bt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B9=bt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var ep={};nt(ep,{base32:()=>Vs,base32hex:()=>z9,base32hexpad:()=>W9,base32hexpadupper:()=>K9,base32hexupper:()=>V9,base32pad:()=>q9,base32padupper:()=>H9,base32upper:()=>k9,base32z:()=>G9});var Vs,k9,q9,H9,z9,V9,W9,K9,G9,tp=M(()=>{zr();Vs=bt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k9=bt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q9=bt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),H9=bt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),z9=bt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),V9=bt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W9=bt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),K9=bt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),G9=bt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var rp={};nt(rp,{base36:()=>J9,base36upper:()=>Y9});var J9,Y9,gb=M(()=>{zr();J9=nn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y9=nn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var ip={};nt(ip,{base58btc:()=>Qr,base58flickr:()=>Z9});var Qr,Z9,np=M(()=>{zr();Qr=nn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Z9=nn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var sp={};nt(sp,{base64:()=>X9,base64pad:()=>Q9,base64url:()=>eN,base64urlpad:()=>tN});var X9,Q9,eN,tN,mb=M(()=>{zr();X9=bt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q9=bt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eN=bt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tN=bt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var op={};nt(op,{base256emoji:()=>oN});function nN(r){return r.reduce((e,t)=>(e+=rN[t],e),"")}function sN(r){let e=[];for(let t of r){let i=iN[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var yb,rN,iN,oN,wb=M(()=>{zr();yb=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),rN=yb.reduce((r,e,t)=>(r[t]=e,r),[]),iN=yb.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);oN=zs({prefix:"\u{1F680}",name:"base256emoji",encode:nN,decode:sN})});function bb(r,e,t){e=e||[],t=t||0;for(var i=t;r>=uN;)e[t++]=r&255|vb,r/=128;for(;r&lN;)e[t++]=r&255|vb,r>>>=7;return e[t]=r|0,bb.bytes=t-i+1,e}function ap(r,e){var t=0,e=e||0,i=0,n=e,o,c=r.length;do{if(n>=c)throw ap.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=i<28?(o&Eb)<<i:(o&Eb)*Math.pow(2,i),i+=7}while(o>=fN);return ap.bytes=n-e,t}var aN,vb,cN,lN,uN,hN,fN,Eb,dN,pN,gN,mN,yN,wN,vN,bN,EN,_N,xN,IN,va,_b=M(()=>{aN=bb,vb=128,cN=127,lN=~cN,uN=Math.pow(2,31);hN=ap,fN=128,Eb=127;dN=Math.pow(2,7),pN=Math.pow(2,14),gN=Math.pow(2,21),mN=Math.pow(2,28),yN=Math.pow(2,35),wN=Math.pow(2,42),vN=Math.pow(2,49),bN=Math.pow(2,56),EN=Math.pow(2,63),_N=function(r){return r<dN?1:r<pN?2:r<gN?3:r<mN?4:r<yN?5:r<wN?6:r<vN?7:r<bN?8:r<EN?9:10},xN={encode:aN,decode:hN,encodingLength:_N},IN=xN,va=IN});var ba,Ws,Ks,Hl=M(()=>{_b();ba=(r,e=0)=>[va.decode(r,e),va.decode.bytes],Ws=(r,e,t=0)=>(va.encode(r,e,t),e),Ks=r=>va.encodingLength(r)});var Vn,Ib,Sb,Ea,_a=M(()=>{rn();Hl();Vn=(r,e)=>{let t=e.byteLength,i=Ks(r),n=i+Ks(t),o=new Uint8Array(n+t);return Ws(r,o,0),Ws(t,o,i),o.set(e,n),new Ea(r,t,e,o)},Ib=r=>{let e=Si(r),[t,i]=ba(e),[n,o]=ba(e.subarray(i)),c=e.subarray(i+o);if(c.byteLength!==n)throw new Error("Incorrect length");return new Ea(t,n,c,e)},Sb=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&tb(r.bytes,e.bytes),Ea=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var cp,Db,lp=M(()=>{_a();cp=({name:r,code:e,encode:t})=>new Db(r,e,t),Db=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Vn(this.code,t):t.then(i=>Vn(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var up={};nt(up,{sha256:()=>SN,sha512:()=>CN});var Ob,SN,CN,Rb=M(()=>{lp();Ob=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),SN=cp({name:"sha2-256",code:18,encode:Ob("SHA-256")}),CN=cp({name:"sha2-512",code:19,encode:Ob("SHA-512")})});var hp={};nt(hp,{identity:()=>ON});var Pb,DN,Tb,AN,ON,Nb=M(()=>{rn();_a();Pb=0,DN="identity",Tb=Si,AN=r=>Vn(Pb,Tb(r)),ON={code:Pb,name:DN,encode:Tb,digest:AN}});var Lb=M(()=>{rn()});var IK,SK,Ub=M(()=>{IK=new TextEncoder,SK=new TextDecoder});var Nt,TN,NN,LN,xa,UN,Mb,jb,zl,Vl,MN,jN,FN,Fb=M(()=>{Hl();_a();np();tp();rn();Nt=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Vl,byteLength:Vl,code:zl,version:zl,multihash:zl,bytes:zl,_baseCache:Vl,asCID:Vl})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==xa)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==UN)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Nt.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=Vn(e,t);return Nt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Sb(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return NN(t,n,e||Qr.encoder);default:return LN(t,n,e||Vs.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return jN(/^0\.0/,FN),!!(e&&(e[jb]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Nt)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:o}=e;return new Nt(t,i,n,o||Mb(t,i,n.bytes))}else if(e!=null&&e[jb]===!0){let{version:t,multihash:i,code:n}=e,o=Ib(i);return Nt.create(t,n,o)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==xa)throw new Error(`Version 0 CID must use dag-pb (code: ${xa}) block encoding`);return new Nt(e,t,i,i.bytes)}case 1:{let n=Mb(e,t,i.bytes);return new Nt(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Nt.create(0,xa,e)}static createV1(e,t){return Nt.create(1,e,t)}static decode(e){let[t,i]=Nt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Nt.inspectBytes(e),i=t.size-t.multihashSize,n=Si(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),c=new Ea(t.multihashCode,t.digestSize,o,n);return[t.version===0?Nt.createV0(c):Nt.createV1(t.codec,c),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[y,b]=ba(e.subarray(t));return t+=b,y},n=i(),o=xa;if(n===18?(n=0,t=0):n===1&&(o=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let c=t,u=i(),f=i(),d=t+f,g=d-c;return{version:n,codec:o,multihashCode:u,digestSize:f,multihashSize:g,size:d}}static parse(e,t){let[i,n]=TN(e,t),o=Nt.decode(n);return o._baseCache.set(i,e),o}},TN=(r,e)=>{switch(r[0]){case"Q":{let t=e||Qr;return[Qr.prefix,t.decode(`${Qr.prefix}${r}`)]}case Qr.prefix:{let t=e||Qr;return[Qr.prefix,t.decode(r)]}case Vs.prefix:{let t=e||Vs;return[Vs.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},NN=(r,e,t)=>{let{prefix:i}=t;if(i!==Qr.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let o=t.encode(r).slice(1);return e.set(i,o),o}else return n},LN=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let o=t.encode(r);return e.set(i,o),o}else return n},xa=112,UN=18,Mb=(r,e,t)=>{let i=Ks(r),n=i+Ks(e),o=new Uint8Array(n+t.byteLength);return Ws(r,o,0),Ws(e,o,i),o.set(t,n),o},jb=Symbol.for("@ipld/js-cid/CID"),zl={writable:!1,configurable:!1,enumerable:!0},Vl={writable:!1,enumerable:!1,configurable:!1},MN="0.0.0-dev",jN=(r,e)=>{if(r.test(MN))console.warn(e);else throw new Error(e)},FN=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var $b=M(()=>{Fb();Hl();rn();lp();_a()});var fp,UK,Bb=M(()=>{ub();hb();fb();db();pb();tp();gb();np();mb();wb();Rb();Nb();Lb();Ub();$b();fp={...Jd,...Yd,...Zd,...Xd,...Qd,...ep,...rp,...ip,...sp,...op},UK={...up,...hp}});function kb(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var qb,dp,$N,Wl,pp=M(()=>{Bb();kl();qb=kb("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),dp=kb("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=Hs(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),$N={utf8:qb,"utf-8":qb,hex:fp.base16,latin1:dp,ascii:dp,binary:dp,...fp},Wl=$N});function ei(r,e="utf8"){let t=Wl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?tn(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var gp=M(()=>{pp();wa()});function Ci(r,e="utf8"){let t=Wl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var mp=M(()=>{pp()});function Hb(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=Hs(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return tn(t)}var zb=M(()=>{kl();wa()});var yp={};nt(yp,{compare:()=>Jv,concat:()=>ql,equals:()=>Zv,fromString:()=>ei,toString:()=>Ci,xor:()=>Hb});var wp=M(()=>{Yv();Gd();Xv();gp();mp();zb()});var r2=Z(ht=>{"use strict";var Vb=ht&&ht.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ht,"__esModule",{value:!0});ht.getNodeVersion=ht.detectOS=ht.parseUserAgent=ht.browserName=ht.detect=ht.ReactNativeInfo=ht.BotInfo=ht.SearchBotDeviceInfo=ht.NodeInfo=ht.BrowserInfo=void 0;var Wb=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();ht.BrowserInfo=Wb;var Kb=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}();ht.NodeInfo=Kb;var Gb=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();ht.SearchBotDeviceInfo=Gb;var Jb=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();ht.BotInfo=Jb;var Yb=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();ht.ReactNativeInfo=Yb;var BN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,kN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Zb=3,qN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",BN]],Xb=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function HN(r){return r?vp(r):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Yb:typeof navigator!="undefined"?vp(navigator.userAgent):t2()}ht.detect=HN;function Qb(r){return r!==""&&qN.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var o=n.exec(r);return!!o&&[i,o]},!1)}function zN(r){var e=Qb(r);return e?e[0]:null}ht.browserName=zN;function vp(r){var e=Qb(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new Jb;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Zb&&(n=Vb(Vb([],n,!0),VN(Zb-n.length),!0)):n=[];var o=n.join("."),c=e2(r),u=kN.exec(r);return u&&u[1]?new Gb(t,o,c,u[1]):new Wb(t,o,c)}ht.parseUserAgent=vp;function e2(r){for(var e=0,t=Xb.length;e<t;e++){var i=Xb[e],n=i[0],o=i[1],c=o.exec(r);if(c)return n}return null}ht.detectOS=e2;function t2(){var r=typeof process!="undefined"&&process.version;return r?new Kb(process.version.slice(1)):null}ht.getNodeVersion=t2;function VN(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var yr={};nt(yr,{__addDisposableResource:()=>x2,__assign:()=>Kl,__asyncDelegator:()=>g2,__asyncGenerator:()=>p2,__asyncValues:()=>m2,__await:()=>Gs,__awaiter:()=>c2,__classPrivateFieldGet:()=>b2,__classPrivateFieldIn:()=>_2,__classPrivateFieldSet:()=>E2,__createBinding:()=>Gl,__decorate:()=>s2,__disposeResources:()=>I2,__esDecorate:()=>WN,__exportStar:()=>u2,__extends:()=>i2,__generator:()=>l2,__importDefault:()=>v2,__importStar:()=>w2,__makeTemplateObject:()=>y2,__metadata:()=>a2,__param:()=>o2,__propKey:()=>GN,__read:()=>Ep,__rest:()=>n2,__runInitializers:()=>KN,__setFunctionName:()=>JN,__spread:()=>h2,__spreadArray:()=>d2,__spreadArrays:()=>f2,__values:()=>Jl,default:()=>XN});function i2(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function n2(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function s2(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(o=(n<3?c(o):n>3?c(e,t,o):c(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o}function o2(r,e){return function(t,i){e(t,i,r)}}function WN(r,e,t,i,n,o){function c(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var u=i.kind,f=u==="getter"?"get":u==="setter"?"set":"value",d=!e&&r?i.static?r:r.prototype:null,g=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),y,b=!1,v=t.length-1;v>=0;v--){var E={};for(var I in i)E[I]=I==="access"?{}:i[I];for(var I in i.access)E.access[I]=i.access[I];E.addInitializer=function(R){if(b)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(R||null))};var O=(0,t[v])(u==="accessor"?{get:g.get,set:g.set}:g[f],E);if(u==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(y=c(O.get))&&(g.get=y),(y=c(O.set))&&(g.set=y),(y=c(O.init))&&n.unshift(y)}else(y=c(O))&&(u==="field"?n.unshift(y):g[f]=y)}d&&Object.defineProperty(d,i.name,g),b=!0}function KN(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0}function GN(r){return typeof r=="symbol"?r:"".concat(r)}function JN(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function a2(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function c2(r,e,t,i){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function u(g){try{d(i.next(g))}catch(y){c(y)}}function f(g){try{d(i.throw(g))}catch(y){c(y)}}function d(g){g.done?o(g.value):n(g.value).then(u,f)}d((i=i.apply(r,e||[])).next())})}function l2(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(o=d[0]&2?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(g){d=[6,g],n=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function u2(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gl(e,r,t)}function Jl(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ep(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(u){c={error:u}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return o}function h2(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Ep(arguments[e]));return r}function f2(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,n++)i[n]=o[c];return i}function d2(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))}function Gs(r){return this instanceof Gs?(this.v=r,this):new Gs(r)}function p2(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,o=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(b){i[b]&&(n[b]=function(v){return new Promise(function(E,I){o.push([b,v,E,I])>1||u(b,v)})})}function u(b,v){try{f(i[b](v))}catch(E){y(o[0][3],E)}}function f(b){b.value instanceof Gs?Promise.resolve(b.value.v).then(d,g):y(o[0][2],b)}function d(b){u("next",b)}function g(b){u("throw",b)}function y(b,v){b(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function g2(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,o){e[n]=r[n]?function(c){return(t=!t)?{value:Gs(r[n](c)),done:!1}:o?o(c):c}:o}}function m2(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Jl=="function"?Jl(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(c){return new Promise(function(u,f){c=r[o](c),n(u,f,c.done,c.value)})}}function n(o,c,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},c)}}function y2(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function w2(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gl(e,r,t);return YN(e,r),e}function v2(r){return r&&r.__esModule?r:{default:r}}function b2(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function E2(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t}function _2(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function x2(r,e,t){if(e!=null){if(typeof e!="object")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}function I2(r){function e(i){r.error=r.hasError?new ZN(i,r.error,"An error was suppressed during disposal."):i,r.hasError=!0}function t(){for(;r.stack.length;){var i=r.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(t,function(o){return e(o),t()})}catch(o){e(o)}}if(r.hasError)throw r.error}return t()}var bp,Kl,Gl,YN,ZN,XN,wr=M(()=>{bp=function(r,e){return bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},bp(r,e)};Kl=function(){return Kl=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kl.apply(this,arguments)};Gl=Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]};YN=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e};ZN=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};XN={__extends:i2,__assign:Kl,__rest:n2,__decorate:s2,__param:o2,__metadata:a2,__awaiter:c2,__generator:l2,__createBinding:Gl,__exportStar:u2,__values:Jl,__read:Ep,__spread:h2,__spreadArrays:f2,__spreadArray:d2,__await:Gs,__asyncGenerator:p2,__asyncDelegator:g2,__asyncValues:m2,__makeTemplateObject:y2,__importStar:w2,__importDefault:v2,__classPrivateFieldGet:b2,__classPrivateFieldSet:E2,__classPrivateFieldIn:_2,__addDisposableResource:x2,__disposeResources:I2}});var S2=Z(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.delay=void 0;function QN(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}Yl.delay=QN});var C2=Z(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.ONE_THOUSAND=Js.ONE_HUNDRED=void 0;Js.ONE_HUNDRED=100;Js.ONE_THOUSAND=1e3});var D2=Z(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.ONE_YEAR=ie.FOUR_WEEKS=ie.THREE_WEEKS=ie.TWO_WEEKS=ie.ONE_WEEK=ie.THIRTY_DAYS=ie.SEVEN_DAYS=ie.FIVE_DAYS=ie.THREE_DAYS=ie.ONE_DAY=ie.TWENTY_FOUR_HOURS=ie.TWELVE_HOURS=ie.SIX_HOURS=ie.THREE_HOURS=ie.ONE_HOUR=ie.SIXTY_MINUTES=ie.THIRTY_MINUTES=ie.TEN_MINUTES=ie.FIVE_MINUTES=ie.ONE_MINUTE=ie.SIXTY_SECONDS=ie.THIRTY_SECONDS=ie.TEN_SECONDS=ie.FIVE_SECONDS=ie.ONE_SECOND=void 0;ie.ONE_SECOND=1;ie.FIVE_SECONDS=5;ie.TEN_SECONDS=10;ie.THIRTY_SECONDS=30;ie.SIXTY_SECONDS=60;ie.ONE_MINUTE=ie.SIXTY_SECONDS;ie.FIVE_MINUTES=ie.ONE_MINUTE*5;ie.TEN_MINUTES=ie.ONE_MINUTE*10;ie.THIRTY_MINUTES=ie.ONE_MINUTE*30;ie.SIXTY_MINUTES=ie.ONE_MINUTE*60;ie.ONE_HOUR=ie.SIXTY_MINUTES;ie.THREE_HOURS=ie.ONE_HOUR*3;ie.SIX_HOURS=ie.ONE_HOUR*6;ie.TWELVE_HOURS=ie.ONE_HOUR*12;ie.TWENTY_FOUR_HOURS=ie.ONE_HOUR*24;ie.ONE_DAY=ie.TWENTY_FOUR_HOURS;ie.THREE_DAYS=ie.ONE_DAY*3;ie.FIVE_DAYS=ie.ONE_DAY*5;ie.SEVEN_DAYS=ie.ONE_DAY*7;ie.THIRTY_DAYS=ie.ONE_DAY*30;ie.ONE_WEEK=ie.SEVEN_DAYS;ie.TWO_WEEKS=ie.ONE_WEEK*2;ie.THREE_WEEKS=ie.ONE_WEEK*3;ie.FOUR_WEEKS=ie.ONE_WEEK*4;ie.ONE_YEAR=ie.ONE_DAY*365});var _p=Z(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var A2=(wr(),yr);A2.__exportStar(C2(),Zl);A2.__exportStar(D2(),Zl)});var R2=Z(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.fromMiliseconds=Ys.toMiliseconds=void 0;var O2=_p();function eL(r){return r*O2.ONE_THOUSAND}Ys.toMiliseconds=eL;function tL(r){return Math.floor(r/O2.ONE_THOUSAND)}Ys.fromMiliseconds=tL});var T2=Z(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var P2=(wr(),yr);P2.__exportStar(S2(),Xl);P2.__exportStar(R2(),Xl)});var N2=Z(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Watch=void 0;var xp=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed!="undefined")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t=="undefined")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};Ia.Watch=xp;Ia.default=xp});var U2=Z(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.IWatch=void 0;var L2=class{};Ql.IWatch=L2});var M2=Z(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var rL=(wr(),yr);rL.__exportStar(U2(),Ip)});var Wn=Z(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var eu=(wr(),yr);eu.__exportStar(T2(),Zs);eu.__exportStar(N2(),Zs);eu.__exportStar(M2(),Zs);eu.__exportStar(_p(),Zs)});var Sp=Z(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.getLocalStorage=st.getLocalStorageOrThrow=st.getCrypto=st.getCryptoOrThrow=st.getLocation=st.getLocationOrThrow=st.getNavigator=st.getNavigatorOrThrow=st.getDocument=st.getDocumentOrThrow=st.getFromWindowOrThrow=st.getFromWindow=void 0;function Kn(r){let e;return typeof window!="undefined"&&typeof window[r]!="undefined"&&(e=window[r]),e}st.getFromWindow=Kn;function Xs(r){let e=Kn(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}st.getFromWindowOrThrow=Xs;function iL(){return Xs("document")}st.getDocumentOrThrow=iL;function nL(){return Kn("document")}st.getDocument=nL;function sL(){return Xs("navigator")}st.getNavigatorOrThrow=sL;function oL(){return Kn("navigator")}st.getNavigator=oL;function aL(){return Xs("location")}st.getLocationOrThrow=aL;function cL(){return Kn("location")}st.getLocation=cL;function lL(){return Xs("crypto")}st.getCryptoOrThrow=lL;function uL(){return Kn("crypto")}st.getCrypto=uL;function hL(){return Xs("localStorage")}st.getLocalStorageOrThrow=hL;function fL(){return Kn("localStorage")}st.getLocalStorage=fL});var F2=Z(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.getWindowMetadata=void 0;var j2=Sp();function dL(){let r,e;try{r=j2.getDocumentOrThrow(),e=j2.getLocationOrThrow()}catch{return null}function t(){let y=r.getElementsByTagName("link"),b=[];for(let v=0;v<y.length;v++){let E=y[v],I=E.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){let O=E.getAttribute("href");if(O)if(O.toLowerCase().indexOf("https:")===-1&&O.toLowerCase().indexOf("http:")===-1&&O.indexOf("//")!==0){let R=e.protocol+"//"+e.host;if(O.indexOf("/")===0)R+=O;else{let H=e.pathname.split("/");H.pop(),R+=H.join("/")+"/"+O}b.push(R)}else if(O.indexOf("//")===0){let R=e.protocol+O;b.push(R)}else b.push(O)}}return b}function i(...y){let b=r.getElementsByTagName("meta");for(let v=0;v<b.length;v++){let E=b[v],I=["itemprop","property","name"].map(O=>E.getAttribute(O)).filter(O=>O?y.includes(O):!1);if(I.length&&I){let O=E.getAttribute("content");if(O)return O}}return""}function n(){let y=i("name","og:site_name","og:title","twitter:title");return y||(y=r.title),y}function o(){return i("description","og:description","twitter:description","keywords")}let c=n(),u=o(),f=e.origin,d=t();return{description:u,url:f,icons:d,name:c}}tu.getWindowMetadata=dL});var B2=Z((dG,$2)=>{"use strict";$2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var V2=Z((pG,z2)=>{"use strict";var k2="%[a-f0-9]{2}",q2=new RegExp("("+k2+")|([^%]+?)","gi"),H2=new RegExp("("+k2+")+","gi");function Cp(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],Cp(t),Cp(i))}function pL(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(q2)||[],t=1;t<e.length;t++)r=Cp(e,t).join(""),e=r.match(q2)||[];return r}}function gL(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=H2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=pL(t[0]);i!==t[0]&&(e[t[0]]=i)}t=H2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),o=0;o<n.length;o++){var c=n[o];r=r.replace(new RegExp(c,"g"),e[c])}return r}z2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return gL(r)}}});var K2=Z((gG,W2)=>{"use strict";W2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var J2=Z((mG,G2)=>{"use strict";G2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),o=0;o<i.length;o++){var c=i[o],u=r[c];(n?e.indexOf(c)!==-1:e(c,u,r))&&(t[c]=u)}return t}});var iE=Z(ar=>{"use strict";var mL=B2(),yL=V2(),Y2=K2(),wL=J2(),vL=r=>r==null,Dp=Symbol("encodeFragmentIdentifier");function bL(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),"[",n,"]"].join("")]:[...t,[xt(e,r),"[",xt(n,r),"]=",xt(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),"[]"].join("")]:[...t,[xt(e,r),"[]=",xt(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),":list="].join("")]:[...t,[xt(e,r),":list=",xt(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[xt(t,r),e,xt(n,r)].join("")]:[[i,xt(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,xt(e,r)]:[...t,[xt(e,r),"=",xt(i,r)].join("")]}}function EL(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let o=typeof i=="string"&&i.includes(r.arrayFormatSeparator),c=typeof i=="string"&&!o&&Di(i,r).includes(r.arrayFormatSeparator);i=c?Di(i,r):i;let u=o||c?i.split(r.arrayFormatSeparator).map(f=>Di(f,r)):i===null?i:Di(i,r);n[t]=u};case"bracket-separator":return(t,i,n)=>{let o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o){n[t]=i&&Di(i,r);return}let c=i===null?[]:i.split(r.arrayFormatSeparator).map(u=>Di(u,r));if(n[t]===void 0){n[t]=c;return}n[t]=[].concat(n[t],c)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function Z2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function xt(r,e){return e.encode?e.strict?mL(r):encodeURIComponent(r):r}function Di(r,e){return e.decode?yL(r):r}function X2(r){return Array.isArray(r)?r.sort():typeof r=="object"?X2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function Q2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function _L(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function eE(r){r=Q2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function tE(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function rE(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),Z2(e.arrayFormatSeparator);let t=EL(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[o,c]=Y2(e.decode?n.replace(/\+/g," "):n,"=");c=c===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?c:Di(c,e),t(Di(o,e),c,i)}for(let n of Object.keys(i)){let o=i[n];if(typeof o=="object"&&o!==null)for(let c of Object.keys(o))o[c]=tE(o[c],e);else i[n]=tE(o,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,o)=>{let c=i[o];return Boolean(c)&&typeof c=="object"&&!Array.isArray(c)?n[o]=X2(c):n[o]=c,n},Object.create(null))}ar.extract=eE;ar.parse=rE;ar.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),Z2(e.arrayFormatSeparator);let t=c=>e.skipNull&&vL(r[c])||e.skipEmptyString&&r[c]==="",i=bL(e),n={};for(let c of Object.keys(r))t(c)||(n[c]=r[c]);let o=Object.keys(n);return e.sort!==!1&&o.sort(e.sort),o.map(c=>{let u=r[c];return u===void 0?"":u===null?xt(c,e):Array.isArray(u)?u.length===0&&e.arrayFormat==="bracket-separator"?xt(c,e)+"[]":u.reduce(i(c),[]).join("&"):xt(c,e)+"="+xt(u,e)}).filter(c=>c.length>0).join("&")};ar.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=Y2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:rE(eE(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Di(i,e)}:{})};ar.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[Dp]:!0},e);let t=Q2(r.url).split("?")[0]||"",i=ar.extract(r.url),n=ar.parse(i,{sort:!1}),o=Object.assign(n,r.query),c=ar.stringify(o,e);c&&(c=`?${c}`);let u=_L(r.url);return r.fragmentIdentifier&&(u=`#${e[Dp]?xt(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${c}${u}`};ar.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[Dp]:!1},t);let{url:i,query:n,fragmentIdentifier:o}=ar.parseUrl(r,t);return ar.stringifyUrl({url:i,query:wL(n,e),fragmentIdentifier:o},t)};ar.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,o)=>!e(n,o);return ar.pick(r,i,t)}});var nE=M(()=>{});function sn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function xL(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function IL(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function SL(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function Sa(r,e,t){return(!t.length?IL(r,e.length):SL(r,e.length))?xL(r,e):!1}function Ca(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var Ap=M(()=>{});function CL(r){return ru(r.method)&&iu(r.params)}function ru(r){return Ca(r,"subscribe")}function iu(r){return Sa(r,["topic"],[])}function DL(r){return nu(r.method)&&su(r.params)}function nu(r){return Ca(r,"publish")}function su(r){return Sa(r,["message","topic","ttl"],["prompt","tag"])}function AL(r){return ou(r.method)&&au(r.params)}function ou(r){return Ca(r,"unsubscribe")}function au(r){return Sa(r,["id","topic"],[])}function OL(r){return cu(r.method)&&lu(r.params)}function cu(r){return Ca(r,"subscription")}function lu(r){return Sa(r,["id","data"],[])}var Op=M(()=>{Ap()});function RL(r){if(!ru(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!iu(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return sn(e,"topic"),e}function PL(r){if(!nu(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!su(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return sn(e,"topic"),sn(e,"message"),sn(e,"ttl","number"),e}function TL(r){if(!ou(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!au(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return sn(e,"id"),e}function NL(r){if(!cu(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!lu(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return sn(e,"id"),sn(e,"data"),e}var sE=M(()=>{Ap();Op()});var LL,oE=M(()=>{LL={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var aE={};nt(aE,{RELAY_JSONRPC:()=>LL,isPublishMethod:()=>nu,isPublishParams:()=>su,isPublishRequest:()=>DL,isSubscribeMethod:()=>ru,isSubscribeParams:()=>iu,isSubscribeRequest:()=>CL,isSubscriptionMethod:()=>cu,isSubscriptionParams:()=>lu,isSubscriptionRequest:()=>OL,isUnsubscribeMethod:()=>ou,isUnsubscribeParams:()=>au,isUnsubscribeRequest:()=>AL,parsePublishRequest:()=>PL,parseSubscribeRequest:()=>RL,parseSubscriptionRequest:()=>NL,parseUnsubscribeRequest:()=>TL});var cE=M(()=>{nE();sE();oE();Op()});var Ra=Z(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});var lE=Sv(),UL=Pv(),uE=ga(),Rp=zv(),ML=Gv(),ft=(wp(),yp),jL=r2(),Qs=Wn(),Da=Sp(),FL=F2(),$L=iE(),BL=(cE(),aE);function hE(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var fE=hE(ML),uu=hE($L),hu=":";function dE(r){let[e,t]=r.split(hu);return{namespace:e,reference:t}}function pE(r){let{namespace:e,reference:t}=r;return[e,t].join(hu)}function Pp(r){let[e,t,i]=r.split(hu);return{namespace:e,reference:t,address:i}}function gE(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(hu)}function Tp(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function mE(r){let{address:e}=Pp(r);return e}function yE(r){let{namespace:e,reference:t}=Pp(r);return pE({namespace:e,reference:t})}function kL(r,e){let{namespace:t,reference:i}=dE(e);return gE({namespace:t,reference:i,address:r})}function qL(r){return Tp(r,mE)}function wE(r){return Tp(r,yE)}function HL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function zL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...wE(n.accounts))}),t}function VL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...fu(i,n))}),t}function fu(r,e){return r.includes(":")?[r]:e.chains||[]}var du=r=>r?.split(":"),vE=r=>{let e=r&&du(r);if(e)return e[3]},WL=r=>{let e=r&&du(r);if(e)return e[2]+":"+e[3]},bE=r=>{let e=r&&du(r);if(e)return e.pop()},KL=(r,e)=>{let t=`${r.domain} wants you to sign in with your Ethereum account:`,i=bE(e),n=r.statement,o=`URI: ${r.aud}`,c=`Version: ${r.version}`,u=`Chain ID: ${vE(e)}`,f=`Nonce: ${r.nonce}`,d=`Issued At: ${r.iat}`,g=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(y=>`- ${y}`).join(`
`)}`:void 0;return[t,i,"",n,"",o,c,u,f,d,g].filter(y=>y!=null).join(`
`)},Np="base10",Zt="base16",pu="base64pad",gu="utf8",Lp=0,eo=1,GL=0,EE=1,Up=12,Mp=32;function JL(){let r=fE.generateKeyPair();return{privateKey:ft.toString(r.secretKey,Zt),publicKey:ft.toString(r.publicKey,Zt)}}function YL(){let r=uE.randomBytes(Mp);return ft.toString(r,Zt)}function ZL(r,e){let t=fE.sharedKey(ft.fromString(r,Zt),ft.fromString(e,Zt)),i=new UL.HKDF(Rp.SHA256,t).expand(Mp);return ft.toString(i,Zt)}function XL(r){let e=Rp.hash(ft.fromString(r,Zt));return ft.toString(e,Zt)}function QL(r){let e=Rp.hash(ft.fromString(r,gu));return ft.toString(e,Zt)}function _E(r){return ft.fromString(`${r}`,Np)}function Aa(r){return Number(ft.toString(r,Np))}function eU(r){let e=_E(typeof r.type<"u"?r.type:Lp);if(Aa(e)===eo&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?ft.fromString(r.senderPublicKey,Zt):void 0,i=typeof r.iv<"u"?ft.fromString(r.iv,Zt):uE.randomBytes(Up),n=new lE.ChaCha20Poly1305(ft.fromString(r.symKey,Zt)).seal(i,ft.fromString(r.message,gu));return xE({type:e,sealed:n,iv:i,senderPublicKey:t})}function tU(r){let e=new lE.ChaCha20Poly1305(ft.fromString(r.symKey,Zt)),{sealed:t,iv:i}=jp(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return ft.toString(n,gu)}function xE(r){if(Aa(r.type)===eo){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ft.toString(ft.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),pu)}return ft.toString(ft.concat([r.type,r.iv,r.sealed]),pu)}function jp(r){let e=ft.fromString(r,pu),t=e.slice(GL,EE),i=EE;if(Aa(t)===eo){let u=i+Mp,f=u+Up,d=e.slice(i,u),g=e.slice(u,f),y=e.slice(f);return{type:t,sealed:y,iv:g,senderPublicKey:d}}let n=i+Up,o=e.slice(i,n),c=e.slice(n);return{type:t,sealed:c,iv:o}}function rU(r,e){let t=jp(r);return IE({type:Aa(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?ft.toString(t.senderPublicKey,Zt):void 0,receiverPublicKey:e?.receiverPublicKey})}function IE(r){let e=r?.type||Lp;if(e===eo){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function iU(r){return r.type===eo&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var nU=Object.defineProperty,SE=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,CE=(r,e,t)=>e in r?nU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DE=(r,e)=>{for(var t in e||(e={}))sU.call(e,t)&&CE(r,t,e[t]);if(SE)for(var t of SE(e))oU.call(e,t)&&CE(r,t,e[t]);return r},AE="ReactNative",on={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},mu=" ",aU=":",OE="/",Fp=2,cU=1e3,RE="js";function $p(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function PE(){return!Da.getDocument()&&!!Da.getNavigator()&&navigator.product===AE}function TE(){return!$p()&&!!Da.getNavigator()}function yu(){return PE()?on.reactNative:$p()?on.node:TE()?on.browser:on.unknown}function NE(r,e){let t=uu.parse(r);return t=DE(DE({},t),e),r=uu.stringify(t),r}function lU(){return FL.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function uU(r,e){var t;let i=yu(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=Da.getLocation())==null?void 0:t.host)||"unknown"),n}function LE(){if(typeof(global==null?void 0:global.Platform)<"u"){let{OS:t,Version:i}=global.Platform;return[t,i].join("-")}let r=jL.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function UE(){var r;let e=yu();return e===on.browser?[e,((r=Da.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function ME(r,e,t){let i=LE(),n=UE();return[[r,e].join("-"),[RE,t].join("-"),i,n].join("/")}function hU({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:o,useOnCloseEvent:c}){let u=t.split("?"),f=ME(r,e,i),d={auth:n,ua:f,projectId:o,useOnCloseEvent:c||void 0},g=NE(u[1]||"",d);return u[0]+"?"+g}function fU(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function dU(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function jE(r,e=Fp){return FE(r.split(OE),e)}function pU(r){return jE(r).join(mu)}function an(r,e){return r.filter(t=>e.includes(t)).length===r.length}function FE(r,e=Fp){return r.slice(Math.max(r.length-e,0))}function gU(r){return Object.fromEntries(r.entries())}function mU(r){return new Map(Object.entries(r))}function yU(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var wU=r=>r;function $E(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function vU(r){return r.split(mu).map(e=>$E(e)).join(mu)}function bU(r=Qs.FIVE_MINUTES,e){let t=Qs.toMiliseconds(r||Qs.FIVE_MINUTES),i,n,o;return{resolve:c=>{o&&i&&(clearTimeout(o),i(c))},reject:c=>{o&&n&&(clearTimeout(o),n(c))},done:()=>new Promise((c,u)=>{o=setTimeout(()=>{u(new Error(e))},t),i=c,n=u})}}function EU(r,e,t){return new Promise(async(i,n)=>{let o=setTimeout(()=>n(new Error(t)),e);try{let c=await r;i(c)}catch(c){n(c)}clearTimeout(o)})}function Bp(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function _U(r){return Bp("topic",r)}function xU(r){return Bp("id",r)}function IU(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function SU(r,e){return Qs.fromMiliseconds((e||Date.now())+Qs.toMiliseconds(r))}function CU(r){return Date.now()>=Qs.toMiliseconds(r)}function DU(r,e){return`${r}${e?`:${e}`:""}`}function cn(r=[],e=[]){return[...new Set([...r,...e])]}async function AU({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let n=(typeof t=="string"?JSON.parse(t):t)?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));let o=`${n}/wc?requestId=${r}&sessionTopic=${e}`,c=yu();c===on.browser?window.open(o,"_self","noreferrer noopener"):c===on.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}var BE="irn";function OU(r){return r?.relay||{protocol:BE}}function RU(r){let e=BL.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var PU=Object.defineProperty,kE=Object.getOwnPropertySymbols,TU=Object.prototype.hasOwnProperty,NU=Object.prototype.propertyIsEnumerable,qE=(r,e,t)=>e in r?PU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LU=(r,e)=>{for(var t in e||(e={}))TU.call(e,t)&&qE(r,t,e[t]);if(kE)for(var t of kE(e))NU.call(e,t)&&qE(r,t,e[t]);return r};function HE(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let o=n.replace(i,""),c=r[n];t[o]=c}}),t}function UU(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),o=typeof t<"u"?r.substring(t):"",c=uu.parse(o);return{protocol:i,topic:zE(n[0]),version:parseInt(n[1],10),symKey:c.symKey,relay:HE(c)}}function zE(r){return r.startsWith("//")?r.substring(2):r}function VE(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let o=t+e+n;r[n]&&(i[o]=r[n])}),i}function MU(r){return`${r.protocol}:${r.topic}@${r.version}?`+uu.stringify(LU({symKey:r.symKey},VE(r.relay)))}var jU=Object.defineProperty,FU=Object.defineProperties,$U=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,BU=Object.prototype.hasOwnProperty,kU=Object.prototype.propertyIsEnumerable,KE=(r,e,t)=>e in r?jU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qU=(r,e)=>{for(var t in e||(e={}))BU.call(e,t)&&KE(r,t,e[t]);if(WE)for(var t of WE(e))kU.call(e,t)&&KE(r,t,e[t]);return r},HU=(r,e)=>FU(r,$U(e));function Gn(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function GE(r){let e=[];return Object.values(r).forEach(t=>{e.push(...Gn(t.accounts))}),e}function JE(r,e){let t=[];return Object.values(r).forEach(i=>{Gn(i.accounts).includes(e)&&t.push(...i.methods)}),t}function YE(r,e){let t=[];return Object.values(r).forEach(i=>{Gn(i.accounts).includes(e)&&t.push(...i.events)}),t}function zU(r,e){let t=n_(r,e);if(t)throw new Error(t.message);let i={};for(let[n,o]of Object.entries(r))i[n]={methods:o.methods,events:o.events,chains:o.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return i}function VU(r){let{proposal:{requiredNamespaces:e,optionalNamespaces:t={}},supportedNamespaces:i}=r,n=qp(e),o=qp(t),c={};Object.keys(i).forEach(d=>{let g=i[d].chains,y=i[d].methods,b=i[d].events,v=i[d].accounts;c[d]={chains:g,methods:y,events:b,accounts:v}});let u=o_(e,c,"approve()");if(u)throw new Error(u.message);let f={};return Object.keys(n).forEach(d=>{let g=i[d].chains.filter(E=>{var I,O;return(O=(I=n[d])==null?void 0:I.chains)==null?void 0:O.includes(E)}),y=i[d].methods.filter(E=>{var I,O;return(O=(I=n[d])==null?void 0:I.methods)==null?void 0:O.includes(E)}),b=i[d].events.filter(E=>{var I,O;return(O=(I=n[d])==null?void 0:I.events)==null?void 0:O.includes(E)}),v=g.map(E=>i[d].accounts.filter(I=>I.includes(`${E}:`))).flat();f[d]={chains:g,methods:y,events:b,accounts:v}}),Object.keys(o).forEach(d=>{var g,y,b,v,E,I;if(!i[d])return;let O=(y=(g=o[d])==null?void 0:g.chains)==null?void 0:y.filter(N=>i[d].chains.includes(N)),R=i[d].methods.filter(N=>{var k,W;return(W=(k=o[d])==null?void 0:k.methods)==null?void 0:W.includes(N)}),H=i[d].events.filter(N=>{var k,W;return(W=(k=o[d])==null?void 0:k.events)==null?void 0:W.includes(N)}),U=O?.map(N=>i[d].accounts.filter(k=>k.includes(N))).flat();f[d]={chains:cn((b=f[d])==null?void 0:b.chains,O),methods:cn((v=f[d])==null?void 0:v.methods,R),events:cn((E=f[d])==null?void 0:E.events,H),accounts:cn((I=f[d])==null?void 0:I.accounts,U)}}),f}function kp(r){return r.includes(":")}function ZE(r){return kp(r)?r.split(":")[0]:r}function qp(r){var e,t,i;let n={};if(!wu(r))return n;for(let[o,c]of Object.entries(r)){let u=kp(o)?[o]:c.chains,f=c.methods||[],d=c.events||[],g=ZE(o);n[g]=HU(qU({},n[g]),{chains:cn(u,(e=n[g])==null?void 0:e.chains),methods:cn(f,(t=n[g])==null?void 0:t.methods),events:cn(d,(i=n[g])==null?void 0:i.events)})}return n}var WU={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},KU={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ai(r,e){let{message:t,code:i}=KU[r];return{message:e?`${t} ${e}`:t,code:i}}function Jn(r,e){let{message:t,code:i}=WU[r];return{message:e?`${t} ${e}`:t,code:i}}function Oa(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function wu(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function ln(r){return typeof r>"u"}function vr(r,e){return e&&ln(r)?!0:typeof r=="string"&&!!r.trim().length}function vu(r,e){return e&&ln(r)?!0:typeof r=="number"&&!isNaN(r)}function GU(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),o=!0;return an(n,i)?(i.forEach(c=>{let{accounts:u,methods:f,events:d}=r.namespaces[c],g=Gn(u),y=t[c];(!an(fu(c,y),g)||!an(y.methods,f)||!an(y.events,d))&&(o=!1)}),o):!1}function bu(r){return vr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function XE(r){if(vr(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&bu(t)}}return!1}function JU(r){if(vr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function YU(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function ZU(r){return r?.topic}function XU(r,e){let t=null;return vr(r?.publicKey,!1)||(t=Ai("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Hp(r){let e=!0;return Oa(r)?r.length&&(e=r.every(t=>vr(t,!1))):e=!1,e}function QE(r,e,t){let i=null;return Oa(e)?e.forEach(n=>{i||(!bu(n)||!n.includes(r))&&(i=Jn("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=Jn("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function e_(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let o=QE(i,fu(i,n),`${e} requiredNamespace`);o&&(t=o)}),t}function t_(r,e){let t=null;return Oa(r)?r.forEach(i=>{t||XE(i)||(t=Jn("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Jn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function r_(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=t_(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function i_(r,e){let t=null;return Hp(r?.methods)?Hp(r?.events)||(t=Jn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Jn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function zp(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=i_(i,`${e}, namespace`);n&&(t=n)}),t}function QU(r,e,t){let i=null;if(r&&wu(r)){let n=zp(r,e);n&&(i=n);let o=e_(r,e);o&&(i=o)}else i=Ai("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function n_(r,e){let t=null;if(r&&wu(r)){let i=zp(r,e);i&&(t=i);let n=r_(r,e);n&&(t=n)}else t=Ai("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function s_(r){return vr(r.protocol,!0)}function eM(r,e){let t=!1;return e&&!r?t=!0:r&&Oa(r)&&r.length&&r.forEach(i=>{t=s_(i)}),t}function tM(r){return typeof r=="number"}function rM(r){return typeof r<"u"&&typeof r!==null}function iM(r){return!(!r||typeof r!="object"||!r.code||!vu(r.code,!1)||!r.message||!vr(r.message,!1))}function nM(r){return!(ln(r)||!vr(r.method,!1))}function sM(r){return!(ln(r)||ln(r.result)&&ln(r.error)||!vu(r.id,!1)||!vr(r.jsonrpc,!1))}function oM(r){return!(ln(r)||!vr(r.name,!1))}function aM(r,e){return!(!bu(e)||!GE(r).includes(e))}function cM(r,e,t){return vr(t,!1)?JE(r,e).includes(t):!1}function lM(r,e,t){return vr(t,!1)?YE(r,e).includes(t):!1}function o_(r,e,t){let i=null,n=uM(r),o=hM(e),c=Object.keys(n),u=Object.keys(o),f=a_(Object.keys(r)),d=a_(Object.keys(e)),g=f.filter(y=>!d.includes(y));return g.length&&(i=Ai("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${g.toString()}
      Received: ${Object.keys(e).toString()}`)),an(c,u)||(i=Ai("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(y=>{if(!y.includes(":")||i)return;let b=Gn(e[y].accounts);b.includes(y)||(i=Ai("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${y}
        Required: ${y}
        Approved: ${b.toString()}`))}),c.forEach(y=>{i||(an(n[y].methods,o[y].methods)?an(n[y].events,o[y].events)||(i=Ai("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${y}`)):i=Ai("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${y}`))}),i}function uM(r){let e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function a_(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function hM(r){let e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:Gn(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(o=>o.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function fM(r,e){return vu(r,!1)&&r<=e.max&&r>=e.min}F.BASE10=Np,F.BASE16=Zt,F.BASE64=pu,F.COLON=aU,F.DEFAULT_DEPTH=Fp,F.EMPTY_SPACE=mu,F.ENV_MAP=on,F.ONE_THOUSAND=cU,F.REACT_NATIVE_PRODUCT=AE,F.RELAYER_DEFAULT_PROTOCOL=BE,F.SDK_TYPE=RE,F.SLASH=OE,F.TYPE_0=Lp,F.TYPE_1=eo,F.UTF8=gu,F.appendToQueryString=NE,F.assertType=dU,F.buildApprovedNamespaces=VU,F.calcExpiry=SU,F.capitalize=vU,F.capitalizeWord=$E,F.createDelayedPromise=bU,F.createExpiringPromise=EU,F.decodeTypeByte=Aa,F.decrypt=tU,F.deriveSymKey=ZL,F.deserialize=jp,F.encodeTypeByte=_E,F.encrypt=eU,F.engineEvent=DU,F.enumify=wU,F.formatAccountId=gE,F.formatAccountWithChain=kL,F.formatChainId=pE,F.formatExpirerTarget=Bp,F.formatIdTarget=xU,F.formatMessage=KL,F.formatMessageContext=pU,F.formatRelayParams=VE,F.formatRelayRpcUrl=hU,F.formatTopicTarget=_U,F.formatUA=ME,F.formatUri=MU,F.generateKeyPair=JL,F.generateRandomBytes32=YL,F.getAccountsChains=Gn,F.getAccountsFromNamespaces=HL,F.getAddressFromAccount=mE,F.getAddressesFromAccounts=qL,F.getAppMetadata=lU,F.getChainFromAccount=yE,F.getChainsFromAccounts=wE,F.getChainsFromNamespace=fu,F.getChainsFromNamespaces=zL,F.getChainsFromRequiredNamespaces=VL,F.getDidAddress=bE,F.getDidAddressSegments=du,F.getDidChainId=vE,F.getEnvironment=yu,F.getHttpUrl=fU,F.getInternalError=Ai,F.getJavascriptID=UE,F.getJavascriptOS=LE,F.getLastItems=FE,F.getNamespacedDidChainId=WL,F.getNamespacesChains=GE,F.getNamespacesEventsForChainId=YE,F.getNamespacesMethodsForChainId=JE,F.getRelayClientMetadata=uU,F.getRelayProtocolApi=RU,F.getRelayProtocolName=OU,F.getRequiredNamespacesFromNamespaces=zU,F.getSdkError=Jn,F.getUniqueValues=Tp,F.handleDeeplinkRedirect=AU,F.hasOverlap=an,F.hashKey=XL,F.hashMessage=QL,F.isBrowser=TE,F.isCaipNamespace=kp,F.isConformingNamespaces=o_,F.isExpired=CU,F.isNode=$p,F.isProposalStruct=YU,F.isReactNative=PE,F.isSessionCompatible=GU,F.isSessionStruct=ZU,F.isTypeOneEnvelope=iU,F.isUndefined=ln,F.isValidAccountId=XE,F.isValidAccounts=t_,F.isValidActions=i_,F.isValidArray=Oa,F.isValidChainId=bu,F.isValidChains=QE,F.isValidController=XU,F.isValidErrorReason=iM,F.isValidEvent=oM,F.isValidId=tM,F.isValidNamespaceAccounts=r_,F.isValidNamespaceActions=zp,F.isValidNamespaceChains=e_,F.isValidNamespaceMethodsOrEvents=Hp,F.isValidNamespaces=n_,F.isValidNamespacesChainId=aM,F.isValidNamespacesEvent=lM,F.isValidNamespacesRequest=cM,F.isValidNumber=vu,F.isValidObject=wu,F.isValidParams=rM,F.isValidRelay=s_,F.isValidRelays=eM,F.isValidRequest=nM,F.isValidRequestExpiry=fM,F.isValidRequiredNamespaces=QU,F.isValidResponse=sM,F.isValidString=vr,F.isValidUrl=JU,F.mapEntries=yU,F.mapToObj=gU,F.mergeArrays=cn,F.normalizeNamespaces=qp,F.objToMap=mU,F.parseAccountId=Pp,F.parseChainId=dE,F.parseContextNames=jE,F.parseExpirerTarget=IU,F.parseNamespaceKey=ZE,F.parseRelayParams=HE,F.parseTopic=zE,F.parseUri=UU,F.serialize=xE,F.validateDecoding=rU,F.validateEncoding=IE});var Vp=Z(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});function dM(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}Eu.safeJsonParse=dM;function pM(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t=="undefined"?null:t)}Eu.safeJsonStringify=pM});var c_=Z((TG,_u)=>{"use strict";(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global!="undefined"&&global.localStorage?_u.exports=global.localStorage:typeof window!="undefined"&&window.localStorage?_u.exports=window.localStorage:_u.exports=new e})()});var u_=Z(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.IKeyValueStorage=void 0;var l_=class{};xu.IKeyValueStorage=l_});var h_=Z(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.parseEntry=void 0;var gM=Vp();function mM(r){var e;return[r[0],gM.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}Iu.parseEntry=mM});var d_=Z(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var f_=(wr(),yr);f_.__exportStar(u_(),Su);f_.__exportStar(h_(),Su)});var g_=Z(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.KeyValueStorage=void 0;var to=(wr(),yr),p_=Vp(),yM=to.__importDefault(c_()),wM=d_(),Wp=class{constructor(){this.localStorage=yM.default}getKeys(){return to.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return to.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(wM.parseEntry)})}getItem(e){return to.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return p_.safeJsonParse(t)})}setItem(e,t){return to.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,p_.safeJsonStringify(t))})}removeItem(e){return to.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Pa.KeyValueStorage=Wp;Pa.default=Wp});var m_,y_=M(()=>{m_=class{}});var Kp={};nt(Kp,{IEvents:()=>m_});var Gp=M(()=>{y_()});var v_=Z(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.IHeartBeat=void 0;var vM=(Gp(),Kp),w_=class extends vM.IEvents{constructor(e){super()}};Cu.IHeartBeat=w_});var Yp=Z(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var bM=(wr(),yr);bM.__exportStar(v_(),Jp)});var b_=Z(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.HEARTBEAT_EVENTS=ro.HEARTBEAT_INTERVAL=void 0;var EM=Wn();ro.HEARTBEAT_INTERVAL=EM.FIVE_SECONDS;ro.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var Xp=Z(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var _M=(wr(),yr);_M.__exportStar(b_(),Zp)});var E_=Z(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.HeartBeat=void 0;var Qp=(wr(),yr),xM=Yr(),IM=Wn(),SM=Yp(),e0=Xp(),Du=class extends SM.IHeartBeat{constructor(e){super(e);this.events=new xM.EventEmitter,this.interval=e0.HEARTBEAT_INTERVAL,this.interval=(e==null?void 0:e.interval)||e0.HEARTBEAT_INTERVAL}static init(e){return Qp.__awaiter(this,void 0,void 0,function*(){let t=new Du(e);return yield t.init(),t})}init(){return Qp.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return Qp.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),IM.toMiliseconds(this.interval))})}pulse(){this.events.emit(e0.HEARTBEAT_EVENTS.pulse)}};Au.HeartBeat=Du});var __=Z(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var t0=(wr(),yr);t0.__exportStar(E_(),Ta);t0.__exportStar(Yp(),Ta);t0.__exportStar(Xp(),Ta)});var I_=Z((VG,x_)=>{"use strict";function CM(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}x_.exports=DM;function DM(r,e,t){var i=t&&t.stringify||CM,n=1;if(typeof r=="object"&&r!==null){var o=e.length+n;if(o===1)return r;var c=new Array(o);c[0]=i(r);for(var u=1;u<o;u++)c[u]=i(e[u]);return c.join(" ")}if(typeof r!="string")return r;var f=e.length;if(f===0)return r;for(var d="",g=1-n,y=-1,b=r&&r.length||0,v=0;v<b;){if(r.charCodeAt(v)===37&&v+1<b){switch(y=y>-1?y:0,r.charCodeAt(v+1)){case 100:case 102:if(g>=f||e[g]==null)break;y<v&&(d+=r.slice(y,v)),d+=Number(e[g]),y=v+2,v++;break;case 105:if(g>=f||e[g]==null)break;y<v&&(d+=r.slice(y,v)),d+=Math.floor(Number(e[g])),y=v+2,v++;break;case 79:case 111:case 106:if(g>=f||e[g]===void 0)break;y<v&&(d+=r.slice(y,v));var E=typeof e[g];if(E==="string"){d+="'"+e[g]+"'",y=v+2,v++;break}if(E==="function"){d+=e[g].name||"<anonymous>",y=v+2,v++;break}d+=i(e[g]),y=v+2,v++;break;case 115:if(g>=f)break;y<v&&(d+=r.slice(y,v)),d+=String(e[g]),y=v+2,v++;break;case 37:y<v&&(d+=r.slice(y,v)),d+="%",y=v+2,v++,g--;break}++g}++v}return y===-1?r:(y<b&&(d+=r.slice(y)),d)}});var O_=Z((WG,A_)=>{"use strict";var S_=I_();A_.exports=ti;var Na=jM().console||{},AM={mapHttpRequest:Ru,mapHttpResponse:Ru,wrapRequestSerializer:i0,wrapResponseSerializer:i0,wrapErrorSerializer:i0,req:Ru,res:Ru,err:NM};function OM(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function ti(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||Na;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=OM(r.browser.serialize,i),o=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let c=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let u=r.level||"info",f=Object.create(t);f.log||(f.log=La),Object.defineProperty(f,"levelVal",{get:g}),Object.defineProperty(f,"level",{get:y,set:b});let d={transmit:e,serialize:n,asObject:r.browser.asObject,levels:c,timestamp:LM(r)};f.levels=ti.levels,f.level=u,f.setMaxListeners=f.getMaxListeners=f.emit=f.addListener=f.on=f.prependListener=f.once=f.prependOnceListener=f.removeListener=f.removeAllListeners=f.listeners=f.listenerCount=f.eventNames=f.write=f.flush=La,f.serializers=i,f._serialize=n,f._stdErrSerialize=o,f.child=v,e&&(f._logEvent=r0());function g(){return this.level==="silent"?1/0:this.levels.values[this.level]}function y(){return this._level}function b(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,io(d,f,"error","log"),io(d,f,"fatal","error"),io(d,f,"warn","error"),io(d,f,"info","log"),io(d,f,"debug","log"),io(d,f,"trace","log")}function v(E,I){if(!E)throw new Error("missing bindings for child Pino");I=I||{},n&&E.serializers&&(I.serializers=E.serializers);let O=I.serializers;if(n&&O){var R=Object.assign({},i,O),H=r.browser.serialize===!0?Object.keys(R):n;delete E.serializers,Ou([E],H,R,this._stdErrSerialize)}function U(N){this._childLevel=(N._childLevel|0)+1,this.error=no(N,E,"error"),this.fatal=no(N,E,"fatal"),this.warn=no(N,E,"warn"),this.info=no(N,E,"info"),this.debug=no(N,E,"debug"),this.trace=no(N,E,"trace"),R&&(this.serializers=R,this._serialize=H),e&&(this._logEvent=r0([].concat(N._logEvent.bindings,E)))}return U.prototype=this,new U(this)}return f}ti.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ti.stdSerializers=AM;ti.stdTimeFunctions=Object.assign({},{nullTime:C_,epochTime:D_,unixTime:UM,isoTime:MM});function io(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?La:n[t]?n[t]:Na[t]||Na[i]||La,RM(r,e,t)}function RM(r,e,t){!r.transmit&&e[t]===La||(e[t]=function(i){return function(){let o=r.timestamp(),c=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Na?Na:this;for(var f=0;f<c.length;f++)c[f]=arguments[f];if(r.serialize&&!r.asObject&&Ou(c,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(u,PM(this,t,c,o)):i.apply(u,c),r.transmit){let d=r.transmit.level||e.level,g=ti.levels.values[d],y=ti.levels.values[t];if(y<g)return;TM(this,{ts:o,methodLevel:t,methodValue:y,transmitLevel:d,transmitValue:ti.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},c)}}}(e[t]))}function PM(r,e,t,i){r._serialize&&Ou(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),o=n[0],c={};i&&(c.time=i),c.level=ti.levels.values[e];let u=(r._childLevel|0)+1;if(u<1&&(u=1),o!==null&&typeof o=="object"){for(;u--&&typeof n[0]=="object";)Object.assign(c,n.shift());o=n.length?S_(n.shift(),n):void 0}else typeof o=="string"&&(o=S_(n.shift(),n));return o!==void 0&&(c.msg=o),c}function Ou(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=ti.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let o in r[n])e&&e.indexOf(o)>-1&&o in t&&(r[n][o]=t[o](r[n][o]))}function no(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function TM(r,e,t){let i=e.send,n=e.ts,o=e.methodLevel,c=e.methodValue,u=e.val,f=r._logEvent.bindings;Ou(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(d){return f.indexOf(d)===-1}),r._logEvent.level.label=o,r._logEvent.level.value=c,i(o,r._logEvent,u),r._logEvent=r0(f)}function r0(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function NM(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function LM(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?C_:D_}function Ru(){return{}}function i0(r){return r}function La(){}function C_(){return!1}function D_(){return Date.now()}function UM(){return Math.round(Date.now()/1e3)}function MM(){return new Date(Date.now()).toISOString()}function jM(){function r(e){return typeof e!="undefined"&&e}try{return typeof globalThis!="undefined"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var n0=Z(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.PINO_CUSTOM_CONTEXT_KEY=so.PINO_LOGGER_DEFAULTS=void 0;so.PINO_LOGGER_DEFAULTS={level:"info"};so.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var L_=Z(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.generateChildLogger=cr.formatChildLoggerContext=cr.getLoggerContext=cr.setBrowserLoggerContext=cr.getBrowserLoggerContext=cr.getDefaultLoggerOptions=void 0;var oo=n0();function FM(r){return Object.assign(Object.assign({},r),{level:(r==null?void 0:r.level)||oo.PINO_LOGGER_DEFAULTS.level})}cr.getDefaultLoggerOptions=FM;function R_(r,e=oo.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}cr.getBrowserLoggerContext=R_;function P_(r,e,t=oo.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}cr.setBrowserLoggerContext=P_;function T_(r,e=oo.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings=="undefined"?t=R_(r,e):t=r.bindings().context||"",t}cr.getLoggerContext=T_;function N_(r,e,t=oo.PINO_CUSTOM_CONTEXT_KEY){let i=T_(r,t);return i.trim()?`${i}/${e}`:e}cr.formatChildLoggerContext=N_;function $M(r,e,t=oo.PINO_CUSTOM_CONTEXT_KEY){let i=N_(r,e,t),n=r.child({context:i});return P_(n,i,t)}cr.generateChildLogger=$M});var Pu=Z(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.pino=void 0;var s0=(wr(),yr),BM=s0.__importDefault(O_());Object.defineProperty(ao,"pino",{enumerable:!0,get:function(){return BM.default}});s0.__exportStar(n0(),ao);s0.__exportStar(L_(),ao)});var o0=Z(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var co=(Gp(),Kp),U_=Yr();function kM(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var qM=kM(U_),M_=class extends co.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},j_=class{constructor(e,t,i){this.core=e,this.logger=t}},F_=class extends co.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},$_=class{constructor(e,t){this.logger=e,this.core=t}},B_=class extends co.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},k_=class extends co.IEvents{constructor(e){super()}},q_=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},H_=class{constructor(){this.map=new Map}},z_=class extends co.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},V_=class{constructor(e,t){this.core=e,this.logger=t}},W_=class extends co.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},K_=class{constructor(e,t){this.logger=e,this.core=t}},G_=class{constructor(e,t){this.projectId=e,this.logger=t}},J_=class extends qM.default{constructor(){super()}},Y_=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Z_=class extends U_.EventEmitter{constructor(){super()}},X_=class{constructor(e){this.client=e}};Rt.ICore=M_,Rt.ICrypto=j_,Rt.IEngine=X_,Rt.IEngineEvents=Z_,Rt.IExpirer=W_,Rt.IJsonRpcHistory=F_,Rt.IKeyChain=V_,Rt.IMessageTracker=$_,Rt.IPairing=K_,Rt.IPublisher=B_,Rt.IRelayer=k_,Rt.ISignClient=Y_,Rt.ISignClientEvents=J_,Rt.IStore=q_,Rt.ISubscriber=z_,Rt.ISubscriberTopicMap=H_,Rt.IVerify=G_});var Q_={};nt(Q_,{safeJsonParse:()=>Yn,safeJsonStringify:()=>un});function Yn(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return zM(r)}catch{return r}}function un(r){return typeof r=="string"?r:HM(r)||""}var HM,zM,Ua=M(()=>{HM=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),zM=r=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)}});var r3=Z(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var lo=ks(),uo=Rr();Oi.DIGEST_LENGTH=64;Oi.BLOCK_SIZE=128;var e3=function(){function r(){this.digestLength=Oi.DIGEST_LENGTH,this.blockSize=Oi.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){uo.wipe(this._buffer),uo.wipe(this._tempHi),uo.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<Oi.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(a0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=a0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,o=t<<3,c=t%128<112?128:256;this._buffer[i]=128;for(var u=i+1;u<c-8;u++)this._buffer[u]=0;lo.writeUint32BE(n,this._buffer,c-8),lo.writeUint32BE(o,this._buffer,c-4),a0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,c),this._finished=!0}for(var u=0;u<this.digestLength/8;u++)lo.writeUint32BE(this._stateHi[u],e,u*8),lo.writeUint32BE(this._stateLo[u],e,u*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){uo.wipe(e.stateHi),uo.wipe(e.stateLo),e.buffer&&uo.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Oi.SHA512=e3;var t3=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a0(r,e,t,i,n,o,c){for(var u=t[0],f=t[1],d=t[2],g=t[3],y=t[4],b=t[5],v=t[6],E=t[7],I=i[0],O=i[1],R=i[2],H=i[3],U=i[4],N=i[5],k=i[6],W=i[7],C,A,V,_,S,L,B,G;c>=128;){for(var Q=0;Q<16;Q++){var ne=8*Q+o;r[Q]=lo.readUint32BE(n,ne),e[Q]=lo.readUint32BE(n,ne+4)}for(var Q=0;Q<80;Q++){var ee=u,oe=f,Ye=d,ue=g,ae=y,me=b,ye=v,ge=E,he=I,fe=O,we=R,Se=H,Ae=U,je=N,Pe=k,Oe=W;if(C=E,A=W,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=(y>>>14|U<<32-14)^(y>>>18|U<<32-18)^(U>>>41-32|y<<32-(41-32)),A=(U>>>14|y<<32-14)^(U>>>18|y<<32-18)^(y>>>41-32|U<<32-(41-32)),S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,C=y&b^~y&v,A=U&N^~U&k,S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,C=t3[Q*2],A=t3[Q*2+1],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,C=r[Q%16],A=e[Q%16],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,V=B&65535|G<<16,_=S&65535|L<<16,C=V,A=_,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=(u>>>28|I<<32-28)^(I>>>34-32|u<<32-(34-32))^(I>>>39-32|u<<32-(39-32)),A=(I>>>28|u<<32-28)^(u>>>34-32|I<<32-(34-32))^(u>>>39-32|I<<32-(39-32)),S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,C=u&f^u&d^f&d,A=I&O^I&R^O&R,S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,ge=B&65535|G<<16,Oe=S&65535|L<<16,C=ue,A=Se,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=V,A=_,S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,ue=B&65535|G<<16,Se=S&65535|L<<16,f=ee,d=oe,g=Ye,y=ue,b=ae,v=me,E=ye,u=ge,O=he,R=fe,H=we,U=Se,N=Ae,k=je,W=Pe,I=Oe,Q%16==15)for(var ne=0;ne<16;ne++)C=r[ne],A=e[ne],S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=r[(ne+9)%16],A=e[(ne+9)%16],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,V=r[(ne+1)%16],_=e[(ne+1)%16],C=(V>>>1|_<<32-1)^(V>>>8|_<<32-8)^V>>>7,A=(_>>>1|V<<32-1)^(_>>>8|V<<32-8)^(_>>>7|V<<32-7),S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,V=r[(ne+14)%16],_=e[(ne+14)%16],C=(V>>>19|_<<32-19)^(_>>>61-32|V<<32-(61-32))^V>>>6,A=(_>>>19|V<<32-19)^(V>>>61-32|_<<32-(61-32))^(_>>>6|V<<32-6),S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,r[ne]=B&65535|G<<16,e[ne]=S&65535|L<<16}C=u,A=I,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[0],A=i[0],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[0]=u=B&65535|G<<16,i[0]=I=S&65535|L<<16,C=f,A=O,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[1],A=i[1],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[1]=f=B&65535|G<<16,i[1]=O=S&65535|L<<16,C=d,A=R,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[2],A=i[2],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[2]=d=B&65535|G<<16,i[2]=R=S&65535|L<<16,C=g,A=H,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[3],A=i[3],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[3]=g=B&65535|G<<16,i[3]=H=S&65535|L<<16,C=y,A=U,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[4],A=i[4],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[4]=y=B&65535|G<<16,i[4]=U=S&65535|L<<16,C=b,A=N,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[5],A=i[5],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[5]=b=B&65535|G<<16,i[5]=N=S&65535|L<<16,C=v,A=k,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[6],A=i[6],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[6]=v=B&65535|G<<16,i[6]=k=S&65535|L<<16,C=E,A=W,S=A&65535,L=A>>>16,B=C&65535,G=C>>>16,C=t[7],A=i[7],S+=A&65535,L+=A>>>16,B+=C&65535,G+=C>>>16,L+=S>>>16,B+=L>>>16,G+=B>>>16,t[7]=E=B&65535|G<<16,i[7]=W=S&65535|L<<16,o+=128,c-=128}return o}function VM(r){var e=new e3;e.update(r);var t=e.digest();return e.clean(),t}Oi.hash=VM});var m3=Z(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.convertSecretKeyToX25519=Ke.convertPublicKeyToX25519=Ke.verify=Ke.sign=Ke.extractPublicKeyFromSecretKey=Ke.generateKeyPair=Ke.generateKeyPairFromSeed=Ke.SEED_LENGTH=Ke.SECRET_KEY_LENGTH=Ke.PUBLIC_KEY_LENGTH=Ke.SIGNATURE_LENGTH=void 0;var WM=ga(),Ma=r3(),i3=Rr();Ke.SIGNATURE_LENGTH=64;Ke.PUBLIC_KEY_LENGTH=32;Ke.SECRET_KEY_LENGTH=64;Ke.SEED_LENGTH=32;function de(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var KM=new Uint8Array(32);KM[0]=9;var c0=de(),ho=de([1]),GM=de([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),JM=de([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n3=de([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),s3=de([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),YM=de([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function hn(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function l0(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function o3(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let o=i&(r[n]^e[n]);r[n]^=o,e[n]^=o}}function ja(r,e){let t=de(),i=de();for(let n=0;n<16;n++)i[n]=e[n];l0(i),l0(i),l0(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let c=1;c<15;c++)t[c]=i[c]-65535-(t[c-1]>>16&1),t[c-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,o3(i,t,1-o)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function a3(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function c3(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return ja(t,r),ja(i,e),a3(t,i)}function l3(r){let e=new Uint8Array(32);return ja(e,r),e[0]&1}function ZM(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Zn(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Xn(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Qe(r,e,t){let i,n,o=0,c=0,u=0,f=0,d=0,g=0,y=0,b=0,v=0,E=0,I=0,O=0,R=0,H=0,U=0,N=0,k=0,W=0,C=0,A=0,V=0,_=0,S=0,L=0,B=0,G=0,Q=0,ne=0,ee=0,oe=0,Ye=0,ue=t[0],ae=t[1],me=t[2],ye=t[3],ge=t[4],he=t[5],fe=t[6],we=t[7],Se=t[8],Ae=t[9],je=t[10],Pe=t[11],Oe=t[12],$e=t[13],_e=t[14],Le=t[15];i=e[0],o+=i*ue,c+=i*ae,u+=i*me,f+=i*ye,d+=i*ge,g+=i*he,y+=i*fe,b+=i*we,v+=i*Se,E+=i*Ae,I+=i*je,O+=i*Pe,R+=i*Oe,H+=i*$e,U+=i*_e,N+=i*Le,i=e[1],c+=i*ue,u+=i*ae,f+=i*me,d+=i*ye,g+=i*ge,y+=i*he,b+=i*fe,v+=i*we,E+=i*Se,I+=i*Ae,O+=i*je,R+=i*Pe,H+=i*Oe,U+=i*$e,N+=i*_e,k+=i*Le,i=e[2],u+=i*ue,f+=i*ae,d+=i*me,g+=i*ye,y+=i*ge,b+=i*he,v+=i*fe,E+=i*we,I+=i*Se,O+=i*Ae,R+=i*je,H+=i*Pe,U+=i*Oe,N+=i*$e,k+=i*_e,W+=i*Le,i=e[3],f+=i*ue,d+=i*ae,g+=i*me,y+=i*ye,b+=i*ge,v+=i*he,E+=i*fe,I+=i*we,O+=i*Se,R+=i*Ae,H+=i*je,U+=i*Pe,N+=i*Oe,k+=i*$e,W+=i*_e,C+=i*Le,i=e[4],d+=i*ue,g+=i*ae,y+=i*me,b+=i*ye,v+=i*ge,E+=i*he,I+=i*fe,O+=i*we,R+=i*Se,H+=i*Ae,U+=i*je,N+=i*Pe,k+=i*Oe,W+=i*$e,C+=i*_e,A+=i*Le,i=e[5],g+=i*ue,y+=i*ae,b+=i*me,v+=i*ye,E+=i*ge,I+=i*he,O+=i*fe,R+=i*we,H+=i*Se,U+=i*Ae,N+=i*je,k+=i*Pe,W+=i*Oe,C+=i*$e,A+=i*_e,V+=i*Le,i=e[6],y+=i*ue,b+=i*ae,v+=i*me,E+=i*ye,I+=i*ge,O+=i*he,R+=i*fe,H+=i*we,U+=i*Se,N+=i*Ae,k+=i*je,W+=i*Pe,C+=i*Oe,A+=i*$e,V+=i*_e,_+=i*Le,i=e[7],b+=i*ue,v+=i*ae,E+=i*me,I+=i*ye,O+=i*ge,R+=i*he,H+=i*fe,U+=i*we,N+=i*Se,k+=i*Ae,W+=i*je,C+=i*Pe,A+=i*Oe,V+=i*$e,_+=i*_e,S+=i*Le,i=e[8],v+=i*ue,E+=i*ae,I+=i*me,O+=i*ye,R+=i*ge,H+=i*he,U+=i*fe,N+=i*we,k+=i*Se,W+=i*Ae,C+=i*je,A+=i*Pe,V+=i*Oe,_+=i*$e,S+=i*_e,L+=i*Le,i=e[9],E+=i*ue,I+=i*ae,O+=i*me,R+=i*ye,H+=i*ge,U+=i*he,N+=i*fe,k+=i*we,W+=i*Se,C+=i*Ae,A+=i*je,V+=i*Pe,_+=i*Oe,S+=i*$e,L+=i*_e,B+=i*Le,i=e[10],I+=i*ue,O+=i*ae,R+=i*me,H+=i*ye,U+=i*ge,N+=i*he,k+=i*fe,W+=i*we,C+=i*Se,A+=i*Ae,V+=i*je,_+=i*Pe,S+=i*Oe,L+=i*$e,B+=i*_e,G+=i*Le,i=e[11],O+=i*ue,R+=i*ae,H+=i*me,U+=i*ye,N+=i*ge,k+=i*he,W+=i*fe,C+=i*we,A+=i*Se,V+=i*Ae,_+=i*je,S+=i*Pe,L+=i*Oe,B+=i*$e,G+=i*_e,Q+=i*Le,i=e[12],R+=i*ue,H+=i*ae,U+=i*me,N+=i*ye,k+=i*ge,W+=i*he,C+=i*fe,A+=i*we,V+=i*Se,_+=i*Ae,S+=i*je,L+=i*Pe,B+=i*Oe,G+=i*$e,Q+=i*_e,ne+=i*Le,i=e[13],H+=i*ue,U+=i*ae,N+=i*me,k+=i*ye,W+=i*ge,C+=i*he,A+=i*fe,V+=i*we,_+=i*Se,S+=i*Ae,L+=i*je,B+=i*Pe,G+=i*Oe,Q+=i*$e,ne+=i*_e,ee+=i*Le,i=e[14],U+=i*ue,N+=i*ae,k+=i*me,W+=i*ye,C+=i*ge,A+=i*he,V+=i*fe,_+=i*we,S+=i*Se,L+=i*Ae,B+=i*je,G+=i*Pe,Q+=i*Oe,ne+=i*$e,ee+=i*_e,oe+=i*Le,i=e[15],N+=i*ue,k+=i*ae,W+=i*me,C+=i*ye,A+=i*ge,V+=i*he,_+=i*fe,S+=i*we,L+=i*Se,B+=i*Ae,G+=i*je,Q+=i*Pe,ne+=i*Oe,ee+=i*$e,oe+=i*_e,Ye+=i*Le,o+=38*k,c+=38*W,u+=38*C,f+=38*A,d+=38*V,g+=38*_,y+=38*S,b+=38*L,v+=38*B,E+=38*G,I+=38*Q,O+=38*ne,R+=38*ee,H+=38*oe,U+=38*Ye,n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),r[0]=o,r[1]=c,r[2]=u,r[3]=f,r[4]=d,r[5]=g,r[6]=y,r[7]=b,r[8]=v,r[9]=E,r[10]=I,r[11]=O,r[12]=R,r[13]=H,r[14]=U,r[15]=N}function Qn(r,e){Qe(r,e,e)}function u3(r,e){let t=de(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)Qn(t,t),i!==2&&i!==4&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function XM(r,e){let t=de(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)Qn(t,t),i!==1&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function u0(r,e){let t=de(),i=de(),n=de(),o=de(),c=de(),u=de(),f=de(),d=de(),g=de();Xn(t,r[1],r[0]),Xn(g,e[1],e[0]),Qe(t,t,g),Zn(i,r[0],r[1]),Zn(g,e[0],e[1]),Qe(i,i,g),Qe(n,r[3],e[3]),Qe(n,n,JM),Qe(o,r[2],e[2]),Zn(o,o,o),Xn(c,i,t),Xn(u,o,n),Zn(f,o,n),Zn(d,i,t),Qe(r[0],c,u),Qe(r[1],d,f),Qe(r[2],f,u),Qe(r[3],c,d)}function h3(r,e,t){for(let i=0;i<4;i++)o3(r[i],e[i],t)}function h0(r,e){let t=de(),i=de(),n=de();u3(n,e[2]),Qe(t,e[0],n),Qe(i,e[1],n),ja(r,i),r[31]^=l3(t)<<7}function f3(r,e,t){hn(r[0],c0),hn(r[1],ho),hn(r[2],ho),hn(r[3],c0);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;h3(r,e,n),u0(e,r),u0(r,r),h3(r,e,n)}}function f0(r,e){let t=[de(),de(),de(),de()];hn(t[0],n3),hn(t[1],s3),hn(t[2],ho),Qe(t[3],n3,s3),f3(r,t,e)}function d3(r){if(r.length!==Ke.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Ke.SEED_LENGTH} bytes`);let e=(0,Ma.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[de(),de(),de(),de()];f0(i,e),h0(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}Ke.generateKeyPairFromSeed=d3;function QM(r){let e=(0,WM.randomBytes)(32,r),t=d3(e);return(0,i3.wipe)(e),t}Ke.generateKeyPair=QM;function ej(r){if(r.length!==Ke.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Ke.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}Ke.extractPublicKeyFromSecretKey=ej;var d0=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function p3(r,e){let t,i,n,o;for(i=63;i>=32;--i){for(t=0,n=i-32,o=i-12;n<o;++n)e[n]+=t-16*e[i]*d0[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*d0[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*d0[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function p0(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;p3(r,e)}function tj(r,e){let t=new Float64Array(64),i=[de(),de(),de(),de()],n=(0,Ma.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let o=new Uint8Array(64);o.set(n.subarray(32),32);let c=new Ma.SHA512;c.update(o.subarray(32)),c.update(e);let u=c.digest();c.clean(),p0(u),f0(i,u),h0(o,i),c.reset(),c.update(o.subarray(0,32)),c.update(r.subarray(32)),c.update(e);let f=c.digest();p0(f);for(let d=0;d<32;d++)t[d]=u[d];for(let d=0;d<32;d++)for(let g=0;g<32;g++)t[d+g]+=f[d]*n[g];return p3(o.subarray(32),t),o}Ke.sign=tj;function g3(r,e){let t=de(),i=de(),n=de(),o=de(),c=de(),u=de(),f=de();return hn(r[2],ho),ZM(r[1],e),Qn(n,r[1]),Qe(o,n,GM),Xn(n,n,r[2]),Zn(o,r[2],o),Qn(c,o),Qn(u,c),Qe(f,u,c),Qe(t,f,n),Qe(t,t,o),XM(t,t),Qe(t,t,n),Qe(t,t,o),Qe(t,t,o),Qe(r[0],t,o),Qn(i,r[0]),Qe(i,i,o),c3(i,n)&&Qe(r[0],r[0],YM),Qn(i,r[0]),Qe(i,i,o),c3(i,n)?-1:(l3(r[0])===e[31]>>7&&Xn(r[0],c0,r[0]),Qe(r[3],r[0],r[1]),0)}function rj(r,e,t){let i=new Uint8Array(32),n=[de(),de(),de(),de()],o=[de(),de(),de(),de()];if(t.length!==Ke.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Ke.SIGNATURE_LENGTH} bytes`);if(g3(o,r))return!1;let c=new Ma.SHA512;c.update(t.subarray(0,32)),c.update(r),c.update(e);let u=c.digest();return p0(u),f3(n,o,u),f0(o,t.subarray(32)),u0(n,o),h0(i,n),!a3(t,i)}Ke.verify=rj;function ij(r){let e=[de(),de(),de(),de()];if(g3(e,r))throw new Error("Ed25519: invalid public key");let t=de(),i=de(),n=e[1];Zn(t,ho,n),Xn(i,ho,n),u3(i,i),Qe(t,t,i);let o=new Uint8Array(32);return ja(o,t),o}Ke.convertPublicKeyToX25519=ij;function nj(r){let e=(0,Ma.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,i3.wipe)(e),t}Ke.convertSecretKeyToX25519=nj});var Tu,Nu,es,fo,Lu,Fa,Uu,Mu,ju,po,Fu,$u,g0,m0,Bu=M(()=>{Tu="EdDSA",Nu="JWT",es=".",fo="base64url",Lu="utf8",Fa="utf8",Uu=":",Mu="did",ju="key",po="base58btc",Fu="z",$u="K36",g0=32,m0=32});function $a(r){return Yn(Ci(ei(r,fo),Lu))}function Ba(r){return Ci(ei(un(r),Lu),fo)}function y0(r){let e=ei($u,po),t=Fu+Ci(ql([e,r]),po);return[Mu,ju,t].join(Uu)}function w0(r){let[e,t,i]=r.split(Uu);if(e!==Mu||t!==ju)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Fu)throw new Error("Issuer must be a key in mulicodec format");let o=ei(i.slice(1),po);if(Ci(o.slice(0,2),po)!==$u)throw new Error('Issuer must be a public key with type "Ed25519"');let u=o.slice(2);if(u.length!==g0)throw new Error("Issuer must be a public key with length 32 bytes");return u}function y3(r){return Ci(r,fo)}function w3(r){return ei(r,fo)}function v0(r){return ei([Ba(r.header),Ba(r.payload)].join(es),Fa)}function sj(r){let e=Ci(r,Fa).split(es),t=$a(e[0]),i=$a(e[1]);return{header:t,payload:i}}function b0(r){return[Ba(r.header),Ba(r.payload),y3(r.signature)].join(es)}function E0(r){let e=r.split(es),t=$a(e[0]),i=$a(e[1]),n=w3(e[2]),o=ei(e.slice(0,2).join(es),Fa);return{header:t,payload:i,signature:n,data:o}}var _0=M(()=>{Gd();mp();gp();Ua();Bu()});function oj(r=(0,v3.randomBytes)(m0)){return go.generateKeyPairFromSeed(r)}async function aj(r,e,t,i,n=(0,b3.fromMiliseconds)(Date.now())){let o={alg:Tu,typ:Nu},c=y0(i.publicKey),u=n+t,f={iss:c,sub:r,aud:e,iat:n,exp:u},d=v0({header:o,payload:f}),g=go.sign(i.secretKey,d);return b0({header:o,payload:f,signature:g})}async function cj(r){let{header:e,payload:t,data:i,signature:n}=E0(r);if(e.alg!==Tu||e.typ!==Nu)throw new Error("JWT must use EdDSA algorithm");let o=w0(t.iss);return go.verify(o,i,n)}var go,v3,b3,E3=M(()=>{go=Or(m3()),v3=Or(ga()),b3=Or(Wn());Bu();_0()});var _3=M(()=>{});var x3={};nt(x3,{DATA_ENCODING:()=>Fa,DID_DELIMITER:()=>Uu,DID_METHOD:()=>ju,DID_PREFIX:()=>Mu,JSON_ENCODING:()=>Lu,JWT_DELIMITER:()=>es,JWT_ENCODING:()=>fo,JWT_IRIDIUM_ALG:()=>Tu,JWT_IRIDIUM_TYP:()=>Nu,KEY_PAIR_SEED_LENGTH:()=>m0,MULTICODEC_ED25519_BASE:()=>Fu,MULTICODEC_ED25519_ENCODING:()=>po,MULTICODEC_ED25519_HEADER:()=>$u,MULTICODEC_ED25519_LENGTH:()=>g0,decodeData:()=>sj,decodeIss:()=>w0,decodeJSON:()=>$a,decodeJWT:()=>E0,decodeSig:()=>w3,encodeData:()=>v0,encodeIss:()=>y0,encodeJSON:()=>Ba,encodeJWT:()=>b0,encodeSig:()=>y3,generateKeyPair:()=>oj,signJWT:()=>aj,verifyJWT:()=>cj});var I3=M(()=>{E3();Bu();_3();_0()});var S3,C3,D3,A3,ku,ka,x0,qu,fn,qa,Hu=M(()=>{S3="PARSE_ERROR",C3="INVALID_REQUEST",D3="METHOD_NOT_FOUND",A3="INVALID_PARAMS",ku="INTERNAL_ERROR",ka="SERVER_ERROR",x0=[-32700,-32600,-32601,-32602,-32603],qu=[-32e3,-32099],fn={[S3]:{code:-32700,message:"Parse error"},[C3]:{code:-32600,message:"Invalid Request"},[D3]:{code:-32601,message:"Method not found"},[A3]:{code:-32602,message:"Invalid params"},[ku]:{code:-32603,message:"Internal error"},[ka]:{code:-32e3,message:"Server error"}},qa=ka});function lj(r){return r<=qu[0]&&r>=qu[1]}function zu(r){return x0.includes(r)}function O3(r){return typeof r=="number"}function Vu(r){return Object.keys(fn).includes(r)?fn[r]:fn[qa]}function Wu(r){let e=Object.values(fn).find(t=>t.code===r);return e||fn[qa]}function uj(r){if(typeof r.error.code=="undefined")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message=="undefined")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!O3(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(zu(r.error.code)){let e=Wu(r.error.code);if(e.message!==fn[qa].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function Ha(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var I0=M(()=>{Hu()});var P3=Z(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.isBrowserCryptoAvailable=dn.getSubtleCrypto=dn.getBrowerCrypto=void 0;function S0(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}dn.getBrowerCrypto=S0;function R3(){let r=S0();return r.subtle||r.webkitSubtle}dn.getSubtleCrypto=R3;function hj(){return!!S0()&&!!R3()}dn.isBrowserCryptoAvailable=hj});var L3=Z(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.isBrowser=pn.isNode=pn.isReactNative=void 0;function T3(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}pn.isReactNative=T3;function N3(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}pn.isNode=N3;function fj(){return!T3()&&!N3()}pn.isBrowser=fj});var C0=Z(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var U3=(wr(),yr);U3.__exportStar(P3(),Ku);U3.__exportStar(L3(),Ku)});var Vt={};nt(Vt,{isNodeJs:()=>j3});var M3,j3,F3=M(()=>{M3=Or(C0());qt(Vt,Or(C0()));j3=M3.isNode});function D0(r=3){let e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function A0(r=6){return BigInt(D0(r))}function O0(r,e,t){return{id:t||D0(),jsonrpc:"2.0",method:r,params:e}}function dj(r,e){return{id:r,jsonrpc:"2.0",result:e}}function za(r,e,t){return{id:r,jsonrpc:"2.0",error:$3(e,t)}}function $3(r,e){return typeof r=="undefined"?Vu(ku):(typeof r=="string"&&(r=Object.assign(Object.assign({},Vu(ka)),{message:r})),typeof e!="undefined"&&(r.data=e),zu(r.code)&&(r=Wu(r.code)),r)}var B3=M(()=>{I0();Hu()});function pj(r){return r.includes("*")?Ju(r):!/\W/g.test(r)}function Gu(r){return r==="*"}function Ju(r){return Gu(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function gj(r){return!Gu(r)&&Ju(r)&&!r.split("*")[0].trim()}function mj(r){return!Gu(r)&&Ju(r)&&!r.split("*")[1].trim()}var k3=M(()=>{});var q3=M(()=>{});var Va,R0=M(()=>{Va=class{}});var H3,P0,Yu,z3=M(()=>{R0();H3=class extends Va{constructor(e){super()}},P0=class extends Va{constructor(){super()}},Yu=class extends P0{constructor(e){super()}}});var V3=M(()=>{});var W3=M(()=>{q3();R0();z3();V3()});var K3=M(()=>{W3()});function vj(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function G3(r,e){let t=vj(r);return typeof t=="undefined"?!1:new RegExp(e).test(t)}function Zu(r){return G3(r,yj)}function Xu(r){return G3(r,wj)}function T0(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var yj,wj,J3=M(()=>{yj="^https?:",wj="^wss?:"});function N0(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function bj(r){return N0(r)&&"method"in r}function L0(r){return N0(r)&&(Y3(r)||Qu(r))}function Y3(r){return"result"in r}function Qu(r){return"error"in r}function Ej(r){return"error"in r&&r.valid===!1}var Z3=M(()=>{});var Xt={};nt(Xt,{DEFAULT_ERROR:()=>qa,IBaseJsonRpcProvider:()=>P0,IEvents:()=>Va,IJsonRpcConnection:()=>H3,IJsonRpcProvider:()=>Yu,INTERNAL_ERROR:()=>ku,INVALID_PARAMS:()=>A3,INVALID_REQUEST:()=>C3,METHOD_NOT_FOUND:()=>D3,PARSE_ERROR:()=>S3,RESERVED_ERROR_CODES:()=>x0,SERVER_ERROR:()=>ka,SERVER_ERROR_CODE_RANGE:()=>qu,STANDARD_ERROR_MAP:()=>fn,formatErrorMessage:()=>$3,formatJsonRpcError:()=>za,formatJsonRpcRequest:()=>O0,formatJsonRpcResult:()=>dj,getBigIntRpcId:()=>A0,getError:()=>Vu,getErrorByCode:()=>Wu,isHttpUrl:()=>Zu,isJsonRpcError:()=>Qu,isJsonRpcPayload:()=>N0,isJsonRpcRequest:()=>bj,isJsonRpcResponse:()=>L0,isJsonRpcResult:()=>Y3,isJsonRpcValidationInvalid:()=>Ej,isLocalhostUrl:()=>T0,isNodeJs:()=>j3,isReservedErrorCode:()=>zu,isServerErrorCode:()=>lj,isValidDefaultRoute:()=>Gu,isValidErrorCode:()=>O3,isValidLeadingWildcardRoute:()=>gj,isValidRoute:()=>pj,isValidTrailingWildcardRoute:()=>mj,isValidWildcardRoute:()=>Ju,isWsUrl:()=>Xu,parseConnectionError:()=>Ha,payloadId:()=>D0,validateJsonRpcError:()=>uj});var mo=M(()=>{Hu();I0();F3();qt(Xt,Vt);B3();k3();K3();J3();Z3()});var X3,U0,Q3,M0=M(()=>{X3=Or(Yr());mo();U0=class extends Yu{constructor(e){super(e);this.events=new X3.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(O0(e.method,e.params||[],e.id||A0().toString()),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(o){n(o)}this.events.on(`${e.id}`,o=>{Qu(o)?n(o.error):i(o.result)});try{await this.connection.send(e,t)}catch(o){n(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),L0(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},Q3=U0});var j0={};nt(j0,{JsonRpcProvider:()=>U0,default:()=>_j});var _j,F0=M(()=>{M0();M0();_j=Q3});var t5=Z((ZJ,e5)=>{"use strict";e5.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var r5,i5,xj,Ij,Sj,$0,n5,B0=M(()=>{r5=Or(Yr());Ua();mo();i5=10,xj=()=>typeof global!="undefined"&&typeof global.WebSocket!="undefined"?global.WebSocket:typeof window!="undefined"&&typeof window.WebSocket!="undefined"?window.WebSocket:t5(),Ij=()=>typeof window!="undefined",Sj=xj(),$0=class{constructor(e){if(this.url=e,this.events=new r5.EventEmitter,this.registering=!1,!Xu(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket!="undefined"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket=="undefined"){t(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e,t){typeof this.socket=="undefined"&&(this.socket=await this.register());try{this.socket.send(un(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!Xu(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket=="undefined")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,Xt.isReactNative)()?void 0:{rejectUnauthorized:!T0(e)},o=new Sj(e,[],n);Ij()?o.onerror=c=>{let u=c;i(this.emitError(u.error))}:o.on("error",c=>{i(this.emitError(c))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data=="undefined")return;let t=typeof e.data=="string"?Yn(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),o=za(e,n);this.events.emit("payload",o)}parseError(e,t=this.url){return Ha(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>i5&&this.events.setMaxListeners(i5)}emitError(e){let t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},n5=$0});var s5={};nt(s5,{WsConnection:()=>$0,default:()=>Cj});var Cj,o5=M(()=>{B0();B0();Cj=n5});var k5=Z((Ya,vo)=>{var Dj=200,k0="__lodash_hash_undefined__",eh=1,a5=2,c5=9007199254740991,th="[object Arguments]",q0="[object Array]",Aj="[object AsyncFunction]",l5="[object Boolean]",u5="[object Date]",h5="[object Error]",f5="[object Function]",Oj="[object GeneratorFunction]",rh="[object Map]",d5="[object Number]",Rj="[object Null]",yo="[object Object]",p5="[object Promise]",Pj="[object Proxy]",g5="[object RegExp]",ih="[object Set]",m5="[object String]",Tj="[object Symbol]",Nj="[object Undefined]",H0="[object WeakMap]",y5="[object ArrayBuffer]",nh="[object DataView]",Lj="[object Float32Array]",Uj="[object Float64Array]",Mj="[object Int8Array]",jj="[object Int16Array]",Fj="[object Int32Array]",$j="[object Uint8Array]",Bj="[object Uint8ClampedArray]",kj="[object Uint16Array]",qj="[object Uint32Array]",Hj=/[\\^$.*+?()[\]{}|]/g,zj=/^\[object .+?Constructor\]$/,Vj=/^(?:0|[1-9]\d*)$/,ct={};ct[Lj]=ct[Uj]=ct[Mj]=ct[jj]=ct[Fj]=ct[$j]=ct[Bj]=ct[kj]=ct[qj]=!0;ct[th]=ct[q0]=ct[y5]=ct[l5]=ct[nh]=ct[u5]=ct[h5]=ct[f5]=ct[rh]=ct[d5]=ct[yo]=ct[g5]=ct[ih]=ct[m5]=ct[H0]=!1;var w5=typeof global=="object"&&global&&global.Object===Object&&global,Wj=typeof self=="object"&&self&&self.Object===Object&&self,Ri=w5||Wj||Function("return this")(),v5=typeof Ya=="object"&&Ya&&!Ya.nodeType&&Ya,b5=v5&&typeof vo=="object"&&vo&&!vo.nodeType&&vo,E5=b5&&b5.exports===v5,z0=E5&&w5.process,_5=function(){try{return z0&&z0.binding&&z0.binding("util")}catch{}}(),x5=_5&&_5.isTypedArray;function Kj(r,e){for(var t=-1,i=r==null?0:r.length,n=0,o=[];++t<i;){var c=r[t];e(c,t,r)&&(o[n++]=c)}return o}function Gj(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function Jj(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function Yj(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function Zj(r){return function(e){return r(e)}}function Xj(r,e){return r.has(e)}function Qj(r,e){return r==null?void 0:r[e]}function eF(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function tF(r,e){return function(t){return r(e(t))}}function rF(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var iF=Array.prototype,nF=Function.prototype,sh=Object.prototype,V0=Ri["__core-js_shared__"],I5=nF.toString,ri=sh.hasOwnProperty,S5=function(){var r=/[^.]+$/.exec(V0&&V0.keys&&V0.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),C5=sh.toString,sF=RegExp("^"+I5.call(ri).replace(Hj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D5=E5?Ri.Buffer:void 0,oh=Ri.Symbol,A5=Ri.Uint8Array,O5=sh.propertyIsEnumerable,oF=iF.splice,ts=oh?oh.toStringTag:void 0,R5=Object.getOwnPropertySymbols,aF=D5?D5.isBuffer:void 0,cF=tF(Object.keys,Object),W0=wo(Ri,"DataView"),Wa=wo(Ri,"Map"),K0=wo(Ri,"Promise"),G0=wo(Ri,"Set"),J0=wo(Ri,"WeakMap"),Ka=wo(Object,"create"),lF=ns(W0),uF=ns(Wa),hF=ns(K0),fF=ns(G0),dF=ns(J0),P5=oh?oh.prototype:void 0,Y0=P5?P5.valueOf:void 0;function rs(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function pF(){this.__data__=Ka?Ka(null):{},this.size=0}function gF(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function mF(r){var e=this.__data__;if(Ka){var t=e[r];return t===k0?void 0:t}return ri.call(e,r)?e[r]:void 0}function yF(r){var e=this.__data__;return Ka?e[r]!==void 0:ri.call(e,r)}function wF(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Ka&&e===void 0?k0:e,this}rs.prototype.clear=pF;rs.prototype.delete=gF;rs.prototype.get=mF;rs.prototype.has=yF;rs.prototype.set=wF;function Pi(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function vF(){this.__data__=[],this.size=0}function bF(r){var e=this.__data__,t=ch(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():oF.call(e,t,1),--this.size,!0}function EF(r){var e=this.__data__,t=ch(e,r);return t<0?void 0:e[t][1]}function _F(r){return ch(this.__data__,r)>-1}function xF(r,e){var t=this.__data__,i=ch(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}Pi.prototype.clear=vF;Pi.prototype.delete=bF;Pi.prototype.get=EF;Pi.prototype.has=_F;Pi.prototype.set=xF;function is(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function IF(){this.size=0,this.__data__={hash:new rs,map:new(Wa||Pi),string:new rs}}function SF(r){var e=lh(this,r).delete(r);return this.size-=e?1:0,e}function CF(r){return lh(this,r).get(r)}function DF(r){return lh(this,r).has(r)}function AF(r,e){var t=lh(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}is.prototype.clear=IF;is.prototype.delete=SF;is.prototype.get=CF;is.prototype.has=DF;is.prototype.set=AF;function ah(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new is;++e<t;)this.add(r[e])}function OF(r){return this.__data__.set(r,k0),this}function RF(r){return this.__data__.has(r)}ah.prototype.add=ah.prototype.push=OF;ah.prototype.has=RF;function gn(r){var e=this.__data__=new Pi(r);this.size=e.size}function PF(){this.__data__=new Pi,this.size=0}function TF(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function NF(r){return this.__data__.get(r)}function LF(r){return this.__data__.has(r)}function UF(r,e){var t=this.__data__;if(t instanceof Pi){var i=t.__data__;if(!Wa||i.length<Dj-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new is(i)}return t.set(r,e),this.size=t.size,this}gn.prototype.clear=PF;gn.prototype.delete=TF;gn.prototype.get=NF;gn.prototype.has=LF;gn.prototype.set=UF;function MF(r,e){var t=uh(r),i=!t&&ZF(r),n=!t&&!i&&Z0(r),o=!t&&!i&&!n&&B5(r),c=t||i||n||o,u=c?Yj(r.length,String):[],f=u.length;for(var d in r)(e||ri.call(r,d))&&!(c&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||WF(d,f)))&&u.push(d);return u}function ch(r,e){for(var t=r.length;t--;)if(M5(r[t][0],e))return t;return-1}function jF(r,e,t){var i=e(r);return uh(r)?i:Gj(i,t(r))}function Ga(r){return r==null?r===void 0?Nj:Rj:ts&&ts in Object(r)?zF(r):YF(r)}function T5(r){return Ja(r)&&Ga(r)==th}function N5(r,e,t,i,n){return r===e?!0:r==null||e==null||!Ja(r)&&!Ja(e)?r!==r&&e!==e:FF(r,e,t,i,N5,n)}function FF(r,e,t,i,n,o){var c=uh(r),u=uh(e),f=c?q0:mn(r),d=u?q0:mn(e);f=f==th?yo:f,d=d==th?yo:d;var g=f==yo,y=d==yo,b=f==d;if(b&&Z0(r)){if(!Z0(e))return!1;c=!0,g=!1}if(b&&!g)return o||(o=new gn),c||B5(r)?L5(r,e,t,i,n,o):qF(r,e,f,t,i,n,o);if(!(t&eh)){var v=g&&ri.call(r,"__wrapped__"),E=y&&ri.call(e,"__wrapped__");if(v||E){var I=v?r.value():r,O=E?e.value():e;return o||(o=new gn),n(I,O,t,i,o)}}return b?(o||(o=new gn),HF(r,e,t,i,n,o)):!1}function $F(r){if(!$5(r)||GF(r))return!1;var e=j5(r)?sF:zj;return e.test(ns(r))}function BF(r){return Ja(r)&&F5(r.length)&&!!ct[Ga(r)]}function kF(r){if(!JF(r))return cF(r);var e=[];for(var t in Object(r))ri.call(r,t)&&t!="constructor"&&e.push(t);return e}function L5(r,e,t,i,n,o){var c=t&eh,u=r.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var d=o.get(r);if(d&&o.get(e))return d==e;var g=-1,y=!0,b=t&a5?new ah:void 0;for(o.set(r,e),o.set(e,r);++g<u;){var v=r[g],E=e[g];if(i)var I=c?i(E,v,g,e,r,o):i(v,E,g,r,e,o);if(I!==void 0){if(I)continue;y=!1;break}if(b){if(!Jj(e,function(O,R){if(!Xj(b,R)&&(v===O||n(v,O,t,i,o)))return b.push(R)})){y=!1;break}}else if(!(v===E||n(v,E,t,i,o))){y=!1;break}}return o.delete(r),o.delete(e),y}function qF(r,e,t,i,n,o,c){switch(t){case nh:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case y5:return!(r.byteLength!=e.byteLength||!o(new A5(r),new A5(e)));case l5:case u5:case d5:return M5(+r,+e);case h5:return r.name==e.name&&r.message==e.message;case g5:case m5:return r==e+"";case rh:var u=eF;case ih:var f=i&eh;if(u||(u=rF),r.size!=e.size&&!f)return!1;var d=c.get(r);if(d)return d==e;i|=a5,c.set(r,e);var g=L5(u(r),u(e),i,n,o,c);return c.delete(r),g;case Tj:if(Y0)return Y0.call(r)==Y0.call(e)}return!1}function HF(r,e,t,i,n,o){var c=t&eh,u=U5(r),f=u.length,d=U5(e),g=d.length;if(f!=g&&!c)return!1;for(var y=f;y--;){var b=u[y];if(!(c?b in e:ri.call(e,b)))return!1}var v=o.get(r);if(v&&o.get(e))return v==e;var E=!0;o.set(r,e),o.set(e,r);for(var I=c;++y<f;){b=u[y];var O=r[b],R=e[b];if(i)var H=c?i(R,O,b,e,r,o):i(O,R,b,r,e,o);if(!(H===void 0?O===R||n(O,R,t,i,o):H)){E=!1;break}I||(I=b=="constructor")}if(E&&!I){var U=r.constructor,N=e.constructor;U!=N&&"constructor"in r&&"constructor"in e&&!(typeof U=="function"&&U instanceof U&&typeof N=="function"&&N instanceof N)&&(E=!1)}return o.delete(r),o.delete(e),E}function U5(r){return jF(r,e$,VF)}function lh(r,e){var t=r.__data__;return KF(e)?t[typeof e=="string"?"string":"hash"]:t.map}function wo(r,e){var t=Qj(r,e);return $F(t)?t:void 0}function zF(r){var e=ri.call(r,ts),t=r[ts];try{r[ts]=void 0;var i=!0}catch{}var n=C5.call(r);return i&&(e?r[ts]=t:delete r[ts]),n}var VF=R5?function(r){return r==null?[]:(r=Object(r),Kj(R5(r),function(e){return O5.call(r,e)}))}:t$,mn=Ga;(W0&&mn(new W0(new ArrayBuffer(1)))!=nh||Wa&&mn(new Wa)!=rh||K0&&mn(K0.resolve())!=p5||G0&&mn(new G0)!=ih||J0&&mn(new J0)!=H0)&&(mn=function(r){var e=Ga(r),t=e==yo?r.constructor:void 0,i=t?ns(t):"";if(i)switch(i){case lF:return nh;case uF:return rh;case hF:return p5;case fF:return ih;case dF:return H0}return e});function WF(r,e){return e=e??c5,!!e&&(typeof r=="number"||Vj.test(r))&&r>-1&&r%1==0&&r<e}function KF(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function GF(r){return!!S5&&S5 in r}function JF(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||sh;return r===t}function YF(r){return C5.call(r)}function ns(r){if(r!=null){try{return I5.call(r)}catch{}try{return r+""}catch{}}return""}function M5(r,e){return r===e||r!==r&&e!==e}var ZF=T5(function(){return arguments}())?T5:function(r){return Ja(r)&&ri.call(r,"callee")&&!O5.call(r,"callee")},uh=Array.isArray;function XF(r){return r!=null&&F5(r.length)&&!j5(r)}var Z0=aF||r$;function QF(r,e){return N5(r,e)}function j5(r){if(!$5(r))return!1;var e=Ga(r);return e==f5||e==Oj||e==Aj||e==Pj}function F5(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=c5}function $5(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Ja(r){return r!=null&&typeof r=="object"}var B5=x5?Zj(x5):BF;function e$(r){return XF(r)?MF(r):kF(r)}function t$(){return[]}function r$(){return!1}vo.exports=QF});var Qx=Z(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});var ss=Yr(),i$=g_(),hh=__(),et=Pu(),Ti=o0(),q5=(Ua(),Q_),n$=(I3(),x3),X=Ra(),s$=(wp(),yp),rt=Wn(),o$=(F0(),j0),br=(mo(),Xt),a$=(o5(),s5),c$=k5();function fh(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function l$(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var u$=fh(ss),h$=fh(i$),dh=l$(n$),f$=fh(a$),d$=fh(c$);function p$(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),c=o.charCodeAt(0);if(t[c]!==255)throw new TypeError(o+" is ambiguous");t[c]=n}var u=r.length,f=r.charAt(0),d=Math.log(u)/Math.log(256),g=Math.log(256)/Math.log(u);function y(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var I=0,O=0,R=0,H=E.length;R!==H&&E[R]===0;)R++,I++;for(var U=(H-R)*g+1>>>0,N=new Uint8Array(U);R!==H;){for(var k=E[R],W=0,C=U-1;(k!==0||W<O)&&C!==-1;C--,W++)k+=256*N[C]>>>0,N[C]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");O=W,R++}for(var A=U-O;A!==U&&N[A]===0;)A++;for(var V=f.repeat(I);A<U;++A)V+=r.charAt(N[A]);return V}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var I=0;if(E[I]!==" "){for(var O=0,R=0;E[I]===f;)O++,I++;for(var H=(E.length-I)*d+1>>>0,U=new Uint8Array(H);E[I];){var N=t[E.charCodeAt(I)];if(N===255)return;for(var k=0,W=H-1;(N!==0||k<R)&&W!==-1;W--,k++)N+=u*U[W]>>>0,U[W]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");R=k,I++}if(E[I]!==" "){for(var C=H-R;C!==H&&U[C]===0;)C++;for(var A=new Uint8Array(O+(H-C)),V=O;C!==H;)A[V++]=U[C++];return A}}}function v(E){var I=b(E);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:v}}var g$=p$,m$=g$,H5=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},y$=r=>new TextEncoder().encode(r),w$=r=>new TextDecoder().decode(r),z5=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},V5=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return K5(this,e)}},W5=class{constructor(e){this.decoders=e}or(e){return K5(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},K5=(r,e)=>new W5({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),G5=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new z5(e,t,i),this.decoder=new V5(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},ph=({name:r,prefix:e,encode:t,decode:i})=>new G5(r,e,t,i),Za=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=m$(t,e);return ph({prefix:r,name:e,encode:i,decode:o=>H5(n(o))})},v$=(r,e,t,i)=>{let n={};for(let g=0;g<e.length;++g)n[e[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;let c=new Uint8Array(o*t/8|0),u=0,f=0,d=0;for(let g=0;g<o;++g){let y=n[r[g]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<t|y,u+=t,u>=8&&(u-=8,c[d++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},b$=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,o="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,o+=e[n&u>>c];if(c&&(o+=e[n&u<<t-c]),i)for(;o.length*t&7;)o+="=";return o},Ft=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>ph({prefix:e,name:r,encode(n){return b$(n,i,t)},decode(n){return v$(n,i,t,r)}}),E$=ph({prefix:"\0",name:"identity",encode:r=>w$(r),decode:r=>y$(r)}),_$=Object.freeze({__proto__:null,identity:E$}),x$=Ft({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I$=Object.freeze({__proto__:null,base2:x$}),S$=Ft({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),C$=Object.freeze({__proto__:null,base8:S$}),D$=Za({prefix:"9",name:"base10",alphabet:"0123456789"}),A$=Object.freeze({__proto__:null,base10:D$}),O$=Ft({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),R$=Ft({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),P$=Object.freeze({__proto__:null,base16:O$,base16upper:R$}),T$=Ft({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),N$=Ft({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L$=Ft({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),U$=Ft({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),M$=Ft({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),j$=Ft({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F$=Ft({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$$=Ft({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),B$=Ft({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),k$=Object.freeze({__proto__:null,base32:T$,base32upper:N$,base32pad:L$,base32padupper:U$,base32hex:M$,base32hexupper:j$,base32hexpad:F$,base32hexpadupper:$$,base32z:B$}),q$=Za({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),H$=Za({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),z$=Object.freeze({__proto__:null,base36:q$,base36upper:H$}),V$=Za({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),W$=Za({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K$=Object.freeze({__proto__:null,base58btc:V$,base58flickr:W$}),G$=Ft({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J$=Ft({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Y$=Ft({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Z$=Ft({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),X$=Object.freeze({__proto__:null,base64:G$,base64pad:J$,base64url:Y$,base64urlpad:Z$}),J5=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Q$=J5.reduce((r,e,t)=>(r[t]=e,r),[]),eB=J5.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function tB(r){return r.reduce((e,t)=>(e+=Q$[t],e),"")}function rB(r){let e=[];for(let t of r){let i=eB[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var iB=ph({prefix:"\u{1F680}",name:"base256emoji",encode:tB,decode:rB}),nB=Object.freeze({__proto__:null,base256emoji:iB}),sB=Z5,Y5=128,oB=127,aB=~oB,cB=Math.pow(2,31);function Z5(r,e,t){e=e||[],t=t||0;for(var i=t;r>=cB;)e[t++]=r&255|Y5,r/=128;for(;r&aB;)e[t++]=r&255|Y5,r>>>=7;return e[t]=r|0,Z5.bytes=t-i+1,e}var lB=X0,uB=128,X5=127;function X0(r,e){var t=0,e=e||0,i=0,n=e,o,c=r.length;do{if(n>=c)throw X0.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=i<28?(o&X5)<<i:(o&X5)*Math.pow(2,i),i+=7}while(o>=uB);return X0.bytes=n-e,t}var hB=Math.pow(2,7),fB=Math.pow(2,14),dB=Math.pow(2,21),pB=Math.pow(2,28),gB=Math.pow(2,35),mB=Math.pow(2,42),yB=Math.pow(2,49),wB=Math.pow(2,56),vB=Math.pow(2,63),bB=function(r){return r<hB?1:r<fB?2:r<dB?3:r<pB?4:r<gB?5:r<mB?6:r<yB?7:r<wB?8:r<vB?9:10},EB={encode:sB,decode:lB,encodingLength:bB},Q5=EB,ex=(r,e,t=0)=>(Q5.encode(r,e,t),e),tx=r=>Q5.encodingLength(r),Q0=(r,e)=>{let t=e.byteLength,i=tx(r),n=i+tx(t),o=new Uint8Array(n+t);return ex(r,o,0),ex(t,o,i),o.set(e,n),new rx(r,t,e,o)},rx=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},ix=({name:r,code:e,encode:t})=>new nx(r,e,t),nx=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Q0(this.code,t):t.then(i=>Q0(this.code,i))}else throw Error("Unknown type, must be binary type")}},sx=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),_B=ix({name:"sha2-256",code:18,encode:sx("SHA-256")}),xB=ix({name:"sha2-512",code:19,encode:sx("SHA-512")}),IB=Object.freeze({__proto__:null,sha256:_B,sha512:xB}),ox=0,SB="identity",ax=H5,CB=r=>Q0(ox,ax(r)),DB={code:ox,name:SB,encode:ax,digest:CB},AB=Object.freeze({__proto__:null,identity:DB});new TextEncoder,new TextDecoder;var cx={..._$,...I$,...C$,...A$,...P$,...k$,...z$,...K$,...X$,...nB};({...IB,...AB});function lx(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function OB(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?lx(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function ux(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var hx=ux("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),eg=ux("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=OB(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),RB={utf8:hx,"utf-8":hx,hex:cx.base16,latin1:eg,ascii:eg,binary:eg,...cx};function PB(r,e="utf8"){let t=RB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?lx(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var tg="wc",fx=2,gh="core",Ni=`${tg}@2:${gh}:`,dx={name:gh,logger:"error"},px={database:":memory:"},gx="crypto",rg="client_ed25519_seed",mx=rt.ONE_DAY,yx="keychain",wx="0.3",vx="messages",bx="0.3",Ex=rt.SIX_HOURS,_x="publisher",xx="irn",Ix="error",ig="wss://relay.walletconnect.com",Sx="relayer",Pt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Cx="_subscription",bo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Dx=rt.ONE_SECOND/2,TB={database:":memory:"},Ax="2.8.3",Ox=1e4,Rx="0.3",Px="WALLETCONNECT_CLIENT_ID",Vr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},NB=rt.THIRTY_DAYS,Tx="subscription",Nx="0.3",Lx=rt.FIVE_SECONDS*1e3,Ux="pairing",Mx="0.3",LB=rt.THIRTY_DAYS,Eo={wc_pairingDelete:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:0},res:{ttl:rt.ONE_DAY,prompt:!1,tag:0}}},Wr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},jx="history",Fx="0.3",$x="expirer",Pr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Bx="0.3",UB=rt.ONE_DAY,mh="verify-api",ng="https://verify.walletconnect.com",sg=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=yx,this.version=wx,this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:o}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(o)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,X.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},og=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=gx,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),o=dh.generateKeyPair(n);return dh.encodeIss(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=X.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let o=await this.getClientSeed(),c=dh.generateKeyPair(o),u=X.generateRandomBytes32(),f=mx;return await dh.signJWT(u,n,f,c)},this.generateSharedKey=(n,o,c)=>{this.isInitialized();let u=this.getPrivateKey(n),f=X.deriveSymKey(u,o);return this.setSymKey(f,c)},this.setSymKey=async(n,o)=>{this.isInitialized();let c=o||X.hashKey(n);return await this.keychain.set(c,n),c},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,o,c)=>{this.isInitialized();let u=X.validateEncoding(c),f=q5.safeJsonStringify(o);if(X.isTypeOneEnvelope(u)){let b=u.senderPublicKey,v=u.receiverPublicKey;n=await this.generateSharedKey(b,v)}let d=this.getSymKey(n),{type:g,senderPublicKey:y}=u;return X.encrypt({type:g,symKey:d,message:f,senderPublicKey:y})},this.decode=async(n,o,c)=>{this.isInitialized();let u=X.validateDecoding(o,c);if(X.isTypeOneEnvelope(u)){let g=u.receiverPublicKey,y=u.senderPublicKey;n=await this.generateSharedKey(g,y)}let f=this.getSymKey(n),d=X.decrypt({symKey:f,encoded:o});return q5.safeJsonParse(d)},this.getPayloadType=n=>{let o=X.deserialize(n);return X.decodeTypeByte(o.type)},this.getPayloadSenderPublicKey=n=>{let o=X.deserialize(n);return o.senderPublicKey?s$.toString(o.senderPublicKey,X.BASE16):void 0},this.core=e,this.logger=et.generateChildLogger(t,this.name),this.keychain=i||new sg(this.core,this.logger)}get context(){return et.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(rg)}catch{e=X.generateRandomBytes32(),await this.keychain.set(rg,e)}return PB(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ag=class extends Ti.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=vx,this.version=bx,this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let o=X.hashMessage(n),c=this.messages.get(i);return typeof c>"u"&&(c={}),typeof c[o]<"u"||(c[o]=n,this.messages.set(i,c),await this.persist()),o},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let o=this.get(i),c=X.hashMessage(n);return typeof o[c]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=et.generateChildLogger(e,this.name),this.core=t}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,X.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kx=class extends Ti.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new ss.EventEmitter,this.name=_x,this.queue=new Map,this.publishTimeout=rt.toMiliseconds(rt.TEN_SECONDS),this.queueTimeout=rt.toMiliseconds(rt.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(i,n,o)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:o}});try{let c=o?.ttl||Ex,u=X.getRelayProtocolName(o),f=o?.prompt||!1,d=o?.tag||0,g=o?.id||br.getBigIntRpcId().toString(),y={topic:i,message:n,opts:{ttl:c,relay:u,prompt:f,tag:d,id:g}},b=setTimeout(()=>this.queue.set(g,y),this.queueTimeout);try{await await X.createExpiringPromise(this.rpcPublish(i,n,c,u,f,d,g),this.publishTimeout),clearTimeout(b),this.relayer.events.emit(Pt.publish,y)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:o}})}catch(c){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(c),c}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=et.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return et.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,o,c,u){var f,d,g,y;let b={method:X.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:o,tag:c},id:u};return X.isUndefined((f=b.params)==null?void 0:f.prompt)&&((d=b.params)==null||delete d.prompt),X.isUndefined((g=b.params)==null?void 0:g.tag)&&((y=b.params)==null||delete y.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b}),this.relayer.request(b)}onPublish(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:n}=e;await this.publish(t,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(hh.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Pt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Pt.message_ack,e=>{this.onPublish(e.id.toString())})}},qx=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(o=>o!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},MB=Object.defineProperty,jB=Object.defineProperties,FB=Object.getOwnPropertyDescriptors,Hx=Object.getOwnPropertySymbols,$B=Object.prototype.hasOwnProperty,BB=Object.prototype.propertyIsEnumerable,zx=(r,e,t)=>e in r?MB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xa=(r,e)=>{for(var t in e||(e={}))$B.call(e,t)&&zx(r,t,e[t]);if(Hx)for(var t of Hx(e))BB.call(e,t)&&zx(r,t,e[t]);return r},cg=(r,e)=>jB(r,FB(e)),lg=class extends Ti.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new qx,this.events=new ss.EventEmitter,this.name=Tx,this.version=Nx,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ni,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let o=X.getRelayProtocolName(n),c={topic:i,relay:o};this.pending.set(i,c);let u=await this.rpcSubscribe(i,o);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),u}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,o)=>{let c=new rt.Watch;c.start(this.pendingSubscriptionWatchLabel);let u=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),n(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=Lx&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=et.generateChildLogger(t,this.name),this.clientId=""}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=X.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let o=X.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:X.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await X.createExpiringPromise(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Pt.connection_stalled)}return X.hashMessage(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,i={method:X.getRelayProtocolApi(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await X.createExpiringPromise(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Pt.connection_stalled)}}rpcUnsubscribe(e,t,i){let n={method:X.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,cg(Xa({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Xa({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Xa({},t)),this.topicMap.set(t.topic,e),this.events.emit(Vr.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Vr.deleted,cg(Xa({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Vr.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Vr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);X.isValidArray(t)&&this.onBatchSubscribe(t.map((i,n)=>cg(Xa({},e[n]),{id:i})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(hh.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Pt.connect,async()=>{await this.onConnect()}),this.relayer.on(Pt.disconnect,()=>{this.onDisconnect()}),this.events.on(Vr.created,async e=>{let t=Vr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Vr.deleted,async e=>{let t=Vr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}},kB=Object.defineProperty,Vx=Object.getOwnPropertySymbols,qB=Object.prototype.hasOwnProperty,HB=Object.prototype.propertyIsEnumerable,Wx=(r,e,t)=>e in r?kB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zB=(r,e)=>{for(var t in e||(e={}))qB.call(e,t)&&Wx(r,t,e[t]);if(Vx)for(var t of Vx(e))HB.call(e,t)&&Wx(r,t,e[t]);return r},ug=class extends Ti.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ss.EventEmitter,this.name=Sx,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?et.generateChildLogger(e.logger,this.name):et.pino(et.getDefaultLoggerOptions({level:e.logger||Ix})),this.messages=new ag(this.logger,e.core),this.subscriber=new lg(this,this.logger),this.publisher=new kx(this,this.logger),this.relayUrl=e?.relayUrl||ig,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},Ox)}get context(){return et.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"";return n||(await Promise.all([new Promise(o=>{this.subscriber.once(Vr.created,c=>{c.topic===e&&o()})}),new Promise(async o=>{n=await this.subscriber.subscribe(e,t),o()})]),n)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(Pt.transport_closed))}async transportOpen(e){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=e||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(Vr.resubscribed,()=>{t()})}),await Promise.race([new Promise(async(t,i)=>{await X.createExpiringPromise(this.provider.connect(),5e3,"socket stalled").catch(n=>i(n)).then(()=>t()).finally(()=>this.removeListener(Pt.transport_closed,this.rejectTransportOpen))}),new Promise(t=>this.once(Pt.transport_closed,this.rejectTransportOpen))])])}catch(t){this.logger.error(t);let i=t;if(!this.isConnectionStalled(i.message))throw t;this.events.emit(Pt.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=e||this.relayUrl,this.connected&&await Promise.all([new Promise(t=>{this.provider.once(bo.disconnect,()=>{t()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$.JsonRpcProvider(new f$.default(X.formatRelayRpcUrl({sdkVersion:Ax,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),br.isJsonRpcRequest(e)){if(!e.method.endsWith(Cx))return;let t=e.params,{topic:i,message:n,publishedAt:o}=t.data,c={topic:i,message:n,publishedAt:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zB({type:"event",event:t.id},c)),this.events.emit(t.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else br.isJsonRpcResponse(e)&&this.events.emit(Pt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Pt.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=br.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerProviderListeners(){this.provider.on(bo.payload,e=>this.onProviderPayload(e)),this.provider.on(bo.connect,()=>{this.events.emit(Pt.connect)}),this.provider.on(bo.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(bo.error,e=>{this.logger.error(e),this.events.emit(Pt.error,e)})}registerEventListeners(){this.events.on(Pt.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(Pt.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},rt.toMiliseconds(Dx))}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},VB=Object.defineProperty,Kx=Object.getOwnPropertySymbols,WB=Object.prototype.hasOwnProperty,KB=Object.prototype.propertyIsEnumerable,Gx=(r,e,t)=>e in r?VB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jx=(r,e)=>{for(var t in e||(e={}))WB.call(e,t)&&Gx(r,t,e[t]);if(Kx)for(var t of Kx(e))KB.call(e,t)&&Gx(r,t,e[t]);return r},hg=class extends Ti.IStore{constructor(e,t,i,n=Ni,o=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=Rx,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!X.isUndefined(c)?this.map.set(this.getKey(c),c):X.isProposalStruct(c)?this.map.set(c.id,c):X.isSessionStruct(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>d$.default(u[f],c[f]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});let f=Jx(Jx({},this.getData(c)),u);this.map.set(c,f),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=et.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=o}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},fg=class{constructor(e,t){this.core=e,this.logger=t,this.name=Ux,this.version=Mx,this.events=new u$.default,this.initialized=!1,this.storagePrefix=Ni,this.ignoredPayloadTypes=[X.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=X.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),o=X.calcExpiry(rt.FIVE_MINUTES),c={protocol:xx},u={topic:n,expiry:o,relay:c,active:!1},f=X.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:c});return await this.pairings.set(n,u),await this.core.relayer.subscribe(n),this.core.expirer.set(n,o),{topic:n,uri:f}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:o,relay:c}=X.parseUri(i.uri);if(this.pairings.keys.includes(n))throw new Error(`Pairing already exists: ${n}`);if(this.core.crypto.hasKeys(n))throw new Error(`Keychain already exists: ${n}`);let u=X.calcExpiry(rt.FIVE_MINUTES),f={topic:n,relay:c,expiry:u,active:!1};return await this.pairings.set(n,f),await this.core.crypto.setSymKey(o,n),await this.core.relayer.subscribe(n,{relay:c}),this.core.expirer.set(n,u),i.activatePairing&&await this.activate({topic:n}),f},this.activate=async({topic:i})=>{this.isInitialized();let n=X.calcExpiry(rt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let o=await this.sendRequest(n,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=X.createDelayedPromise();this.events.once(X.engineEvent("pairing_ping",o),({error:d})=>{d?f(d):u()}),await c()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",X.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,o)=>{let c=br.formatJsonRpcRequest(n,o),u=await this.core.crypto.encode(i,c),f=Eo[n].req;return this.core.history.set(i,c),this.core.relayer.publish(i,u,f),c.id},this.sendResult=async(i,n,o)=>{let c=br.formatJsonRpcResult(i,o),u=await this.core.crypto.encode(n,c),f=await this.core.history.get(n,i),d=Eo[f.request.method].res;await this.core.relayer.publish(n,u,d),await this.core.history.resolve(c)},this.sendError=async(i,n,o)=>{let c=br.formatJsonRpcError(i,o),u=await this.core.crypto.encode(n,c),f=await this.core.history.get(n,i),d=Eo[f.request.method]?Eo[f.request.method].res:Eo.unregistered_method.res;await this.core.relayer.publish(n,u,d),await this.core.history.resolve(c)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,X.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>X.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:o}=i,c=o.method;if(this.pairings.keys.includes(n))switch(c){case"wc_pairingPing":return this.onPairingPingRequest(n,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,o);default:return this.onUnknownRpcMethodRequest(n,o)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:o}=i,c=(await this.core.history.get(n,o.id)).request.method;if(this.pairings.keys.includes(n))switch(c){case"wc_pairingPing":return this.onPairingPingResponse(n,o);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(i,n)=>{let{id:o}=n;try{this.isValidPing({topic:i}),await this.sendResult(o,i,!0),this.events.emit("pairing_ping",{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onPairingPingResponse=(i,n)=>{let{id:o}=n;setTimeout(()=>{br.isJsonRpcResult(n)?this.events.emit(X.engineEvent("pairing_ping",o),{}):br.isJsonRpcError(n)&&this.events.emit(X.engineEvent("pairing_ping",o),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:o}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit("pairing_delete",{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:o,method:c}=n;try{if(this.registeredMethods.includes(c))return;let u=X.getSdkError("WC_METHOD_UNSUPPORTED",c);await this.sendError(o,i,u),this.logger.error(u)}catch(u){await this.sendError(o,i,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(X.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!X.isValidParams(i)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!X.isValidUrl(i.uri)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!X.isValidParams(i)){let{message:o}=X.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(o)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!X.isValidParams(i)){let{message:o}=X.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(o)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!X.isValidString(i,!1)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=X.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(X.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=X.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=et.generateChildLogger(t,this.name),this.pairings=new hg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return et.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Pt.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);br.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):br.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Pr.expired,async e=>{let{topic:t}=X.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},dg=class extends Ti.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new ss.EventEmitter,this.name=jx,this.version=Fx,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:o}),this.records.has(n.id))return;let c={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:o};this.records.set(c.id,c),this.events.emit(Wr.created,c)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=br.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Wr.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(o=>{if(o.topic===i){if(typeof n<"u"&&o.id!==n)return;this.records.delete(o.id),this.events.emit(Wr.deleted,o)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:br.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Wr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Wr.created,e=>{let t=Wr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Wr.updated,e=>{let t=Wr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Wr.deleted,e=>{let t=Wr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},pg=class extends Ti.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new ss.EventEmitter,this.name=$x,this.version=Bx,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let o=this.formatTarget(i),c={target:o,expiry:n};this.expirations.set(o,c),this.checkExpiry(o,c),this.events.emit(Pr.created,{target:o,expiration:c})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){let n=this.formatTarget(i),o=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Pr.deleted,{target:n,expiration:o})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return X.formatTopicTarget(e);if(typeof e=="number")return X.formatIdTarget(e);let{message:t}=X.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Pr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;rt.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Pr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(hh.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Pr.created,e=>{let t=Pr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Pr.expired,e=>{let t=Pr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Pr.deleted,e=>{let t=Pr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},gg=class extends Ti.IVerify{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=mh,this.initialized=!1,this.init=async i=>{X.isReactNative()||!X.isBrowser()||(this.verifyUrl=i?.verifyUrl||ng,await this.createIframe())},this.register=async i=>{var n;if(this.initialized||await this.init(),!!this.iframe)try{(n=this.iframe.contentWindow)==null||n.postMessage(i.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${i.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async i=>{var n;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${i.attestationId}`);let o=this.startAbortTimer(rt.FIVE_SECONDS),c=await fetch(`${this.verifyUrl}/attestation/${i.attestationId}`,{signal:this.abortController.signal});return clearTimeout(o),c.status===200?(n=await c.json())==null?void 0:n.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((i,n)=>{if(document.getElementById(mh))return i();let o=document.createElement("iframe");o.setAttribute("id",mh),o.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),o.style.display="none",o.addEventListener("load",()=>{this.initialized=!0,i()}),o.addEventListener("error",c=>{n(c)}),document.body.append(o),this.iframe=o}),new Promise(i=>{setTimeout(()=>i("iframe load timeout"),rt.toMiliseconds(rt.ONE_SECOND/2))})])}catch(i){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(i)}},this.logger=et.generateChildLogger(t,this.name),this.verifyUrl=ng,this.abortController=new AbortController,this.isDevEnv=X.isNode()&&process.env.IS_VITEST}get context(){return et.getLoggerContext(this.logger)}startAbortTimer(e){return setTimeout(()=>this.abortController.abort(),rt.toMiliseconds(e))}},GB=Object.defineProperty,Yx=Object.getOwnPropertySymbols,JB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,Zx=(r,e,t)=>e in r?GB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xx=(r,e)=>{for(var t in e||(e={}))JB.call(e,t)&&Zx(r,t,e[t]);if(Yx)for(var t of Yx(e))YB.call(e,t)&&Zx(r,t,e[t]);return r},Qa=class extends Ti.ICore{constructor(e){super(e),this.protocol=tg,this.version=fx,this.name=gh,this.events=new ss.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||ig;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:et.pino(et.getDefaultLoggerOptions({level:e?.logger||dx.logger}));this.logger=et.generateChildLogger(t,this.name),this.heartbeat=new hh.HeartBeat,this.crypto=new og(this,this.logger,e?.keychain),this.history=new dg(this,this.logger),this.expirer=new pg(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new h$.default(Xx(Xx({},px),e?.storageOptions)),this.relayer=new ug({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fg(this,this.logger),this.verify=new gg(this.projectId||"",this.logger)}static async init(e){let t=new Qa(e);await t.initialize();let i=await t.crypto.getClientId();return await t.storage.setItem(Px,i),t}get context(){return et.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},ZB=Qa;le.CORE_CONTEXT=gh,le.CORE_DEFAULT=dx,le.CORE_PROTOCOL=tg,le.CORE_STORAGE_OPTIONS=px,le.CORE_STORAGE_PREFIX=Ni,le.CORE_VERSION=fx,le.CRYPTO_CLIENT_SEED=rg,le.CRYPTO_CONTEXT=gx,le.CRYPTO_JWT_TTL=mx,le.Core=ZB,le.Crypto=og,le.EXPIRER_CONTEXT=$x,le.EXPIRER_DEFAULT_TTL=UB,le.EXPIRER_EVENTS=Pr,le.EXPIRER_STORAGE_VERSION=Bx,le.Expirer=pg,le.HISTORY_CONTEXT=jx,le.HISTORY_EVENTS=Wr,le.HISTORY_STORAGE_VERSION=Fx,le.JsonRpcHistory=dg,le.KEYCHAIN_CONTEXT=yx,le.KEYCHAIN_STORAGE_VERSION=wx,le.KeyChain=sg,le.MESSAGES_CONTEXT=vx,le.MESSAGES_STORAGE_VERSION=bx,le.MessageTracker=ag,le.PAIRING_CONTEXT=Ux,le.PAIRING_DEFAULT_TTL=LB,le.PAIRING_RPC_OPTS=Eo,le.PAIRING_STORAGE_VERSION=Mx,le.PENDING_SUB_RESOLUTION_TIMEOUT=Lx,le.PUBLISHER_CONTEXT=_x,le.PUBLISHER_DEFAULT_TTL=Ex,le.Pairing=fg,le.RELAYER_CONTEXT=Sx,le.RELAYER_DEFAULT_LOGGER=Ix,le.RELAYER_DEFAULT_PROTOCOL=xx,le.RELAYER_DEFAULT_RELAY_URL=ig,le.RELAYER_EVENTS=Pt,le.RELAYER_PROVIDER_EVENTS=bo,le.RELAYER_RECONNECT_TIMEOUT=Dx,le.RELAYER_SDK_VERSION=Ax,le.RELAYER_STORAGE_OPTIONS=TB,le.RELAYER_SUBSCRIBER_SUFFIX=Cx,le.RELAYER_TRANSPORT_CUTOFF=Ox,le.Relayer=ug,le.STORE_STORAGE_VERSION=Rx,le.SUBSCRIBER_CONTEXT=Tx,le.SUBSCRIBER_DEFAULT_TTL=NB,le.SUBSCRIBER_EVENTS=Vr,le.SUBSCRIBER_STORAGE_VERSION=Nx,le.Store=hg,le.Subscriber=lg,le.VERIFY_CONTEXT=mh,le.VERIFY_SERVER=ng,le.Verify=gg,le.WALLETCONNECT_CLIENT_ID=Px,le.default=Qa});var g6=Z(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var ii=Qx(),yh=Pu(),e6=o0(),$=Ra(),t6=Yr(),mt=Wn(),St=(mo(),Xt);function XB(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var QB=XB(t6),mg="wc",yg=2,wg="client",wh=`${mg}@${yg}:${wg}:`,vh={name:wg,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},ek={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},tk={database:":memory:"},r6="WALLETCONNECT_DEEPLINK_CHOICE",rk={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ik="history",nk="0.3",i6="proposal",sk=mt.THIRTY_DAYS,n6="Proposal expired",s6="session",ec=mt.SEVEN_DAYS,o6="engine",_o={wc_sessionPropose:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:mt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:mt.THIRTY_SECONDS,prompt:!1,tag:1115}}},bh={min:mt.FIVE_MINUTES,max:mt.SEVEN_DAYS},a6="request",c6=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],ok=Object.defineProperty,ak=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,l6=Object.getOwnPropertySymbols,lk=Object.prototype.hasOwnProperty,uk=Object.prototype.propertyIsEnumerable,u6=(r,e,t)=>e in r?ok(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tr=(r,e)=>{for(var t in e||(e={}))lk.call(e,t)&&u6(r,t,e[t]);if(l6)for(var t of l6(e))uk.call(e,t)&&u6(r,t,e[t]);return r},vg=(r,e)=>ak(r,ck(e)),h6=class extends e6.IEngine{constructor(e){super(e),this.name=o6,this.events=new QB.default,this.initialized=!1,this.ignoredPayloadTypes=[$.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(_o)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();let i=vg(Tr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);let{pairingTopic:n,requiredNamespaces:o,optionalNamespaces:c,sessionProperties:u,relays:f}=i,d=n,g,y=!1;if(d&&(y=this.client.core.pairing.pairings.get(d).active),!d||!y){let{topic:U,uri:N}=await this.client.core.pairing.create();d=U,g=N}let b=await this.client.core.crypto.generateKeyPair(),v=Tr({requiredNamespaces:o,optionalNamespaces:c,relays:f??[{protocol:ii.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:b,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:E,resolve:I,done:O}=$.createDelayedPromise(mt.FIVE_MINUTES,n6);if(this.events.once($.engineEvent("session_connect"),async({error:U,session:N})=>{if(U)E(U);else if(N){N.self.publicKey=b;let k=vg(Tr({},N),{requiredNamespaces:N.requiredNamespaces,optionalNamespaces:N.optionalNamespaces});await this.client.session.set(N.topic,k),await this.setExpiry(N.topic,N.expiry),d&&await this.client.core.pairing.updateMetadata({topic:d,metadata:N.peer.metadata}),I(k)}}),!d){let{message:U}=$.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(U)}let R=await this.sendRequest(d,"wc_sessionPropose",v),H=$.calcExpiry(mt.FIVE_MINUTES);return await this.setProposal(R,Tr({id:R,expiry:H},v)),{uri:g,approval:O}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:o,sessionProperties:c}=t,u=this.client.proposal.get(i),{pairingTopic:f,proposer:d,requiredNamespaces:g,optionalNamespaces:y}=u;f=f||"",$.isValidObject(g)||(g=$.getRequiredNamespacesFromNamespaces(o,"approve()"));let b=await this.client.core.crypto.generateKeyPair(),v=d.publicKey,E=await this.client.core.crypto.generateSharedKey(b,v);f&&i&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:d.metadata}),await this.sendResult(i,f,{relay:{protocol:n??"irn"},responderPublicKey:b}),await this.client.proposal.delete(i,$.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));let I=Tr({relay:{protocol:n??"irn"},namespaces:o,requiredNamespaces:g,optionalNamespaces:y,pairingTopic:f,controller:{publicKey:b,metadata:this.client.metadata},expiry:$.calcExpiry(ec)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(E),await this.sendRequest(E,"wc_sessionSettle",I);let O=vg(Tr({},I),{topic:E,pairingTopic:f,acknowledged:!1,self:I.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:b});return await this.client.session.set(E,O),await this.setExpiry(E,$.calcExpiry(ec)),{topic:E,acknowledged:()=>new Promise(R=>setTimeout(()=>R(this.client.session.get(E)),500))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:o}=this.client.proposal.get(i);o&&(await this.sendError(i,o,n),await this.client.proposal.delete(i,$.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,o=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:c,resolve:u,reject:f}=$.createDelayedPromise();return this.events.once($.engineEvent("session_update",o),({error:d})=>{d?f(d):u()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:c}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:o,resolve:c,reject:u}=$.createDelayedPromise();return this.events.once($.engineEvent("session_extend",n),({error:f})=>{f?u(f):c()}),await this.setExpiry(i,$.calcExpiry(ec)),{acknowledged:o}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:o,expiry:c}=t,u=await this.sendRequest(o,"wc_sessionRequest",{request:n,chainId:i},c),{done:f,resolve:d,reject:g}=$.createDelayedPromise(c);this.events.once($.engineEvent("session_request",u),({error:b,result:v})=>{b?g(b):d(v)}),this.client.events.emit("session_request_sent",{topic:o,request:n,chainId:i,id:u});let y=await this.client.core.storage.getItem(r6);return $.handleDeeplinkRedirect({id:u,topic:o,wcDeepLink:y}),await f()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:o}=n;St.isJsonRpcResult(n)?await this.sendResult(o,i,n.result):St.isJsonRpcError(n)&&await this.sendError(o,i,n.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:o,resolve:c,reject:u}=$.createDelayedPromise();this.events.once($.engineEvent("session_ping",n),({error:f})=>{f?u(f):c()}),await o()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:o}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:o})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=St.getBigIntRpcId().toString(),o,c=u=>{u?.id.toString()===n&&(this.client.core.relayer.events.removeListener(ii.RELAYER_EVENTS.message_ack,c),o())};await Promise.all([new Promise(u=>{o=u,this.client.core.relayer.on(ii.RELAYER_EVENTS.message_ack,c)}),this.sendRequest(i,"wc_sessionDelete",$.getSdkError("USER_DISCONNECTED"),void 0,n)]),await this.deleteSession(i)}else await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>$.isSessionCompatible(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(o=>{var c,u;return((c=o.peerMetadata)==null?void 0:c.url)&&((u=o.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&o.topic&&o.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,$.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(n.publicKey)&&await this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),i||this.client.core.expirer.del(t)},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,$.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=_o.wc_sessionRequest.req.ttl,{id:n,topic:o,params:c}=t;await this.client.pendingRequest.set(n,{id:n,topic:o,params:c}),i&&this.client.core.expirer.set(n,$.calcExpiry(i))},this.sendRequest=async(t,i,n,o,c)=>{let u=St.formatJsonRpcRequest(i,n);if($.isBrowser()&&c6.includes(i)){let g=$.hashMessage(JSON.stringify(u));await this.client.core.verify.register({attestationId:g})}let f=await this.client.core.crypto.encode(t,u),d=_o[i].req;return o&&(d.ttl=o),c&&(d.id=c),this.client.core.history.set(t,u),this.client.core.relayer.publish(t,f,d),u.id},this.sendResult=async(t,i,n)=>{let o=St.formatJsonRpcResult(t,n),c=await this.client.core.crypto.encode(i,o),u=await this.client.core.history.get(i,t),f=_o[u.request.method].res;this.client.core.relayer.publish(i,c,f),await this.client.core.history.resolve(o)},this.sendError=async(t,i,n)=>{let o=St.formatJsonRpcError(t,n),c=await this.client.core.crypto.encode(i,o),u=await this.client.core.history.get(i,t),f=_o[u.request.method].res;this.client.core.relayer.publish(i,c,f),await this.client.core.history.resolve(o)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{$.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{$.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,o=n.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,o=(await this.client.core.history.get(i,n.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:i}=t,{message:n}=$.getInternalError("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:o}=i;try{this.isValidConnect(Tr({},i.params));let c=$.calcExpiry(mt.FIVE_MINUTES),u=Tr({id:o,pairingTopic:t,expiry:c},n);await this.setProposal(o,u);let f=$.hashMessage(JSON.stringify(i)),d=await this.getVerifyContext(f,u.proposer.metadata);this.client.events.emit("session_proposal",{id:o,params:u,verifyContext:d})}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(St.isJsonRpcResult(i)){let{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});let c=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});let u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});let f=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});let d=await this.client.core.crypto.generateSharedKey(u,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:d});let g=await this.client.core.relayer.subscribe(d);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:t})}else St.isJsonRpcError(i)&&(await this.client.proposal.delete(n,$.getSdkError("USER_DISCONNECTED")),this.events.emit($.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidSessionSettleRequest(o);let{relay:c,controller:u,expiry:f,namespaces:d,requiredNamespaces:g,optionalNamespaces:y,sessionProperties:b,pairingTopic:v}=i.params,E=Tr({topic:t,relay:c,expiry:f,namespaces:d,acknowledged:!0,pairingTopic:v,requiredNamespaces:g,optionalNamespaces:y,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},b&&{sessionProperties:b});await this.sendResult(i.id,t,!0),this.events.emit($.engineEvent("session_connect"),{session:E}),this.cleanupDuplicatePairings(E)}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit($.engineEvent("session_approve",n),{})):St.isJsonRpcError(i)&&(await this.client.session.delete(t,$.getSdkError("USER_DISCONNECTED")),this.events.emit($.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:o}=i;try{this.isValidUpdate(Tr({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(o,t,!0),this.client.events.emit("session_update",{id:o,topic:t,params:n})}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_update",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,$.calcExpiry(ec)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_extend",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_ping",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(ii.RELAYER_EVENTS.publish,async()=>{o(await this.deleteSession(t))})}),this.sendResult(n,t,!0)]),this.client.events.emit("session_delete",{id:n,topic:t})}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidRequest(Tr({topic:t},o)),await this.setPendingSessionRequest({id:n,topic:t,params:o});let c=$.hashMessage(JSON.stringify(i)),u=this.client.session.get(t),f=await this.getVerifyContext(c,u.peer.metadata);this.client.events.emit("session_request",{id:n,topic:t,params:o,verifyContext:f})}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_request",n),{result:i.result}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidEmit(Tr({topic:t},o)),this.client.events.emit("session_event",{id:n,topic:t,params:o})}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.isValidConnect=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(f)}let{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:o,sessionProperties:c,relays:u}=t;if($.isUndefined(i)||await this.isValidPairingTopic(i),!$.isValidRelays(u,!0)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}!$.isUndefined(n)&&$.isValidObject(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!$.isUndefined(o)&&$.isValidObject(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),$.isUndefined(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(t,i)=>{let n=$.isValidRequiredNamespaces(t,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async t=>{if(!$.isValidParams(t))throw new Error($.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:o,sessionProperties:c}=t;await this.isValidProposalId(i);let u=this.client.proposal.get(i),f=$.isValidNamespaces(n,"approve()");if(f)throw new Error(f.message);let d=$.isConformingNamespaces(u.requiredNamespaces,n,"approve()");if(d)throw new Error(d.message);if(!$.isValidString(o,!0)){let{message:g}=$.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(g)}$.isUndefined(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async t=>{if(!$.isValidParams(t)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(o)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!$.isValidErrorReason(n)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(o)}},this.isValidSessionSettleRequest=t=>{if(!$.isValidParams(t)){let{message:d}=$.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(d)}let{relay:i,controller:n,namespaces:o,expiry:c}=t;if(!$.isValidRelay(i)){let{message:d}=$.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}let u=$.isValidController(n,"onSessionSettleRequest()");if(u)throw new Error(u.message);let f=$.isValidNamespaces(o,"onSessionSettleRequest()");if(f)throw new Error(f.message);if($.isExpired(c)){let{message:d}=$.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(d)}},this.isValidUpdate=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(f)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let o=this.client.session.get(i),c=$.isValidNamespaces(n,"update()");if(c)throw new Error(c.message);let u=$.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(f)}let{topic:i,request:n,chainId:o,expiry:c}=t;await this.isValidSessionTopic(i);let{namespaces:u}=this.client.session.get(i);if(!$.isValidNamespacesChainId(u,o)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(f)}if(!$.isValidRequest(n)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(f)}if(!$.isValidNamespacesRequest(u,o,n.method)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(f)}if(c&&!$.isValidRequestExpiry(c,bh)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${bh.min} and ${bh.max}`);throw new Error(f)}},this.isValidRespond=async t=>{if(!$.isValidParams(t)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!$.isValidResponse(n)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(o)}},this.isValidPing=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!$.isValidParams(t)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}let{topic:i,event:n,chainId:o}=t;await this.isValidSessionTopic(i);let{namespaces:c}=this.client.session.get(i);if(!$.isValidNamespacesChainId(c,o)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(u)}if(!$.isValidEvent(n)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(u)}if(!$.isValidNamespacesEvent(c,o,n.name)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(u)}},this.isValidDisconnect=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.getVerifyContext=async(t,i)=>{let n={verified:{verifyUrl:i.verifyUrl||"",validation:"UNKNOWN",origin:i.url||""}};try{let o=await this.client.core.verify.resolve({attestationId:t,verifyUrl:i.verifyUrl});o&&(n.verified.origin=o,n.verified.validation=o===i.url?"VALID":"INVALID")}catch(o){this.client.logger.error(o)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(n=>{if(!$.isValidString(n,!1)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(o)}})}}isInitialized(){if(!this.initialized){let{message:e}=$.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(ii.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);St.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):St.isJsonRpcResponse(n)?(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n})):this.onRelayEventUnknownPayload({topic:t,payload:n})})}registerExpirerEvents(){this.client.core.expirer.on(ii.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=$.parseExpirerTarget(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,$.getInternalError("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}isValidPairingTopic(e){if(!$.isValidString(e,!1)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=$.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!$.isValidString(e,!1)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=$.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if($.isValidString(e,!1)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=$.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!$.isValidId(e)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=$.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},f6=class extends ii.Store{constructor(e,t){super(e,t,i6,wh),this.core=e,this.logger=t}},d6=class extends ii.Store{constructor(e,t){super(e,t,s6,wh),this.core=e,this.logger=t}},p6=class extends ii.Store{constructor(e,t){super(e,t,a6,wh,i=>i.id),this.core=e,this.logger=t}},tc=class extends e6.ISignClient{constructor(e){super(e),this.protocol=mg,this.version=yg,this.name=vh.name,this.events=new t6.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||vh.name,this.metadata=e?.metadata||$.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:yh.pino(yh.getDefaultLoggerOptions({level:e?.logger||vh.logger}));this.core=e?.core||new ii.Core(e),this.logger=yh.generateChildLogger(t,this.name),this.session=new d6(this.core,this.logger),this.proposal=new f6(this.core,this.logger),this.pendingRequest=new p6(this.core,this.logger),this.engine=new h6(this)}static async init(e){let t=new tc(e);return await t.initialize(),t}get context(){return yh.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},hk=tc;lt.ENGINE_CONTEXT=o6,lt.ENGINE_RPC_OPTS=_o,lt.HISTORY_CONTEXT=ik,lt.HISTORY_EVENTS=rk,lt.HISTORY_STORAGE_VERSION=nk,lt.METHODS_TO_VERIFY=c6,lt.PROPOSAL_CONTEXT=i6,lt.PROPOSAL_EXPIRY=sk,lt.PROPOSAL_EXPIRY_MESSAGE=n6,lt.REQUEST_CONTEXT=a6,lt.SESSION_CONTEXT=s6,lt.SESSION_EXPIRY=ec,lt.SESSION_REQUEST_EXPIRY_BOUNDARIES=bh,lt.SIGN_CLIENT_CONTEXT=wg,lt.SIGN_CLIENT_DEFAULT=vh,lt.SIGN_CLIENT_EVENTS=ek,lt.SIGN_CLIENT_PROTOCOL=mg,lt.SIGN_CLIENT_STORAGE_OPTIONS=tk,lt.SIGN_CLIENT_STORAGE_PREFIX=wh,lt.SIGN_CLIENT_VERSION=yg,lt.SignClient=hk,lt.WALLETCONNECT_DEEPLINK_CHOICE=r6,lt.default=tc});var w6=Z((Li,y6)=>{var m6=typeof self!="undefined"?self:Li,Eh=function(){function r(){this.fetch=!1,this.DOMException=m6.DOMException}return r.prototype=m6,new r}();(function(r){var e=function(t){var i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function n(_){return _&&DataView.prototype.isPrototypeOf(_)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(_){return _&&o.indexOf(Object.prototype.toString.call(_))>-1};function u(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_))throw new TypeError("Invalid character in header field name");return _.toLowerCase()}function f(_){return typeof _!="string"&&(_=String(_)),_}function d(_){var S={next:function(){var L=_.shift();return{done:L===void 0,value:L}}};return i.iterable&&(S[Symbol.iterator]=function(){return S}),S}function g(_){this.map={},_ instanceof g?_.forEach(function(S,L){this.append(L,S)},this):Array.isArray(_)?_.forEach(function(S){this.append(S[0],S[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(S){this.append(S,_[S])},this)}g.prototype.append=function(_,S){_=u(_),S=f(S);var L=this.map[_];this.map[_]=L?L+", "+S:S},g.prototype.delete=function(_){delete this.map[u(_)]},g.prototype.get=function(_){return _=u(_),this.has(_)?this.map[_]:null},g.prototype.has=function(_){return this.map.hasOwnProperty(u(_))},g.prototype.set=function(_,S){this.map[u(_)]=f(S)},g.prototype.forEach=function(_,S){for(var L in this.map)this.map.hasOwnProperty(L)&&_.call(S,this.map[L],L,this)},g.prototype.keys=function(){var _=[];return this.forEach(function(S,L){_.push(L)}),d(_)},g.prototype.values=function(){var _=[];return this.forEach(function(S){_.push(S)}),d(_)},g.prototype.entries=function(){var _=[];return this.forEach(function(S,L){_.push([L,S])}),d(_)},i.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function b(_){return new Promise(function(S,L){_.onload=function(){S(_.result)},_.onerror=function(){L(_.error)}})}function v(_){var S=new FileReader,L=b(S);return S.readAsArrayBuffer(_),L}function E(_){var S=new FileReader,L=b(S);return S.readAsText(_),L}function I(_){for(var S=new Uint8Array(_),L=new Array(S.length),B=0;B<S.length;B++)L[B]=String.fromCharCode(S[B]);return L.join("")}function O(_){if(_.slice)return _.slice(0);var S=new Uint8Array(_.byteLength);return S.set(new Uint8Array(_)),S.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(_){this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:i.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:i.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():i.arrayBuffer&&i.blob&&n(_)?(this._bodyArrayBuffer=O(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||c(_))?this._bodyArrayBuffer=O(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var _=y(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var _=y(this);if(_)return _;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(_){var S=_.toUpperCase();return H.indexOf(S)>-1?S:_}function N(_,S){S=S||{};var L=S.body;if(_ instanceof N){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,S.headers||(this.headers=new g(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!L&&_._bodyInit!=null&&(L=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new g(S.headers)),this.method=U(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function k(_){var S=new FormData;return _.trim().split("&").forEach(function(L){if(L){var B=L.split("="),G=B.shift().replace(/\+/g," "),Q=B.join("=").replace(/\+/g," ");S.append(decodeURIComponent(G),decodeURIComponent(Q))}}),S}function W(_){var S=new g,L=_.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(B){var G=B.split(":"),Q=G.shift().trim();if(Q){var ne=G.join(":").trim();S.append(Q,ne)}}),S}R.call(N.prototype);function C(_,S){S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in S?S.statusText:"OK",this.headers=new g(S.headers),this.url=S.url||"",this._initBody(_)}R.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},C.error=function(){var _=new C(null,{status:0,statusText:""});return _.type="error",_};var A=[301,302,303,307,308];C.redirect=function(_,S){if(A.indexOf(S)===-1)throw new RangeError("Invalid status code");return new C(null,{status:S,headers:{location:_}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(S,L){this.message=S,this.name=L;var B=Error(S);this.stack=B.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function V(_,S){return new Promise(function(L,B){var G=new N(_,S);if(G.signal&&G.signal.aborted)return B(new t.DOMException("Aborted","AbortError"));var Q=new XMLHttpRequest;function ne(){Q.abort()}Q.onload=function(){var ee={status:Q.status,statusText:Q.statusText,headers:W(Q.getAllResponseHeaders()||"")};ee.url="responseURL"in Q?Q.responseURL:ee.headers.get("X-Request-URL");var oe="response"in Q?Q.response:Q.responseText;L(new C(oe,ee))},Q.onerror=function(){B(new TypeError("Network request failed"))},Q.ontimeout=function(){B(new TypeError("Network request failed"))},Q.onabort=function(){B(new t.DOMException("Aborted","AbortError"))},Q.open(G.method,G.url,!0),G.credentials==="include"?Q.withCredentials=!0:G.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&i.blob&&(Q.responseType="blob"),G.headers.forEach(function(ee,oe){Q.setRequestHeader(oe,ee)}),G.signal&&(G.signal.addEventListener("abort",ne),Q.onreadystatechange=function(){Q.readyState===4&&G.signal.removeEventListener("abort",ne)}),Q.send(typeof G._bodyInit=="undefined"?null:G._bodyInit)})}return V.polyfill=!0,r.fetch||(r.fetch=V,r.Headers=g,r.Request=N,r.Response=C),t.Headers=g,t.Request=N,t.Response=C,t.fetch=V,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(Eh);Eh.fetch.ponyfill=!0;delete Eh.fetch.polyfill;var xo=Eh;Li=xo.fetch;Li.default=xo.fetch;Li.fetch=xo.fetch;Li.Headers=xo.Headers;Li.Request=xo.Request;Li.Response=xo.Response;y6.exports=Li});var v6,bg,fk,dk,b6,E6,Eg,_6,_g=M(()=>{v6=Or(Yr()),bg=Or(w6());Ua();mo();fk={Accept:"application/json","Content-Type":"application/json"},dk="POST",b6={headers:fk,method:dk},E6=10,Eg=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new v6.EventEmitter,this.isAvailable=!1,this.registering=!1,!Zu(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{let i=un(e),o=await(await(0,bg.default)(this.url,Object.assign(Object.assign({},b6),{body:i}))).json();this.onPayload({data:o})}catch(i){this.onError(e.id,i)}}async register(e=this.url){if(!Zu(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable=="undefined")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=un({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,bg.default)(e,Object.assign(Object.assign({},b6),{body:t}))}this.onOpen()}catch(t){let i=this.parseError(t);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data=="undefined")return;let t=typeof e.data=="string"?Yn(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),o=za(e,n);this.events.emit("payload",o)}parseError(e,t=this.url){return Ha(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>E6&&this.events.setMaxListeners(E6)}},_6=Eg});var x6={};nt(x6,{HttpConnection:()=>Eg,default:()=>pk});var pk,I6=M(()=>{_g();_g();pk=_6});var H6=Z(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});var S6=g6(),Nr=Ra(),C6=Pu(),D6=(I6(),x6),os=(F0(),j0),gk=Yr();function xg(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var mk=xg(S6),Io=xg(D6),yk=xg(gk),A6="error",wk="wss://relay.walletconnect.com",vk="wc",bk="universal_provider",O6=`${vk}@2:${bk}:`,Ek="https://rpc.walletconnect.com/v1",yn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ig={exports:{}};(function(r,e){(function(){var t,i="4.17.21",n=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",y=1,b=2,v=4,E=1,I=2,O=1,R=2,H=4,U=8,N=16,k=32,W=64,C=128,A=256,V=512,_=30,S="...",L=800,B=16,G=1,Q=2,ne=3,ee=1/0,oe=9007199254740991,Ye=17976931348623157e292,ue=0/0,ae=4294967295,me=ae-1,ye=ae>>>1,ge=[["ary",C],["bind",O],["bindKey",R],["curry",U],["curryRight",N],["flip",V],["partial",k],["partialRight",W],["rearg",A]],he="[object Arguments]",fe="[object Array]",we="[object AsyncFunction]",Se="[object Boolean]",Ae="[object Date]",je="[object DOMException]",Pe="[object Error]",Oe="[object Function]",$e="[object GeneratorFunction]",_e="[object Map]",Le="[object Number]",AS="[object Null]",fi="[object Object]",Sm="[object Promise]",OS="[object Proxy]",Go="[object RegExp]",$r="[object Set]",Jo="[object String]",Mc="[object Symbol]",RS="[object Undefined]",Yo="[object WeakMap]",PS="[object WeakSet]",Zo="[object ArrayBuffer]",Ss="[object DataView]",pf="[object Float32Array]",gf="[object Float64Array]",mf="[object Int8Array]",yf="[object Int16Array]",wf="[object Int32Array]",vf="[object Uint8Array]",bf="[object Uint8ClampedArray]",Ef="[object Uint16Array]",_f="[object Uint32Array]",TS=/\b__p \+= '';/g,NS=/\b(__p \+=) '' \+/g,LS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cm=/&(?:amp|lt|gt|quot|#39);/g,Dm=/[&<>"']/g,US=RegExp(Cm.source),MS=RegExp(Dm.source),jS=/<%-([\s\S]+?)%>/g,FS=/<%([\s\S]+?)%>/g,Am=/<%=([\s\S]+?)%>/g,$S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BS=/^\w*$/,kS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xf=/[\\^$.*+?()[\]{}|]/g,qS=RegExp(xf.source),If=/^\s+/,HS=/\s/,zS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,VS=/\{\n\/\* \[wrapped with (.+)\] \*/,WS=/,? & /,KS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,GS=/[()=,{}\[\]\/\s]/,JS=/\\(\\)?/g,YS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Om=/\w*$/,ZS=/^[-+]0x[0-9a-f]+$/i,XS=/^0b[01]+$/i,QS=/^\[object .+?Constructor\]$/,eC=/^0o[0-7]+$/i,tC=/^(?:0|[1-9]\d*)$/,rC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jc=/($^)/,iC=/['\n\r\u2028\u2029\\]/g,Fc="\\ud800-\\udfff",nC="\\u0300-\\u036f",sC="\\ufe20-\\ufe2f",oC="\\u20d0-\\u20ff",Rm=nC+sC+oC,Pm="\\u2700-\\u27bf",Tm="a-z\\xdf-\\xf6\\xf8-\\xff",aC="\\xac\\xb1\\xd7\\xf7",cC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",lC="\\u2000-\\u206f",uC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nm="A-Z\\xc0-\\xd6\\xd8-\\xde",Lm="\\ufe0e\\ufe0f",Um=aC+cC+lC+uC,Sf="['\u2019]",hC="["+Fc+"]",Mm="["+Um+"]",$c="["+Rm+"]",jm="\\d+",fC="["+Pm+"]",Fm="["+Tm+"]",$m="[^"+Fc+Um+jm+Pm+Tm+Nm+"]",Cf="\\ud83c[\\udffb-\\udfff]",dC="(?:"+$c+"|"+Cf+")",Bm="[^"+Fc+"]",Df="(?:\\ud83c[\\udde6-\\uddff]){2}",Af="[\\ud800-\\udbff][\\udc00-\\udfff]",Cs="["+Nm+"]",km="\\u200d",qm="(?:"+Fm+"|"+$m+")",pC="(?:"+Cs+"|"+$m+")",Hm="(?:"+Sf+"(?:d|ll|m|re|s|t|ve))?",zm="(?:"+Sf+"(?:D|LL|M|RE|S|T|VE))?",Vm=dC+"?",Wm="["+Lm+"]?",gC="(?:"+km+"(?:"+[Bm,Df,Af].join("|")+")"+Wm+Vm+")*",mC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Km=Wm+Vm+gC,wC="(?:"+[fC,Df,Af].join("|")+")"+Km,vC="(?:"+[Bm+$c+"?",$c,Df,Af,hC].join("|")+")",bC=RegExp(Sf,"g"),EC=RegExp($c,"g"),Of=RegExp(Cf+"(?="+Cf+")|"+vC+Km,"g"),_C=RegExp([Cs+"?"+Fm+"+"+Hm+"(?="+[Mm,Cs,"$"].join("|")+")",pC+"+"+zm+"(?="+[Mm,Cs+qm,"$"].join("|")+")",Cs+"?"+qm+"+"+Hm,Cs+"+"+zm,yC,mC,jm,wC].join("|"),"g"),xC=RegExp("["+km+Fc+Rm+Lm+"]"),IC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],CC=-1,at={};at[pf]=at[gf]=at[mf]=at[yf]=at[wf]=at[vf]=at[bf]=at[Ef]=at[_f]=!0,at[he]=at[fe]=at[Zo]=at[Se]=at[Ss]=at[Ae]=at[Pe]=at[Oe]=at[_e]=at[Le]=at[fi]=at[Go]=at[$r]=at[Jo]=at[Yo]=!1;var it={};it[he]=it[fe]=it[Zo]=it[Ss]=it[Se]=it[Ae]=it[pf]=it[gf]=it[mf]=it[yf]=it[wf]=it[_e]=it[Le]=it[fi]=it[Go]=it[$r]=it[Jo]=it[Mc]=it[vf]=it[bf]=it[Ef]=it[_f]=!0,it[Pe]=it[Oe]=it[Yo]=!1;var DC={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},AC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OC={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},RC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},PC=parseFloat,TC=parseInt,Gm=typeof rc=="object"&&rc&&rc.Object===Object&&rc,NC=typeof self=="object"&&self&&self.Object===Object&&self,Mt=Gm||NC||Function("return this")(),Rf=e&&!e.nodeType&&e,Mn=Rf&&!0&&r&&!r.nodeType&&r,Jm=Mn&&Mn.exports===Rf,Pf=Jm&&Gm.process,Er=function(){try{var P=Mn&&Mn.require&&Mn.require("util").types;return P||Pf&&Pf.binding&&Pf.binding("util")}catch{}}(),Ym=Er&&Er.isArrayBuffer,Zm=Er&&Er.isDate,Xm=Er&&Er.isMap,Qm=Er&&Er.isRegExp,ey=Er&&Er.isSet,ty=Er&&Er.isTypedArray;function ur(P,z,j){switch(j.length){case 0:return P.call(z);case 1:return P.call(z,j[0]);case 2:return P.call(z,j[0],j[1]);case 3:return P.call(z,j[0],j[1],j[2])}return P.apply(z,j)}function LC(P,z,j,se){for(var xe=-1,Ve=P==null?0:P.length;++xe<Ve;){var At=P[xe];z(se,At,j(At),P)}return se}function _r(P,z){for(var j=-1,se=P==null?0:P.length;++j<se&&z(P[j],j,P)!==!1;);return P}function UC(P,z){for(var j=P==null?0:P.length;j--&&z(P[j],j,P)!==!1;);return P}function ry(P,z){for(var j=-1,se=P==null?0:P.length;++j<se;)if(!z(P[j],j,P))return!1;return!0}function Vi(P,z){for(var j=-1,se=P==null?0:P.length,xe=0,Ve=[];++j<se;){var At=P[j];z(At,j,P)&&(Ve[xe++]=At)}return Ve}function Bc(P,z){var j=P==null?0:P.length;return!!j&&Ds(P,z,0)>-1}function Tf(P,z,j){for(var se=-1,xe=P==null?0:P.length;++se<xe;)if(j(z,P[se]))return!0;return!1}function ut(P,z){for(var j=-1,se=P==null?0:P.length,xe=Array(se);++j<se;)xe[j]=z(P[j],j,P);return xe}function Wi(P,z){for(var j=-1,se=z.length,xe=P.length;++j<se;)P[xe+j]=z[j];return P}function Nf(P,z,j,se){var xe=-1,Ve=P==null?0:P.length;for(se&&Ve&&(j=P[++xe]);++xe<Ve;)j=z(j,P[xe],xe,P);return j}function MC(P,z,j,se){var xe=P==null?0:P.length;for(se&&xe&&(j=P[--xe]);xe--;)j=z(j,P[xe],xe,P);return j}function Lf(P,z){for(var j=-1,se=P==null?0:P.length;++j<se;)if(z(P[j],j,P))return!0;return!1}var jC=Uf("length");function FC(P){return P.split("")}function $C(P){return P.match(KS)||[]}function iy(P,z,j){var se;return j(P,function(xe,Ve,At){if(z(xe,Ve,At))return se=Ve,!1}),se}function kc(P,z,j,se){for(var xe=P.length,Ve=j+(se?1:-1);se?Ve--:++Ve<xe;)if(z(P[Ve],Ve,P))return Ve;return-1}function Ds(P,z,j){return z===z?ZC(P,z,j):kc(P,ny,j)}function BC(P,z,j,se){for(var xe=j-1,Ve=P.length;++xe<Ve;)if(se(P[xe],z))return xe;return-1}function ny(P){return P!==P}function sy(P,z){var j=P==null?0:P.length;return j?jf(P,z)/j:ue}function Uf(P){return function(z){return z==null?t:z[P]}}function Mf(P){return function(z){return P==null?t:P[z]}}function oy(P,z,j,se,xe){return xe(P,function(Ve,At,tt){j=se?(se=!1,Ve):z(j,Ve,At,tt)}),j}function kC(P,z){var j=P.length;for(P.sort(z);j--;)P[j]=P[j].value;return P}function jf(P,z){for(var j,se=-1,xe=P.length;++se<xe;){var Ve=z(P[se]);Ve!==t&&(j=j===t?Ve:j+Ve)}return j}function Ff(P,z){for(var j=-1,se=Array(P);++j<P;)se[j]=z(j);return se}function qC(P,z){return ut(z,function(j){return[j,P[j]]})}function ay(P){return P&&P.slice(0,hy(P)+1).replace(If,"")}function hr(P){return function(z){return P(z)}}function $f(P,z){return ut(z,function(j){return P[j]})}function Xo(P,z){return P.has(z)}function cy(P,z){for(var j=-1,se=P.length;++j<se&&Ds(z,P[j],0)>-1;);return j}function ly(P,z){for(var j=P.length;j--&&Ds(z,P[j],0)>-1;);return j}function HC(P,z){for(var j=P.length,se=0;j--;)P[j]===z&&++se;return se}var zC=Mf(DC),VC=Mf(AC);function WC(P){return"\\"+RC[P]}function KC(P,z){return P==null?t:P[z]}function As(P){return xC.test(P)}function GC(P){return IC.test(P)}function JC(P){for(var z,j=[];!(z=P.next()).done;)j.push(z.value);return j}function Bf(P){var z=-1,j=Array(P.size);return P.forEach(function(se,xe){j[++z]=[xe,se]}),j}function uy(P,z){return function(j){return P(z(j))}}function Ki(P,z){for(var j=-1,se=P.length,xe=0,Ve=[];++j<se;){var At=P[j];(At===z||At===g)&&(P[j]=g,Ve[xe++]=j)}return Ve}function qc(P){var z=-1,j=Array(P.size);return P.forEach(function(se){j[++z]=se}),j}function YC(P){var z=-1,j=Array(P.size);return P.forEach(function(se){j[++z]=[se,se]}),j}function ZC(P,z,j){for(var se=j-1,xe=P.length;++se<xe;)if(P[se]===z)return se;return-1}function XC(P,z,j){for(var se=j+1;se--;)if(P[se]===z)return se;return se}function Os(P){return As(P)?eD(P):jC(P)}function Br(P){return As(P)?tD(P):FC(P)}function hy(P){for(var z=P.length;z--&&HS.test(P.charAt(z)););return z}var QC=Mf(OC);function eD(P){for(var z=Of.lastIndex=0;Of.test(P);)++z;return z}function tD(P){return P.match(Of)||[]}function rD(P){return P.match(_C)||[]}var iD=function P(z){z=z==null?Mt:Rs.defaults(Mt.Object(),z,Rs.pick(Mt,SC));var j=z.Array,se=z.Date,xe=z.Error,Ve=z.Function,At=z.Math,tt=z.Object,kf=z.RegExp,nD=z.String,xr=z.TypeError,Hc=j.prototype,sD=Ve.prototype,Ps=tt.prototype,zc=z["__core-js_shared__"],Vc=sD.toString,Ze=Ps.hasOwnProperty,oD=0,fy=function(){var s=/[^.]+$/.exec(zc&&zc.keys&&zc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Wc=Ps.toString,aD=Vc.call(tt),cD=Mt._,lD=kf("^"+Vc.call(Ze).replace(xf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=Jm?z.Buffer:t,Gi=z.Symbol,Gc=z.Uint8Array,dy=Kc?Kc.allocUnsafe:t,Jc=uy(tt.getPrototypeOf,tt),py=tt.create,gy=Ps.propertyIsEnumerable,Yc=Hc.splice,my=Gi?Gi.isConcatSpreadable:t,Qo=Gi?Gi.iterator:t,jn=Gi?Gi.toStringTag:t,Zc=function(){try{var s=qn(tt,"defineProperty");return s({},"",{}),s}catch{}}(),uD=z.clearTimeout!==Mt.clearTimeout&&z.clearTimeout,hD=se&&se.now!==Mt.Date.now&&se.now,fD=z.setTimeout!==Mt.setTimeout&&z.setTimeout,Xc=At.ceil,Qc=At.floor,qf=tt.getOwnPropertySymbols,dD=Kc?Kc.isBuffer:t,yy=z.isFinite,pD=Hc.join,gD=uy(tt.keys,tt),Ot=At.max,Bt=At.min,mD=se.now,yD=z.parseInt,wy=At.random,wD=Hc.reverse,Hf=qn(z,"DataView"),ea=qn(z,"Map"),zf=qn(z,"Promise"),Ts=qn(z,"Set"),ta=qn(z,"WeakMap"),ra=qn(tt,"create"),el=ta&&new ta,Ns={},vD=Hn(Hf),bD=Hn(ea),ED=Hn(zf),_D=Hn(Ts),xD=Hn(ta),tl=Gi?Gi.prototype:t,ia=tl?tl.valueOf:t,vy=tl?tl.toString:t;function m(s){if(wt(s)&&!Ce(s)&&!(s instanceof Be)){if(s instanceof Ir)return s;if(Ze.call(s,"__wrapped__"))return bw(s)}return new Ir(s)}var Ls=function(){function s(){}return function(a){if(!gt(a))return{};if(py)return py(a);s.prototype=a;var l=new s;return s.prototype=t,l}}();function rl(){}function Ir(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}m.templateSettings={escape:jS,evaluate:FS,interpolate:Am,variable:"",imports:{_:m}},m.prototype=rl.prototype,m.prototype.constructor=m,Ir.prototype=Ls(rl.prototype),Ir.prototype.constructor=Ir;function Be(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function ID(){var s=new Be(this.__wrapped__);return s.__actions__=ir(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ir(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ir(this.__views__),s}function SD(){if(this.__filtered__){var s=new Be(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function CD(){var s=this.__wrapped__.value(),a=this.__dir__,l=Ce(s),h=a<0,p=l?s.length:0,w=FA(0,p,this.__views__),x=w.start,D=w.end,T=D-x,K=h?D:x-1,J=this.__iteratees__,Y=J.length,re=0,ce=Bt(T,this.__takeCount__);if(!l||!h&&p==T&&ce==T)return Hy(s,this.__actions__);var be=[];e:for(;T--&&re<ce;){K+=a;for(var Te=-1,Ee=s[K];++Te<Y;){var Fe=J[Te],ke=Fe.iteratee,pr=Fe.type,Yt=ke(Ee);if(pr==Q)Ee=Yt;else if(!Yt){if(pr==G)continue e;break e}}be[re++]=Ee}return be}Be.prototype=Ls(rl.prototype),Be.prototype.constructor=Be;function Fn(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function DD(){this.__data__=ra?ra(null):{},this.size=0}function AD(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function OD(s){var a=this.__data__;if(ra){var l=a[s];return l===f?t:l}return Ze.call(a,s)?a[s]:t}function RD(s){var a=this.__data__;return ra?a[s]!==t:Ze.call(a,s)}function PD(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=ra&&a===t?f:a,this}Fn.prototype.clear=DD,Fn.prototype.delete=AD,Fn.prototype.get=OD,Fn.prototype.has=RD,Fn.prototype.set=PD;function di(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function TD(){this.__data__=[],this.size=0}function ND(s){var a=this.__data__,l=il(a,s);if(l<0)return!1;var h=a.length-1;return l==h?a.pop():Yc.call(a,l,1),--this.size,!0}function LD(s){var a=this.__data__,l=il(a,s);return l<0?t:a[l][1]}function UD(s){return il(this.__data__,s)>-1}function MD(s,a){var l=this.__data__,h=il(l,s);return h<0?(++this.size,l.push([s,a])):l[h][1]=a,this}di.prototype.clear=TD,di.prototype.delete=ND,di.prototype.get=LD,di.prototype.has=UD,di.prototype.set=MD;function pi(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function jD(){this.size=0,this.__data__={hash:new Fn,map:new(ea||di),string:new Fn}}function FD(s){var a=gl(this,s).delete(s);return this.size-=a?1:0,a}function $D(s){return gl(this,s).get(s)}function BD(s){return gl(this,s).has(s)}function kD(s,a){var l=gl(this,s),h=l.size;return l.set(s,a),this.size+=l.size==h?0:1,this}pi.prototype.clear=jD,pi.prototype.delete=FD,pi.prototype.get=$D,pi.prototype.has=BD,pi.prototype.set=kD;function $n(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new pi;++a<l;)this.add(s[a])}function qD(s){return this.__data__.set(s,f),this}function HD(s){return this.__data__.has(s)}$n.prototype.add=$n.prototype.push=qD,$n.prototype.has=HD;function kr(s){var a=this.__data__=new di(s);this.size=a.size}function zD(){this.__data__=new di,this.size=0}function VD(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}function WD(s){return this.__data__.get(s)}function KD(s){return this.__data__.has(s)}function GD(s,a){var l=this.__data__;if(l instanceof di){var h=l.__data__;if(!ea||h.length<n-1)return h.push([s,a]),this.size=++l.size,this;l=this.__data__=new pi(h)}return l.set(s,a),this.size=l.size,this}kr.prototype.clear=zD,kr.prototype.delete=VD,kr.prototype.get=WD,kr.prototype.has=KD,kr.prototype.set=GD;function by(s,a){var l=Ce(s),h=!l&&zn(s),p=!l&&!h&&Qi(s),w=!l&&!h&&!p&&Fs(s),x=l||h||p||w,D=x?Ff(s.length,nD):[],T=D.length;for(var K in s)(a||Ze.call(s,K))&&!(x&&(K=="length"||p&&(K=="offset"||K=="parent")||w&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||wi(K,T)))&&D.push(K);return D}function Ey(s){var a=s.length;return a?s[td(0,a-1)]:t}function JD(s,a){return ml(ir(s),Bn(a,0,s.length))}function YD(s){return ml(ir(s))}function Vf(s,a,l){(l!==t&&!qr(s[a],l)||l===t&&!(a in s))&&gi(s,a,l)}function na(s,a,l){var h=s[a];(!(Ze.call(s,a)&&qr(h,l))||l===t&&!(a in s))&&gi(s,a,l)}function il(s,a){for(var l=s.length;l--;)if(qr(s[l][0],a))return l;return-1}function ZD(s,a,l,h){return Ji(s,function(p,w,x){a(h,p,l(p),x)}),h}function _y(s,a){return s&&Gr(a,Tt(a),s)}function XD(s,a){return s&&Gr(a,sr(a),s)}function gi(s,a,l){a=="__proto__"&&Zc?Zc(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}function Wf(s,a){for(var l=-1,h=a.length,p=j(h),w=s==null;++l<h;)p[l]=w?t:Cd(s,a[l]);return p}function Bn(s,a,l){return s===s&&(l!==t&&(s=s<=l?s:l),a!==t&&(s=s>=a?s:a)),s}function Sr(s,a,l,h,p,w){var x,D=a&y,T=a&b,K=a&v;if(l&&(x=p?l(s,h,p,w):l(s)),x!==t)return x;if(!gt(s))return s;var J=Ce(s);if(J){if(x=BA(s),!D)return ir(s,x)}else{var Y=kt(s),re=Y==Oe||Y==$e;if(Qi(s))return Wy(s,D);if(Y==fi||Y==he||re&&!p){if(x=T||re?{}:hw(s),!D)return T?OA(s,XD(x,s)):AA(s,_y(x,s))}else{if(!it[Y])return p?s:{};x=kA(s,Y,D)}}w||(w=new kr);var ce=w.get(s);if(ce)return ce;w.set(s,x),Bw(s)?s.forEach(function(Ee){x.add(Sr(Ee,a,l,Ee,s,w))}):Fw(s)&&s.forEach(function(Ee,Fe){x.set(Fe,Sr(Ee,a,l,Fe,s,w))});var be=K?T?fd:hd:T?sr:Tt,Te=J?t:be(s);return _r(Te||s,function(Ee,Fe){Te&&(Fe=Ee,Ee=s[Fe]),na(x,Fe,Sr(Ee,a,l,Fe,s,w))}),x}function QD(s){var a=Tt(s);return function(l){return xy(l,s,a)}}function xy(s,a,l){var h=l.length;if(s==null)return!h;for(s=tt(s);h--;){var p=l[h],w=a[p],x=s[p];if(x===t&&!(p in s)||!w(x))return!1}return!0}function Iy(s,a,l){if(typeof s!="function")throw new xr(c);return ha(function(){s.apply(t,l)},a)}function sa(s,a,l,h){var p=-1,w=Bc,x=!0,D=s.length,T=[],K=a.length;if(!D)return T;l&&(a=ut(a,hr(l))),h?(w=Tf,x=!1):a.length>=n&&(w=Xo,x=!1,a=new $n(a));e:for(;++p<D;){var J=s[p],Y=l==null?J:l(J);if(J=h||J!==0?J:0,x&&Y===Y){for(var re=K;re--;)if(a[re]===Y)continue e;T.push(J)}else w(a,Y,h)||T.push(J)}return T}var Ji=Zy(Kr),Sy=Zy(Gf,!0);function eA(s,a){var l=!0;return Ji(s,function(h,p,w){return l=!!a(h,p,w),l}),l}function nl(s,a,l){for(var h=-1,p=s.length;++h<p;){var w=s[h],x=a(w);if(x!=null&&(D===t?x===x&&!dr(x):l(x,D)))var D=x,T=w}return T}function tA(s,a,l,h){var p=s.length;for(l=Re(l),l<0&&(l=-l>p?0:p+l),h=h===t||h>p?p:Re(h),h<0&&(h+=p),h=l>h?0:qw(h);l<h;)s[l++]=a;return s}function Cy(s,a){var l=[];return Ji(s,function(h,p,w){a(h,p,w)&&l.push(h)}),l}function jt(s,a,l,h,p){var w=-1,x=s.length;for(l||(l=HA),p||(p=[]);++w<x;){var D=s[w];a>0&&l(D)?a>1?jt(D,a-1,l,h,p):Wi(p,D):h||(p[p.length]=D)}return p}var Kf=Xy(),Dy=Xy(!0);function Kr(s,a){return s&&Kf(s,a,Tt)}function Gf(s,a){return s&&Dy(s,a,Tt)}function sl(s,a){return Vi(a,function(l){return vi(s[l])})}function kn(s,a){a=Zi(a,s);for(var l=0,h=a.length;s!=null&&l<h;)s=s[Jr(a[l++])];return l&&l==h?s:t}function Ay(s,a,l){var h=a(s);return Ce(s)?h:Wi(h,l(s))}function Gt(s){return s==null?s===t?RS:AS:jn&&jn in tt(s)?jA(s):YA(s)}function Jf(s,a){return s>a}function rA(s,a){return s!=null&&Ze.call(s,a)}function iA(s,a){return s!=null&&a in tt(s)}function nA(s,a,l){return s>=Bt(a,l)&&s<Ot(a,l)}function Yf(s,a,l){for(var h=l?Tf:Bc,p=s[0].length,w=s.length,x=w,D=j(w),T=1/0,K=[];x--;){var J=s[x];x&&a&&(J=ut(J,hr(a))),T=Bt(J.length,T),D[x]=!l&&(a||p>=120&&J.length>=120)?new $n(x&&J):t}J=s[0];var Y=-1,re=D[0];e:for(;++Y<p&&K.length<T;){var ce=J[Y],be=a?a(ce):ce;if(ce=l||ce!==0?ce:0,!(re?Xo(re,be):h(K,be,l))){for(x=w;--x;){var Te=D[x];if(!(Te?Xo(Te,be):h(s[x],be,l)))continue e}re&&re.push(be),K.push(ce)}}return K}function sA(s,a,l,h){return Kr(s,function(p,w,x){a(h,l(p),w,x)}),h}function oa(s,a,l){a=Zi(a,s),s=gw(s,a);var h=s==null?s:s[Jr(Dr(a))];return h==null?t:ur(h,s,l)}function Oy(s){return wt(s)&&Gt(s)==he}function oA(s){return wt(s)&&Gt(s)==Zo}function aA(s){return wt(s)&&Gt(s)==Ae}function aa(s,a,l,h,p){return s===a?!0:s==null||a==null||!wt(s)&&!wt(a)?s!==s&&a!==a:cA(s,a,l,h,aa,p)}function cA(s,a,l,h,p,w){var x=Ce(s),D=Ce(a),T=x?fe:kt(s),K=D?fe:kt(a);T=T==he?fi:T,K=K==he?fi:K;var J=T==fi,Y=K==fi,re=T==K;if(re&&Qi(s)){if(!Qi(a))return!1;x=!0,J=!1}if(re&&!J)return w||(w=new kr),x||Fs(s)?cw(s,a,l,h,p,w):UA(s,a,T,l,h,p,w);if(!(l&E)){var ce=J&&Ze.call(s,"__wrapped__"),be=Y&&Ze.call(a,"__wrapped__");if(ce||be){var Te=ce?s.value():s,Ee=be?a.value():a;return w||(w=new kr),p(Te,Ee,l,h,w)}}return re?(w||(w=new kr),MA(s,a,l,h,p,w)):!1}function lA(s){return wt(s)&&kt(s)==_e}function Zf(s,a,l,h){var p=l.length,w=p,x=!h;if(s==null)return!w;for(s=tt(s);p--;){var D=l[p];if(x&&D[2]?D[1]!==s[D[0]]:!(D[0]in s))return!1}for(;++p<w;){D=l[p];var T=D[0],K=s[T],J=D[1];if(x&&D[2]){if(K===t&&!(T in s))return!1}else{var Y=new kr;if(h)var re=h(K,J,T,s,a,Y);if(!(re===t?aa(J,K,E|I,h,Y):re))return!1}}return!0}function Ry(s){if(!gt(s)||VA(s))return!1;var a=vi(s)?lD:QS;return a.test(Hn(s))}function uA(s){return wt(s)&&Gt(s)==Go}function hA(s){return wt(s)&&kt(s)==$r}function fA(s){return wt(s)&&_l(s.length)&&!!at[Gt(s)]}function Py(s){return typeof s=="function"?s:s==null?or:typeof s=="object"?Ce(s)?Ly(s[0],s[1]):Ny(s):Qw(s)}function Xf(s){if(!ua(s))return gD(s);var a=[];for(var l in tt(s))Ze.call(s,l)&&l!="constructor"&&a.push(l);return a}function dA(s){if(!gt(s))return JA(s);var a=ua(s),l=[];for(var h in s)h=="constructor"&&(a||!Ze.call(s,h))||l.push(h);return l}function Qf(s,a){return s<a}function Ty(s,a){var l=-1,h=nr(s)?j(s.length):[];return Ji(s,function(p,w,x){h[++l]=a(p,w,x)}),h}function Ny(s){var a=pd(s);return a.length==1&&a[0][2]?dw(a[0][0],a[0][1]):function(l){return l===s||Zf(l,s,a)}}function Ly(s,a){return md(s)&&fw(a)?dw(Jr(s),a):function(l){var h=Cd(l,s);return h===t&&h===a?Dd(l,s):aa(a,h,E|I)}}function ol(s,a,l,h,p){s!==a&&Kf(a,function(w,x){if(p||(p=new kr),gt(w))pA(s,a,x,l,ol,h,p);else{var D=h?h(wd(s,x),w,x+"",s,a,p):t;D===t&&(D=w),Vf(s,x,D)}},sr)}function pA(s,a,l,h,p,w,x){var D=wd(s,l),T=wd(a,l),K=x.get(T);if(K){Vf(s,l,K);return}var J=w?w(D,T,l+"",s,a,x):t,Y=J===t;if(Y){var re=Ce(T),ce=!re&&Qi(T),be=!re&&!ce&&Fs(T);J=T,re||ce||be?Ce(D)?J=D:Et(D)?J=ir(D):ce?(Y=!1,J=Wy(T,!0)):be?(Y=!1,J=Ky(T,!0)):J=[]:fa(T)||zn(T)?(J=D,zn(D)?J=Hw(D):(!gt(D)||vi(D))&&(J=hw(T))):Y=!1}Y&&(x.set(T,J),p(J,T,h,w,x),x.delete(T)),Vf(s,l,J)}function Uy(s,a){var l=s.length;if(l)return a+=a<0?l:0,wi(a,l)?s[a]:t}function My(s,a,l){a.length?a=ut(a,function(w){return Ce(w)?function(x){return kn(x,w.length===1?w[0]:w)}:w}):a=[or];var h=-1;a=ut(a,hr(ve()));var p=Ty(s,function(w,x,D){var T=ut(a,function(K){return K(w)});return{criteria:T,index:++h,value:w}});return kC(p,function(w,x){return DA(w,x,l)})}function gA(s,a){return jy(s,a,function(l,h){return Dd(s,h)})}function jy(s,a,l){for(var h=-1,p=a.length,w={};++h<p;){var x=a[h],D=kn(s,x);l(D,x)&&ca(w,Zi(x,s),D)}return w}function mA(s){return function(a){return kn(a,s)}}function ed(s,a,l,h){var p=h?BC:Ds,w=-1,x=a.length,D=s;for(s===a&&(a=ir(a)),l&&(D=ut(s,hr(l)));++w<x;)for(var T=0,K=a[w],J=l?l(K):K;(T=p(D,J,T,h))>-1;)D!==s&&Yc.call(D,T,1),Yc.call(s,T,1);return s}function Fy(s,a){for(var l=s?a.length:0,h=l-1;l--;){var p=a[l];if(l==h||p!==w){var w=p;wi(p)?Yc.call(s,p,1):nd(s,p)}}return s}function td(s,a){return s+Qc(wy()*(a-s+1))}function yA(s,a,l,h){for(var p=-1,w=Ot(Xc((a-s)/(l||1)),0),x=j(w);w--;)x[h?w:++p]=s,s+=l;return x}function rd(s,a){var l="";if(!s||a<1||a>oe)return l;do a%2&&(l+=s),a=Qc(a/2),a&&(s+=s);while(a);return l}function Ue(s,a){return vd(pw(s,a,or),s+"")}function wA(s){return Ey($s(s))}function vA(s,a){var l=$s(s);return ml(l,Bn(a,0,l.length))}function ca(s,a,l,h){if(!gt(s))return s;a=Zi(a,s);for(var p=-1,w=a.length,x=w-1,D=s;D!=null&&++p<w;){var T=Jr(a[p]),K=l;if(T==="__proto__"||T==="constructor"||T==="prototype")return s;if(p!=x){var J=D[T];K=h?h(J,T,D):t,K===t&&(K=gt(J)?J:wi(a[p+1])?[]:{})}na(D,T,K),D=D[T]}return s}var $y=el?function(s,a){return el.set(s,a),s}:or,bA=Zc?function(s,a){return Zc(s,"toString",{configurable:!0,enumerable:!1,value:Od(a),writable:!0})}:or;function EA(s){return ml($s(s))}function Cr(s,a,l){var h=-1,p=s.length;a<0&&(a=-a>p?0:p+a),l=l>p?p:l,l<0&&(l+=p),p=a>l?0:l-a>>>0,a>>>=0;for(var w=j(p);++h<p;)w[h]=s[h+a];return w}function _A(s,a){var l;return Ji(s,function(h,p,w){return l=a(h,p,w),!l}),!!l}function al(s,a,l){var h=0,p=s==null?h:s.length;if(typeof a=="number"&&a===a&&p<=ye){for(;h<p;){var w=h+p>>>1,x=s[w];x!==null&&!dr(x)&&(l?x<=a:x<a)?h=w+1:p=w}return p}return id(s,a,or,l)}function id(s,a,l,h){var p=0,w=s==null?0:s.length;if(w===0)return 0;a=l(a);for(var x=a!==a,D=a===null,T=dr(a),K=a===t;p<w;){var J=Qc((p+w)/2),Y=l(s[J]),re=Y!==t,ce=Y===null,be=Y===Y,Te=dr(Y);if(x)var Ee=h||be;else K?Ee=be&&(h||re):D?Ee=be&&re&&(h||!ce):T?Ee=be&&re&&!ce&&(h||!Te):ce||Te?Ee=!1:Ee=h?Y<=a:Y<a;Ee?p=J+1:w=J}return Bt(w,me)}function By(s,a){for(var l=-1,h=s.length,p=0,w=[];++l<h;){var x=s[l],D=a?a(x):x;if(!l||!qr(D,T)){var T=D;w[p++]=x===0?0:x}}return w}function ky(s){return typeof s=="number"?s:dr(s)?ue:+s}function fr(s){if(typeof s=="string")return s;if(Ce(s))return ut(s,fr)+"";if(dr(s))return vy?vy.call(s):"";var a=s+"";return a=="0"&&1/s==-ee?"-0":a}function Yi(s,a,l){var h=-1,p=Bc,w=s.length,x=!0,D=[],T=D;if(l)x=!1,p=Tf;else if(w>=n){var K=a?null:NA(s);if(K)return qc(K);x=!1,p=Xo,T=new $n}else T=a?[]:D;e:for(;++h<w;){var J=s[h],Y=a?a(J):J;if(J=l||J!==0?J:0,x&&Y===Y){for(var re=T.length;re--;)if(T[re]===Y)continue e;a&&T.push(Y),D.push(J)}else p(T,Y,l)||(T!==D&&T.push(Y),D.push(J))}return D}function nd(s,a){return a=Zi(a,s),s=gw(s,a),s==null||delete s[Jr(Dr(a))]}function qy(s,a,l,h){return ca(s,a,l(kn(s,a)),h)}function cl(s,a,l,h){for(var p=s.length,w=h?p:-1;(h?w--:++w<p)&&a(s[w],w,s););return l?Cr(s,h?0:w,h?w+1:p):Cr(s,h?w+1:0,h?p:w)}function Hy(s,a){var l=s;return l instanceof Be&&(l=l.value()),Nf(a,function(h,p){return p.func.apply(p.thisArg,Wi([h],p.args))},l)}function sd(s,a,l){var h=s.length;if(h<2)return h?Yi(s[0]):[];for(var p=-1,w=j(h);++p<h;)for(var x=s[p],D=-1;++D<h;)D!=p&&(w[p]=sa(w[p]||x,s[D],a,l));return Yi(jt(w,1),a,l)}function zy(s,a,l){for(var h=-1,p=s.length,w=a.length,x={};++h<p;){var D=h<w?a[h]:t;l(x,s[h],D)}return x}function od(s){return Et(s)?s:[]}function ad(s){return typeof s=="function"?s:or}function Zi(s,a){return Ce(s)?s:md(s,a)?[s]:vw(We(s))}var xA=Ue;function Xi(s,a,l){var h=s.length;return l=l===t?h:l,!a&&l>=h?s:Cr(s,a,l)}var Vy=uD||function(s){return Mt.clearTimeout(s)};function Wy(s,a){if(a)return s.slice();var l=s.length,h=dy?dy(l):new s.constructor(l);return s.copy(h),h}function cd(s){var a=new s.constructor(s.byteLength);return new Gc(a).set(new Gc(s)),a}function IA(s,a){var l=a?cd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function SA(s){var a=new s.constructor(s.source,Om.exec(s));return a.lastIndex=s.lastIndex,a}function CA(s){return ia?tt(ia.call(s)):{}}function Ky(s,a){var l=a?cd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function Gy(s,a){if(s!==a){var l=s!==t,h=s===null,p=s===s,w=dr(s),x=a!==t,D=a===null,T=a===a,K=dr(a);if(!D&&!K&&!w&&s>a||w&&x&&T&&!D&&!K||h&&x&&T||!l&&T||!p)return 1;if(!h&&!w&&!K&&s<a||K&&l&&p&&!h&&!w||D&&l&&p||!x&&p||!T)return-1}return 0}function DA(s,a,l){for(var h=-1,p=s.criteria,w=a.criteria,x=p.length,D=l.length;++h<x;){var T=Gy(p[h],w[h]);if(T){if(h>=D)return T;var K=l[h];return T*(K=="desc"?-1:1)}}return s.index-a.index}function Jy(s,a,l,h){for(var p=-1,w=s.length,x=l.length,D=-1,T=a.length,K=Ot(w-x,0),J=j(T+K),Y=!h;++D<T;)J[D]=a[D];for(;++p<x;)(Y||p<w)&&(J[l[p]]=s[p]);for(;K--;)J[D++]=s[p++];return J}function Yy(s,a,l,h){for(var p=-1,w=s.length,x=-1,D=l.length,T=-1,K=a.length,J=Ot(w-D,0),Y=j(J+K),re=!h;++p<J;)Y[p]=s[p];for(var ce=p;++T<K;)Y[ce+T]=a[T];for(;++x<D;)(re||p<w)&&(Y[ce+l[x]]=s[p++]);return Y}function ir(s,a){var l=-1,h=s.length;for(a||(a=j(h));++l<h;)a[l]=s[l];return a}function Gr(s,a,l,h){var p=!l;l||(l={});for(var w=-1,x=a.length;++w<x;){var D=a[w],T=h?h(l[D],s[D],D,l,s):t;T===t&&(T=s[D]),p?gi(l,D,T):na(l,D,T)}return l}function AA(s,a){return Gr(s,gd(s),a)}function OA(s,a){return Gr(s,lw(s),a)}function ll(s,a){return function(l,h){var p=Ce(l)?LC:ZD,w=a?a():{};return p(l,s,ve(h,2),w)}}function Us(s){return Ue(function(a,l){var h=-1,p=l.length,w=p>1?l[p-1]:t,x=p>2?l[2]:t;for(w=s.length>3&&typeof w=="function"?(p--,w):t,x&&Jt(l[0],l[1],x)&&(w=p<3?t:w,p=1),a=tt(a);++h<p;){var D=l[h];D&&s(a,D,h,w)}return a})}function Zy(s,a){return function(l,h){if(l==null)return l;if(!nr(l))return s(l,h);for(var p=l.length,w=a?p:-1,x=tt(l);(a?w--:++w<p)&&h(x[w],w,x)!==!1;);return l}}function Xy(s){return function(a,l,h){for(var p=-1,w=tt(a),x=h(a),D=x.length;D--;){var T=x[s?D:++p];if(l(w[T],T,w)===!1)break}return a}}function RA(s,a,l){var h=a&O,p=la(s);function w(){var x=this&&this!==Mt&&this instanceof w?p:s;return x.apply(h?l:this,arguments)}return w}function Qy(s){return function(a){a=We(a);var l=As(a)?Br(a):t,h=l?l[0]:a.charAt(0),p=l?Xi(l,1).join(""):a.slice(1);return h[s]()+p}}function Ms(s){return function(a){return Nf(Zw(Yw(a).replace(bC,"")),s,"")}}function la(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=Ls(s.prototype),h=s.apply(l,a);return gt(h)?h:l}}function PA(s,a,l){var h=la(s);function p(){for(var w=arguments.length,x=j(w),D=w,T=js(p);D--;)x[D]=arguments[D];var K=w<3&&x[0]!==T&&x[w-1]!==T?[]:Ki(x,T);if(w-=K.length,w<l)return nw(s,a,ul,p.placeholder,t,x,K,t,t,l-w);var J=this&&this!==Mt&&this instanceof p?h:s;return ur(J,this,x)}return p}function ew(s){return function(a,l,h){var p=tt(a);if(!nr(a)){var w=ve(l,3);a=Tt(a),l=function(D){return w(p[D],D,p)}}var x=s(a,l,h);return x>-1?p[w?a[x]:x]:t}}function tw(s){return yi(function(a){var l=a.length,h=l,p=Ir.prototype.thru;for(s&&a.reverse();h--;){var w=a[h];if(typeof w!="function")throw new xr(c);if(p&&!x&&pl(w)=="wrapper")var x=new Ir([],!0)}for(h=x?h:l;++h<l;){w=a[h];var D=pl(w),T=D=="wrapper"?dd(w):t;T&&yd(T[0])&&T[1]==(C|U|k|A)&&!T[4].length&&T[9]==1?x=x[pl(T[0])].apply(x,T[3]):x=w.length==1&&yd(w)?x[D]():x.thru(w)}return function(){var K=arguments,J=K[0];if(x&&K.length==1&&Ce(J))return x.plant(J).value();for(var Y=0,re=l?a[Y].apply(this,K):J;++Y<l;)re=a[Y].call(this,re);return re}})}function ul(s,a,l,h,p,w,x,D,T,K){var J=a&C,Y=a&O,re=a&R,ce=a&(U|N),be=a&V,Te=re?t:la(s);function Ee(){for(var Fe=arguments.length,ke=j(Fe),pr=Fe;pr--;)ke[pr]=arguments[pr];if(ce)var Yt=js(Ee),gr=HC(ke,Yt);if(h&&(ke=Jy(ke,h,p,ce)),w&&(ke=Yy(ke,w,x,ce)),Fe-=gr,ce&&Fe<K){var _t=Ki(ke,Yt);return nw(s,a,ul,Ee.placeholder,l,ke,_t,D,T,K-Fe)}var Hr=Y?l:this,Ei=re?Hr[s]:s;return Fe=ke.length,D?ke=ZA(ke,D):be&&Fe>1&&ke.reverse(),J&&T<Fe&&(ke.length=T),this&&this!==Mt&&this instanceof Ee&&(Ei=Te||la(Ei)),Ei.apply(Hr,ke)}return Ee}function rw(s,a){return function(l,h){return sA(l,s,a(h),{})}}function hl(s,a){return function(l,h){var p;if(l===t&&h===t)return a;if(l!==t&&(p=l),h!==t){if(p===t)return h;typeof l=="string"||typeof h=="string"?(l=fr(l),h=fr(h)):(l=ky(l),h=ky(h)),p=s(l,h)}return p}}function ld(s){return yi(function(a){return a=ut(a,hr(ve())),Ue(function(l){var h=this;return s(a,function(p){return ur(p,h,l)})})})}function fl(s,a){a=a===t?" ":fr(a);var l=a.length;if(l<2)return l?rd(a,s):a;var h=rd(a,Xc(s/Os(a)));return As(a)?Xi(Br(h),0,s).join(""):h.slice(0,s)}function TA(s,a,l,h){var p=a&O,w=la(s);function x(){for(var D=-1,T=arguments.length,K=-1,J=h.length,Y=j(J+T),re=this&&this!==Mt&&this instanceof x?w:s;++K<J;)Y[K]=h[K];for(;T--;)Y[K++]=arguments[++D];return ur(re,p?l:this,Y)}return x}function iw(s){return function(a,l,h){return h&&typeof h!="number"&&Jt(a,l,h)&&(l=h=t),a=bi(a),l===t?(l=a,a=0):l=bi(l),h=h===t?a<l?1:-1:bi(h),yA(a,l,h,s)}}function dl(s){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=Ar(a),l=Ar(l)),s(a,l)}}function nw(s,a,l,h,p,w,x,D,T,K){var J=a&U,Y=J?x:t,re=J?t:x,ce=J?w:t,be=J?t:w;a|=J?k:W,a&=~(J?W:k),a&H||(a&=~(O|R));var Te=[s,a,p,ce,Y,be,re,D,T,K],Ee=l.apply(t,Te);return yd(s)&&mw(Ee,Te),Ee.placeholder=h,yw(Ee,s,a)}function ud(s){var a=At[s];return function(l,h){if(l=Ar(l),h=h==null?0:Bt(Re(h),292),h&&yy(l)){var p=(We(l)+"e").split("e"),w=a(p[0]+"e"+(+p[1]+h));return p=(We(w)+"e").split("e"),+(p[0]+"e"+(+p[1]-h))}return a(l)}}var NA=Ts&&1/qc(new Ts([,-0]))[1]==ee?function(s){return new Ts(s)}:Td;function sw(s){return function(a){var l=kt(a);return l==_e?Bf(a):l==$r?YC(a):qC(a,s(a))}}function mi(s,a,l,h,p,w,x,D){var T=a&R;if(!T&&typeof s!="function")throw new xr(c);var K=h?h.length:0;if(K||(a&=~(k|W),h=p=t),x=x===t?x:Ot(Re(x),0),D=D===t?D:Re(D),K-=p?p.length:0,a&W){var J=h,Y=p;h=p=t}var re=T?t:dd(s),ce=[s,a,l,h,p,J,Y,w,x,D];if(re&&GA(ce,re),s=ce[0],a=ce[1],l=ce[2],h=ce[3],p=ce[4],D=ce[9]=ce[9]===t?T?0:s.length:Ot(ce[9]-K,0),!D&&a&(U|N)&&(a&=~(U|N)),!a||a==O)var be=RA(s,a,l);else a==U||a==N?be=PA(s,a,D):(a==k||a==(O|k))&&!p.length?be=TA(s,a,l,h):be=ul.apply(t,ce);var Te=re?$y:mw;return yw(Te(be,ce),s,a)}function ow(s,a,l,h){return s===t||qr(s,Ps[l])&&!Ze.call(h,l)?a:s}function aw(s,a,l,h,p,w){return gt(s)&&gt(a)&&(w.set(a,s),ol(s,a,t,aw,w),w.delete(a)),s}function LA(s){return fa(s)?t:s}function cw(s,a,l,h,p,w){var x=l&E,D=s.length,T=a.length;if(D!=T&&!(x&&T>D))return!1;var K=w.get(s),J=w.get(a);if(K&&J)return K==a&&J==s;var Y=-1,re=!0,ce=l&I?new $n:t;for(w.set(s,a),w.set(a,s);++Y<D;){var be=s[Y],Te=a[Y];if(h)var Ee=x?h(Te,be,Y,a,s,w):h(be,Te,Y,s,a,w);if(Ee!==t){if(Ee)continue;re=!1;break}if(ce){if(!Lf(a,function(Fe,ke){if(!Xo(ce,ke)&&(be===Fe||p(be,Fe,l,h,w)))return ce.push(ke)})){re=!1;break}}else if(!(be===Te||p(be,Te,l,h,w))){re=!1;break}}return w.delete(s),w.delete(a),re}function UA(s,a,l,h,p,w,x){switch(l){case Ss:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Zo:return!(s.byteLength!=a.byteLength||!w(new Gc(s),new Gc(a)));case Se:case Ae:case Le:return qr(+s,+a);case Pe:return s.name==a.name&&s.message==a.message;case Go:case Jo:return s==a+"";case _e:var D=Bf;case $r:var T=h&E;if(D||(D=qc),s.size!=a.size&&!T)return!1;var K=x.get(s);if(K)return K==a;h|=I,x.set(s,a);var J=cw(D(s),D(a),h,p,w,x);return x.delete(s),J;case Mc:if(ia)return ia.call(s)==ia.call(a)}return!1}function MA(s,a,l,h,p,w){var x=l&E,D=hd(s),T=D.length,K=hd(a),J=K.length;if(T!=J&&!x)return!1;for(var Y=T;Y--;){var re=D[Y];if(!(x?re in a:Ze.call(a,re)))return!1}var ce=w.get(s),be=w.get(a);if(ce&&be)return ce==a&&be==s;var Te=!0;w.set(s,a),w.set(a,s);for(var Ee=x;++Y<T;){re=D[Y];var Fe=s[re],ke=a[re];if(h)var pr=x?h(ke,Fe,re,a,s,w):h(Fe,ke,re,s,a,w);if(!(pr===t?Fe===ke||p(Fe,ke,l,h,w):pr)){Te=!1;break}Ee||(Ee=re=="constructor")}if(Te&&!Ee){var Yt=s.constructor,gr=a.constructor;Yt!=gr&&"constructor"in s&&"constructor"in a&&!(typeof Yt=="function"&&Yt instanceof Yt&&typeof gr=="function"&&gr instanceof gr)&&(Te=!1)}return w.delete(s),w.delete(a),Te}function yi(s){return vd(pw(s,t,xw),s+"")}function hd(s){return Ay(s,Tt,gd)}function fd(s){return Ay(s,sr,lw)}var dd=el?function(s){return el.get(s)}:Td;function pl(s){for(var a=s.name+"",l=Ns[a],h=Ze.call(Ns,a)?l.length:0;h--;){var p=l[h],w=p.func;if(w==null||w==s)return p.name}return a}function js(s){var a=Ze.call(m,"placeholder")?m:s;return a.placeholder}function ve(){var s=m.iteratee||Rd;return s=s===Rd?Py:s,arguments.length?s(arguments[0],arguments[1]):s}function gl(s,a){var l=s.__data__;return zA(a)?l[typeof a=="string"?"string":"hash"]:l.map}function pd(s){for(var a=Tt(s),l=a.length;l--;){var h=a[l],p=s[h];a[l]=[h,p,fw(p)]}return a}function qn(s,a){var l=KC(s,a);return Ry(l)?l:t}function jA(s){var a=Ze.call(s,jn),l=s[jn];try{s[jn]=t;var h=!0}catch{}var p=Wc.call(s);return h&&(a?s[jn]=l:delete s[jn]),p}var gd=qf?function(s){return s==null?[]:(s=tt(s),Vi(qf(s),function(a){return gy.call(s,a)}))}:Nd,lw=qf?function(s){for(var a=[];s;)Wi(a,gd(s)),s=Jc(s);return a}:Nd,kt=Gt;(Hf&&kt(new Hf(new ArrayBuffer(1)))!=Ss||ea&&kt(new ea)!=_e||zf&&kt(zf.resolve())!=Sm||Ts&&kt(new Ts)!=$r||ta&&kt(new ta)!=Yo)&&(kt=function(s){var a=Gt(s),l=a==fi?s.constructor:t,h=l?Hn(l):"";if(h)switch(h){case vD:return Ss;case bD:return _e;case ED:return Sm;case _D:return $r;case xD:return Yo}return a});function FA(s,a,l){for(var h=-1,p=l.length;++h<p;){var w=l[h],x=w.size;switch(w.type){case"drop":s+=x;break;case"dropRight":a-=x;break;case"take":a=Bt(a,s+x);break;case"takeRight":s=Ot(s,a-x);break}}return{start:s,end:a}}function $A(s){var a=s.match(VS);return a?a[1].split(WS):[]}function uw(s,a,l){a=Zi(a,s);for(var h=-1,p=a.length,w=!1;++h<p;){var x=Jr(a[h]);if(!(w=s!=null&&l(s,x)))break;s=s[x]}return w||++h!=p?w:(p=s==null?0:s.length,!!p&&_l(p)&&wi(x,p)&&(Ce(s)||zn(s)))}function BA(s){var a=s.length,l=new s.constructor(a);return a&&typeof s[0]=="string"&&Ze.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function hw(s){return typeof s.constructor=="function"&&!ua(s)?Ls(Jc(s)):{}}function kA(s,a,l){var h=s.constructor;switch(a){case Zo:return cd(s);case Se:case Ae:return new h(+s);case Ss:return IA(s,l);case pf:case gf:case mf:case yf:case wf:case vf:case bf:case Ef:case _f:return Ky(s,l);case _e:return new h;case Le:case Jo:return new h(s);case Go:return SA(s);case $r:return new h;case Mc:return CA(s)}}function qA(s,a){var l=a.length;if(!l)return s;var h=l-1;return a[h]=(l>1?"& ":"")+a[h],a=a.join(l>2?", ":" "),s.replace(zS,`{
/* [wrapped with `+a+`] */
`)}function HA(s){return Ce(s)||zn(s)||!!(my&&s&&s[my])}function wi(s,a){var l=typeof s;return a=a??oe,!!a&&(l=="number"||l!="symbol"&&tC.test(s))&&s>-1&&s%1==0&&s<a}function Jt(s,a,l){if(!gt(l))return!1;var h=typeof a;return(h=="number"?nr(l)&&wi(a,l.length):h=="string"&&a in l)?qr(l[a],s):!1}function md(s,a){if(Ce(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||dr(s)?!0:BS.test(s)||!$S.test(s)||a!=null&&s in tt(a)}function zA(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function yd(s){var a=pl(s),l=m[a];if(typeof l!="function"||!(a in Be.prototype))return!1;if(s===l)return!0;var h=dd(l);return!!h&&s===h[0]}function VA(s){return!!fy&&fy in s}var WA=zc?vi:Ld;function ua(s){var a=s&&s.constructor,l=typeof a=="function"&&a.prototype||Ps;return s===l}function fw(s){return s===s&&!gt(s)}function dw(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==t||s in tt(l))}}function KA(s){var a=bl(s,function(h){return l.size===d&&l.clear(),h}),l=a.cache;return a}function GA(s,a){var l=s[1],h=a[1],p=l|h,w=p<(O|R|C),x=h==C&&l==U||h==C&&l==A&&s[7].length<=a[8]||h==(C|A)&&a[7].length<=a[8]&&l==U;if(!(w||x))return s;h&O&&(s[2]=a[2],p|=l&O?0:H);var D=a[3];if(D){var T=s[3];s[3]=T?Jy(T,D,a[4]):D,s[4]=T?Ki(s[3],g):a[4]}return D=a[5],D&&(T=s[5],s[5]=T?Yy(T,D,a[6]):D,s[6]=T?Ki(s[5],g):a[6]),D=a[7],D&&(s[7]=D),h&C&&(s[8]=s[8]==null?a[8]:Bt(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=p,s}function JA(s){var a=[];if(s!=null)for(var l in tt(s))a.push(l);return a}function YA(s){return Wc.call(s)}function pw(s,a,l){return a=Ot(a===t?s.length-1:a,0),function(){for(var h=arguments,p=-1,w=Ot(h.length-a,0),x=j(w);++p<w;)x[p]=h[a+p];p=-1;for(var D=j(a+1);++p<a;)D[p]=h[p];return D[a]=l(x),ur(s,this,D)}}function gw(s,a){return a.length<2?s:kn(s,Cr(a,0,-1))}function ZA(s,a){for(var l=s.length,h=Bt(a.length,l),p=ir(s);h--;){var w=a[h];s[h]=wi(w,l)?p[w]:t}return s}function wd(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var mw=ww($y),ha=fD||function(s,a){return Mt.setTimeout(s,a)},vd=ww(bA);function yw(s,a,l){var h=a+"";return vd(s,qA(h,XA($A(h),l)))}function ww(s){var a=0,l=0;return function(){var h=mD(),p=B-(h-l);if(l=h,p>0){if(++a>=L)return arguments[0]}else a=0;return s.apply(t,arguments)}}function ml(s,a){var l=-1,h=s.length,p=h-1;for(a=a===t?h:a;++l<a;){var w=td(l,p),x=s[w];s[w]=s[l],s[l]=x}return s.length=a,s}var vw=KA(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(kS,function(l,h,p,w){a.push(p?w.replace(JS,"$1"):h||l)}),a});function Jr(s){if(typeof s=="string"||dr(s))return s;var a=s+"";return a=="0"&&1/s==-ee?"-0":a}function Hn(s){if(s!=null){try{return Vc.call(s)}catch{}try{return s+""}catch{}}return""}function XA(s,a){return _r(ge,function(l){var h="_."+l[0];a&l[1]&&!Bc(s,h)&&s.push(h)}),s.sort()}function bw(s){if(s instanceof Be)return s.clone();var a=new Ir(s.__wrapped__,s.__chain__);return a.__actions__=ir(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function QA(s,a,l){(l?Jt(s,a,l):a===t)?a=1:a=Ot(Re(a),0);var h=s==null?0:s.length;if(!h||a<1)return[];for(var p=0,w=0,x=j(Xc(h/a));p<h;)x[w++]=Cr(s,p,p+=a);return x}function eO(s){for(var a=-1,l=s==null?0:s.length,h=0,p=[];++a<l;){var w=s[a];w&&(p[h++]=w)}return p}function tO(){var s=arguments.length;if(!s)return[];for(var a=j(s-1),l=arguments[0],h=s;h--;)a[h-1]=arguments[h];return Wi(Ce(l)?ir(l):[l],jt(a,1))}var rO=Ue(function(s,a){return Et(s)?sa(s,jt(a,1,Et,!0)):[]}),iO=Ue(function(s,a){var l=Dr(a);return Et(l)&&(l=t),Et(s)?sa(s,jt(a,1,Et,!0),ve(l,2)):[]}),nO=Ue(function(s,a){var l=Dr(a);return Et(l)&&(l=t),Et(s)?sa(s,jt(a,1,Et,!0),t,l):[]});function sO(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),Cr(s,a<0?0:a,h)):[]}function oO(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),a=h-a,Cr(s,0,a<0?0:a)):[]}function aO(s,a){return s&&s.length?cl(s,ve(a,3),!0,!0):[]}function cO(s,a){return s&&s.length?cl(s,ve(a,3),!0):[]}function lO(s,a,l,h){var p=s==null?0:s.length;return p?(l&&typeof l!="number"&&Jt(s,a,l)&&(l=0,h=p),tA(s,a,l,h)):[]}function Ew(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=l==null?0:Re(l);return p<0&&(p=Ot(h+p,0)),kc(s,ve(a,3),p)}function _w(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=h-1;return l!==t&&(p=Re(l),p=l<0?Ot(h+p,0):Bt(p,h-1)),kc(s,ve(a,3),p,!0)}function xw(s){var a=s==null?0:s.length;return a?jt(s,1):[]}function uO(s){var a=s==null?0:s.length;return a?jt(s,ee):[]}function hO(s,a){var l=s==null?0:s.length;return l?(a=a===t?1:Re(a),jt(s,a)):[]}function fO(s){for(var a=-1,l=s==null?0:s.length,h={};++a<l;){var p=s[a];h[p[0]]=p[1]}return h}function Iw(s){return s&&s.length?s[0]:t}function dO(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=l==null?0:Re(l);return p<0&&(p=Ot(h+p,0)),Ds(s,a,p)}function pO(s){var a=s==null?0:s.length;return a?Cr(s,0,-1):[]}var gO=Ue(function(s){var a=ut(s,od);return a.length&&a[0]===s[0]?Yf(a):[]}),mO=Ue(function(s){var a=Dr(s),l=ut(s,od);return a===Dr(l)?a=t:l.pop(),l.length&&l[0]===s[0]?Yf(l,ve(a,2)):[]}),yO=Ue(function(s){var a=Dr(s),l=ut(s,od);return a=typeof a=="function"?a:t,a&&l.pop(),l.length&&l[0]===s[0]?Yf(l,t,a):[]});function wO(s,a){return s==null?"":pD.call(s,a)}function Dr(s){var a=s==null?0:s.length;return a?s[a-1]:t}function vO(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=h;return l!==t&&(p=Re(l),p=p<0?Ot(h+p,0):Bt(p,h-1)),a===a?XC(s,a,p):kc(s,ny,p,!0)}function bO(s,a){return s&&s.length?Uy(s,Re(a)):t}var EO=Ue(Sw);function Sw(s,a){return s&&s.length&&a&&a.length?ed(s,a):s}function _O(s,a,l){return s&&s.length&&a&&a.length?ed(s,a,ve(l,2)):s}function xO(s,a,l){return s&&s.length&&a&&a.length?ed(s,a,t,l):s}var IO=yi(function(s,a){var l=s==null?0:s.length,h=Wf(s,a);return Fy(s,ut(a,function(p){return wi(p,l)?+p:p}).sort(Gy)),h});function SO(s,a){var l=[];if(!(s&&s.length))return l;var h=-1,p=[],w=s.length;for(a=ve(a,3);++h<w;){var x=s[h];a(x,h,s)&&(l.push(x),p.push(h))}return Fy(s,p),l}function bd(s){return s==null?s:wD.call(s)}function CO(s,a,l){var h=s==null?0:s.length;return h?(l&&typeof l!="number"&&Jt(s,a,l)?(a=0,l=h):(a=a==null?0:Re(a),l=l===t?h:Re(l)),Cr(s,a,l)):[]}function DO(s,a){return al(s,a)}function AO(s,a,l){return id(s,a,ve(l,2))}function OO(s,a){var l=s==null?0:s.length;if(l){var h=al(s,a);if(h<l&&qr(s[h],a))return h}return-1}function RO(s,a){return al(s,a,!0)}function PO(s,a,l){return id(s,a,ve(l,2),!0)}function TO(s,a){var l=s==null?0:s.length;if(l){var h=al(s,a,!0)-1;if(qr(s[h],a))return h}return-1}function NO(s){return s&&s.length?By(s):[]}function LO(s,a){return s&&s.length?By(s,ve(a,2)):[]}function UO(s){var a=s==null?0:s.length;return a?Cr(s,1,a):[]}function MO(s,a,l){return s&&s.length?(a=l||a===t?1:Re(a),Cr(s,0,a<0?0:a)):[]}function jO(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),a=h-a,Cr(s,a<0?0:a,h)):[]}function FO(s,a){return s&&s.length?cl(s,ve(a,3),!1,!0):[]}function $O(s,a){return s&&s.length?cl(s,ve(a,3)):[]}var BO=Ue(function(s){return Yi(jt(s,1,Et,!0))}),kO=Ue(function(s){var a=Dr(s);return Et(a)&&(a=t),Yi(jt(s,1,Et,!0),ve(a,2))}),qO=Ue(function(s){var a=Dr(s);return a=typeof a=="function"?a:t,Yi(jt(s,1,Et,!0),t,a)});function HO(s){return s&&s.length?Yi(s):[]}function zO(s,a){return s&&s.length?Yi(s,ve(a,2)):[]}function VO(s,a){return a=typeof a=="function"?a:t,s&&s.length?Yi(s,t,a):[]}function Ed(s){if(!(s&&s.length))return[];var a=0;return s=Vi(s,function(l){if(Et(l))return a=Ot(l.length,a),!0}),Ff(a,function(l){return ut(s,Uf(l))})}function Cw(s,a){if(!(s&&s.length))return[];var l=Ed(s);return a==null?l:ut(l,function(h){return ur(a,t,h)})}var WO=Ue(function(s,a){return Et(s)?sa(s,a):[]}),KO=Ue(function(s){return sd(Vi(s,Et))}),GO=Ue(function(s){var a=Dr(s);return Et(a)&&(a=t),sd(Vi(s,Et),ve(a,2))}),JO=Ue(function(s){var a=Dr(s);return a=typeof a=="function"?a:t,sd(Vi(s,Et),t,a)}),YO=Ue(Ed);function ZO(s,a){return zy(s||[],a||[],na)}function XO(s,a){return zy(s||[],a||[],ca)}var QO=Ue(function(s){var a=s.length,l=a>1?s[a-1]:t;return l=typeof l=="function"?(s.pop(),l):t,Cw(s,l)});function Dw(s){var a=m(s);return a.__chain__=!0,a}function e7(s,a){return a(s),s}function yl(s,a){return a(s)}var t7=yi(function(s){var a=s.length,l=a?s[0]:0,h=this.__wrapped__,p=function(w){return Wf(w,s)};return a>1||this.__actions__.length||!(h instanceof Be)||!wi(l)?this.thru(p):(h=h.slice(l,+l+(a?1:0)),h.__actions__.push({func:yl,args:[p],thisArg:t}),new Ir(h,this.__chain__).thru(function(w){return a&&!w.length&&w.push(t),w}))});function r7(){return Dw(this)}function i7(){return new Ir(this.value(),this.__chain__)}function n7(){this.__values__===t&&(this.__values__=kw(this.value()));var s=this.__index__>=this.__values__.length,a=s?t:this.__values__[this.__index__++];return{done:s,value:a}}function s7(){return this}function o7(s){for(var a,l=this;l instanceof rl;){var h=bw(l);h.__index__=0,h.__values__=t,a?p.__wrapped__=h:a=h;var p=h;l=l.__wrapped__}return p.__wrapped__=s,a}function a7(){var s=this.__wrapped__;if(s instanceof Be){var a=s;return this.__actions__.length&&(a=new Be(this)),a=a.reverse(),a.__actions__.push({func:yl,args:[bd],thisArg:t}),new Ir(a,this.__chain__)}return this.thru(bd)}function c7(){return Hy(this.__wrapped__,this.__actions__)}var l7=ll(function(s,a,l){Ze.call(s,l)?++s[l]:gi(s,l,1)});function u7(s,a,l){var h=Ce(s)?ry:eA;return l&&Jt(s,a,l)&&(a=t),h(s,ve(a,3))}function h7(s,a){var l=Ce(s)?Vi:Cy;return l(s,ve(a,3))}var f7=ew(Ew),d7=ew(_w);function p7(s,a){return jt(wl(s,a),1)}function g7(s,a){return jt(wl(s,a),ee)}function m7(s,a,l){return l=l===t?1:Re(l),jt(wl(s,a),l)}function Aw(s,a){var l=Ce(s)?_r:Ji;return l(s,ve(a,3))}function Ow(s,a){var l=Ce(s)?UC:Sy;return l(s,ve(a,3))}var y7=ll(function(s,a,l){Ze.call(s,l)?s[l].push(a):gi(s,l,[a])});function w7(s,a,l,h){s=nr(s)?s:$s(s),l=l&&!h?Re(l):0;var p=s.length;return l<0&&(l=Ot(p+l,0)),xl(s)?l<=p&&s.indexOf(a,l)>-1:!!p&&Ds(s,a,l)>-1}var v7=Ue(function(s,a,l){var h=-1,p=typeof a=="function",w=nr(s)?j(s.length):[];return Ji(s,function(x){w[++h]=p?ur(a,x,l):oa(x,a,l)}),w}),b7=ll(function(s,a,l){gi(s,l,a)});function wl(s,a){var l=Ce(s)?ut:Ty;return l(s,ve(a,3))}function E7(s,a,l,h){return s==null?[]:(Ce(a)||(a=a==null?[]:[a]),l=h?t:l,Ce(l)||(l=l==null?[]:[l]),My(s,a,l))}var _7=ll(function(s,a,l){s[l?0:1].push(a)},function(){return[[],[]]});function x7(s,a,l){var h=Ce(s)?Nf:oy,p=arguments.length<3;return h(s,ve(a,4),l,p,Ji)}function I7(s,a,l){var h=Ce(s)?MC:oy,p=arguments.length<3;return h(s,ve(a,4),l,p,Sy)}function S7(s,a){var l=Ce(s)?Vi:Cy;return l(s,El(ve(a,3)))}function C7(s){var a=Ce(s)?Ey:wA;return a(s)}function D7(s,a,l){(l?Jt(s,a,l):a===t)?a=1:a=Re(a);var h=Ce(s)?JD:vA;return h(s,a)}function A7(s){var a=Ce(s)?YD:EA;return a(s)}function O7(s){if(s==null)return 0;if(nr(s))return xl(s)?Os(s):s.length;var a=kt(s);return a==_e||a==$r?s.size:Xf(s).length}function R7(s,a,l){var h=Ce(s)?Lf:_A;return l&&Jt(s,a,l)&&(a=t),h(s,ve(a,3))}var P7=Ue(function(s,a){if(s==null)return[];var l=a.length;return l>1&&Jt(s,a[0],a[1])?a=[]:l>2&&Jt(a[0],a[1],a[2])&&(a=[a[0]]),My(s,jt(a,1),[])}),vl=hD||function(){return Mt.Date.now()};function T7(s,a){if(typeof a!="function")throw new xr(c);return s=Re(s),function(){if(--s<1)return a.apply(this,arguments)}}function Rw(s,a,l){return a=l?t:a,a=s&&a==null?s.length:a,mi(s,C,t,t,t,t,a)}function Pw(s,a){var l;if(typeof a!="function")throw new xr(c);return s=Re(s),function(){return--s>0&&(l=a.apply(this,arguments)),s<=1&&(a=t),l}}var _d=Ue(function(s,a,l){var h=O;if(l.length){var p=Ki(l,js(_d));h|=k}return mi(s,h,a,l,p)}),Tw=Ue(function(s,a,l){var h=O|R;if(l.length){var p=Ki(l,js(Tw));h|=k}return mi(a,h,s,l,p)});function Nw(s,a,l){a=l?t:a;var h=mi(s,U,t,t,t,t,t,a);return h.placeholder=Nw.placeholder,h}function Lw(s,a,l){a=l?t:a;var h=mi(s,N,t,t,t,t,t,a);return h.placeholder=Lw.placeholder,h}function Uw(s,a,l){var h,p,w,x,D,T,K=0,J=!1,Y=!1,re=!0;if(typeof s!="function")throw new xr(c);a=Ar(a)||0,gt(l)&&(J=!!l.leading,Y="maxWait"in l,w=Y?Ot(Ar(l.maxWait)||0,a):w,re="trailing"in l?!!l.trailing:re);function ce(_t){var Hr=h,Ei=p;return h=p=t,K=_t,x=s.apply(Ei,Hr),x}function be(_t){return K=_t,D=ha(Fe,a),J?ce(_t):x}function Te(_t){var Hr=_t-T,Ei=_t-K,ev=a-Hr;return Y?Bt(ev,w-Ei):ev}function Ee(_t){var Hr=_t-T,Ei=_t-K;return T===t||Hr>=a||Hr<0||Y&&Ei>=w}function Fe(){var _t=vl();if(Ee(_t))return ke(_t);D=ha(Fe,Te(_t))}function ke(_t){return D=t,re&&h?ce(_t):(h=p=t,x)}function pr(){D!==t&&Vy(D),K=0,h=T=p=D=t}function Yt(){return D===t?x:ke(vl())}function gr(){var _t=vl(),Hr=Ee(_t);if(h=arguments,p=this,T=_t,Hr){if(D===t)return be(T);if(Y)return Vy(D),D=ha(Fe,a),ce(T)}return D===t&&(D=ha(Fe,a)),x}return gr.cancel=pr,gr.flush=Yt,gr}var N7=Ue(function(s,a){return Iy(s,1,a)}),L7=Ue(function(s,a,l){return Iy(s,Ar(a)||0,l)});function U7(s){return mi(s,V)}function bl(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new xr(c);var l=function(){var h=arguments,p=a?a.apply(this,h):h[0],w=l.cache;if(w.has(p))return w.get(p);var x=s.apply(this,h);return l.cache=w.set(p,x)||w,x};return l.cache=new(bl.Cache||pi),l}bl.Cache=pi;function El(s){if(typeof s!="function")throw new xr(c);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function M7(s){return Pw(2,s)}var j7=xA(function(s,a){a=a.length==1&&Ce(a[0])?ut(a[0],hr(ve())):ut(jt(a,1),hr(ve()));var l=a.length;return Ue(function(h){for(var p=-1,w=Bt(h.length,l);++p<w;)h[p]=a[p].call(this,h[p]);return ur(s,this,h)})}),xd=Ue(function(s,a){var l=Ki(a,js(xd));return mi(s,k,t,a,l)}),Mw=Ue(function(s,a){var l=Ki(a,js(Mw));return mi(s,W,t,a,l)}),F7=yi(function(s,a){return mi(s,A,t,t,t,a)});function $7(s,a){if(typeof s!="function")throw new xr(c);return a=a===t?a:Re(a),Ue(s,a)}function B7(s,a){if(typeof s!="function")throw new xr(c);return a=a==null?0:Ot(Re(a),0),Ue(function(l){var h=l[a],p=Xi(l,0,a);return h&&Wi(p,h),ur(s,this,p)})}function k7(s,a,l){var h=!0,p=!0;if(typeof s!="function")throw new xr(c);return gt(l)&&(h="leading"in l?!!l.leading:h,p="trailing"in l?!!l.trailing:p),Uw(s,a,{leading:h,maxWait:a,trailing:p})}function q7(s){return Rw(s,1)}function H7(s,a){return xd(ad(a),s)}function z7(){if(!arguments.length)return[];var s=arguments[0];return Ce(s)?s:[s]}function V7(s){return Sr(s,v)}function W7(s,a){return a=typeof a=="function"?a:t,Sr(s,v,a)}function K7(s){return Sr(s,y|v)}function G7(s,a){return a=typeof a=="function"?a:t,Sr(s,y|v,a)}function J7(s,a){return a==null||xy(s,a,Tt(a))}function qr(s,a){return s===a||s!==s&&a!==a}var Y7=dl(Jf),Z7=dl(function(s,a){return s>=a}),zn=Oy(function(){return arguments}())?Oy:function(s){return wt(s)&&Ze.call(s,"callee")&&!gy.call(s,"callee")},Ce=j.isArray,X7=Ym?hr(Ym):oA;function nr(s){return s!=null&&_l(s.length)&&!vi(s)}function Et(s){return wt(s)&&nr(s)}function Q7(s){return s===!0||s===!1||wt(s)&&Gt(s)==Se}var Qi=dD||Ld,eR=Zm?hr(Zm):aA;function tR(s){return wt(s)&&s.nodeType===1&&!fa(s)}function rR(s){if(s==null)return!0;if(nr(s)&&(Ce(s)||typeof s=="string"||typeof s.splice=="function"||Qi(s)||Fs(s)||zn(s)))return!s.length;var a=kt(s);if(a==_e||a==$r)return!s.size;if(ua(s))return!Xf(s).length;for(var l in s)if(Ze.call(s,l))return!1;return!0}function iR(s,a){return aa(s,a)}function nR(s,a,l){l=typeof l=="function"?l:t;var h=l?l(s,a):t;return h===t?aa(s,a,t,l):!!h}function Id(s){if(!wt(s))return!1;var a=Gt(s);return a==Pe||a==je||typeof s.message=="string"&&typeof s.name=="string"&&!fa(s)}function sR(s){return typeof s=="number"&&yy(s)}function vi(s){if(!gt(s))return!1;var a=Gt(s);return a==Oe||a==$e||a==we||a==OS}function jw(s){return typeof s=="number"&&s==Re(s)}function _l(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=oe}function gt(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function wt(s){return s!=null&&typeof s=="object"}var Fw=Xm?hr(Xm):lA;function oR(s,a){return s===a||Zf(s,a,pd(a))}function aR(s,a,l){return l=typeof l=="function"?l:t,Zf(s,a,pd(a),l)}function cR(s){return $w(s)&&s!=+s}function lR(s){if(WA(s))throw new xe(o);return Ry(s)}function uR(s){return s===null}function hR(s){return s==null}function $w(s){return typeof s=="number"||wt(s)&&Gt(s)==Le}function fa(s){if(!wt(s)||Gt(s)!=fi)return!1;var a=Jc(s);if(a===null)return!0;var l=Ze.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&Vc.call(l)==aD}var Sd=Qm?hr(Qm):uA;function fR(s){return jw(s)&&s>=-oe&&s<=oe}var Bw=ey?hr(ey):hA;function xl(s){return typeof s=="string"||!Ce(s)&&wt(s)&&Gt(s)==Jo}function dr(s){return typeof s=="symbol"||wt(s)&&Gt(s)==Mc}var Fs=ty?hr(ty):fA;function dR(s){return s===t}function pR(s){return wt(s)&&kt(s)==Yo}function gR(s){return wt(s)&&Gt(s)==PS}var mR=dl(Qf),yR=dl(function(s,a){return s<=a});function kw(s){if(!s)return[];if(nr(s))return xl(s)?Br(s):ir(s);if(Qo&&s[Qo])return JC(s[Qo]());var a=kt(s),l=a==_e?Bf:a==$r?qc:$s;return l(s)}function bi(s){if(!s)return s===0?s:0;if(s=Ar(s),s===ee||s===-ee){var a=s<0?-1:1;return a*Ye}return s===s?s:0}function Re(s){var a=bi(s),l=a%1;return a===a?l?a-l:a:0}function qw(s){return s?Bn(Re(s),0,ae):0}function Ar(s){if(typeof s=="number")return s;if(dr(s))return ue;if(gt(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=gt(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=ay(s);var l=XS.test(s);return l||eC.test(s)?TC(s.slice(2),l?2:8):ZS.test(s)?ue:+s}function Hw(s){return Gr(s,sr(s))}function wR(s){return s?Bn(Re(s),-oe,oe):s===0?s:0}function We(s){return s==null?"":fr(s)}var vR=Us(function(s,a){if(ua(a)||nr(a)){Gr(a,Tt(a),s);return}for(var l in a)Ze.call(a,l)&&na(s,l,a[l])}),zw=Us(function(s,a){Gr(a,sr(a),s)}),Il=Us(function(s,a,l,h){Gr(a,sr(a),s,h)}),bR=Us(function(s,a,l,h){Gr(a,Tt(a),s,h)}),ER=yi(Wf);function _R(s,a){var l=Ls(s);return a==null?l:_y(l,a)}var xR=Ue(function(s,a){s=tt(s);var l=-1,h=a.length,p=h>2?a[2]:t;for(p&&Jt(a[0],a[1],p)&&(h=1);++l<h;)for(var w=a[l],x=sr(w),D=-1,T=x.length;++D<T;){var K=x[D],J=s[K];(J===t||qr(J,Ps[K])&&!Ze.call(s,K))&&(s[K]=w[K])}return s}),IR=Ue(function(s){return s.push(t,aw),ur(Vw,t,s)});function SR(s,a){return iy(s,ve(a,3),Kr)}function CR(s,a){return iy(s,ve(a,3),Gf)}function DR(s,a){return s==null?s:Kf(s,ve(a,3),sr)}function AR(s,a){return s==null?s:Dy(s,ve(a,3),sr)}function OR(s,a){return s&&Kr(s,ve(a,3))}function RR(s,a){return s&&Gf(s,ve(a,3))}function PR(s){return s==null?[]:sl(s,Tt(s))}function TR(s){return s==null?[]:sl(s,sr(s))}function Cd(s,a,l){var h=s==null?t:kn(s,a);return h===t?l:h}function NR(s,a){return s!=null&&uw(s,a,rA)}function Dd(s,a){return s!=null&&uw(s,a,iA)}var LR=rw(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Wc.call(a)),s[a]=l},Od(or)),UR=rw(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Wc.call(a)),Ze.call(s,a)?s[a].push(l):s[a]=[l]},ve),MR=Ue(oa);function Tt(s){return nr(s)?by(s):Xf(s)}function sr(s){return nr(s)?by(s,!0):dA(s)}function jR(s,a){var l={};return a=ve(a,3),Kr(s,function(h,p,w){gi(l,a(h,p,w),h)}),l}function FR(s,a){var l={};return a=ve(a,3),Kr(s,function(h,p,w){gi(l,p,a(h,p,w))}),l}var $R=Us(function(s,a,l){ol(s,a,l)}),Vw=Us(function(s,a,l,h){ol(s,a,l,h)}),BR=yi(function(s,a){var l={};if(s==null)return l;var h=!1;a=ut(a,function(w){return w=Zi(w,s),h||(h=w.length>1),w}),Gr(s,fd(s),l),h&&(l=Sr(l,y|b|v,LA));for(var p=a.length;p--;)nd(l,a[p]);return l});function kR(s,a){return Ww(s,El(ve(a)))}var qR=yi(function(s,a){return s==null?{}:gA(s,a)});function Ww(s,a){if(s==null)return{};var l=ut(fd(s),function(h){return[h]});return a=ve(a),jy(s,l,function(h,p){return a(h,p[0])})}function HR(s,a,l){a=Zi(a,s);var h=-1,p=a.length;for(p||(p=1,s=t);++h<p;){var w=s==null?t:s[Jr(a[h])];w===t&&(h=p,w=l),s=vi(w)?w.call(s):w}return s}function zR(s,a,l){return s==null?s:ca(s,a,l)}function VR(s,a,l,h){return h=typeof h=="function"?h:t,s==null?s:ca(s,a,l,h)}var Kw=sw(Tt),Gw=sw(sr);function WR(s,a,l){var h=Ce(s),p=h||Qi(s)||Fs(s);if(a=ve(a,4),l==null){var w=s&&s.constructor;p?l=h?new w:[]:gt(s)?l=vi(w)?Ls(Jc(s)):{}:l={}}return(p?_r:Kr)(s,function(x,D,T){return a(l,x,D,T)}),l}function KR(s,a){return s==null?!0:nd(s,a)}function GR(s,a,l){return s==null?s:qy(s,a,ad(l))}function JR(s,a,l,h){return h=typeof h=="function"?h:t,s==null?s:qy(s,a,ad(l),h)}function $s(s){return s==null?[]:$f(s,Tt(s))}function YR(s){return s==null?[]:$f(s,sr(s))}function ZR(s,a,l){return l===t&&(l=a,a=t),l!==t&&(l=Ar(l),l=l===l?l:0),a!==t&&(a=Ar(a),a=a===a?a:0),Bn(Ar(s),a,l)}function XR(s,a,l){return a=bi(a),l===t?(l=a,a=0):l=bi(l),s=Ar(s),nA(s,a,l)}function QR(s,a,l){if(l&&typeof l!="boolean"&&Jt(s,a,l)&&(a=l=t),l===t&&(typeof a=="boolean"?(l=a,a=t):typeof s=="boolean"&&(l=s,s=t)),s===t&&a===t?(s=0,a=1):(s=bi(s),a===t?(a=s,s=0):a=bi(a)),s>a){var h=s;s=a,a=h}if(l||s%1||a%1){var p=wy();return Bt(s+p*(a-s+PC("1e-"+((p+"").length-1))),a)}return td(s,a)}var eP=Ms(function(s,a,l){return a=a.toLowerCase(),s+(l?Jw(a):a)});function Jw(s){return Ad(We(s).toLowerCase())}function Yw(s){return s=We(s),s&&s.replace(rC,zC).replace(EC,"")}function tP(s,a,l){s=We(s),a=fr(a);var h=s.length;l=l===t?h:Bn(Re(l),0,h);var p=l;return l-=a.length,l>=0&&s.slice(l,p)==a}function rP(s){return s=We(s),s&&MS.test(s)?s.replace(Dm,VC):s}function iP(s){return s=We(s),s&&qS.test(s)?s.replace(xf,"\\$&"):s}var nP=Ms(function(s,a,l){return s+(l?"-":"")+a.toLowerCase()}),sP=Ms(function(s,a,l){return s+(l?" ":"")+a.toLowerCase()}),oP=Qy("toLowerCase");function aP(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;if(!a||h>=a)return s;var p=(a-h)/2;return fl(Qc(p),l)+s+fl(Xc(p),l)}function cP(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;return a&&h<a?s+fl(a-h,l):s}function lP(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;return a&&h<a?fl(a-h,l)+s:s}function uP(s,a,l){return l||a==null?a=0:a&&(a=+a),yD(We(s).replace(If,""),a||0)}function hP(s,a,l){return(l?Jt(s,a,l):a===t)?a=1:a=Re(a),rd(We(s),a)}function fP(){var s=arguments,a=We(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var dP=Ms(function(s,a,l){return s+(l?"_":"")+a.toLowerCase()});function pP(s,a,l){return l&&typeof l!="number"&&Jt(s,a,l)&&(a=l=t),l=l===t?ae:l>>>0,l?(s=We(s),s&&(typeof a=="string"||a!=null&&!Sd(a))&&(a=fr(a),!a&&As(s))?Xi(Br(s),0,l):s.split(a,l)):[]}var gP=Ms(function(s,a,l){return s+(l?" ":"")+Ad(a)});function mP(s,a,l){return s=We(s),l=l==null?0:Bn(Re(l),0,s.length),a=fr(a),s.slice(l,l+a.length)==a}function yP(s,a,l){var h=m.templateSettings;l&&Jt(s,a,l)&&(a=t),s=We(s),a=Il({},a,h,ow);var p=Il({},a.imports,h.imports,ow),w=Tt(p),x=$f(p,w),D,T,K=0,J=a.interpolate||jc,Y="__p += '",re=kf((a.escape||jc).source+"|"+J.source+"|"+(J===Am?YS:jc).source+"|"+(a.evaluate||jc).source+"|$","g"),ce="//# sourceURL="+(Ze.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++CC+"]")+`
`;s.replace(re,function(Ee,Fe,ke,pr,Yt,gr){return ke||(ke=pr),Y+=s.slice(K,gr).replace(iC,WC),Fe&&(D=!0,Y+=`' +
__e(`+Fe+`) +
'`),Yt&&(T=!0,Y+=`';
`+Yt+`;
__p += '`),ke&&(Y+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),K=gr+Ee.length,Ee}),Y+=`';
`;var be=Ze.call(a,"variable")&&a.variable;if(!be)Y=`with (obj) {
`+Y+`
}
`;else if(GS.test(be))throw new xe(u);Y=(T?Y.replace(TS,""):Y).replace(NS,"$1").replace(LS,"$1;"),Y="function("+(be||"obj")+`) {
`+(be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Te=Xw(function(){return Ve(w,ce+"return "+Y).apply(t,x)});if(Te.source=Y,Id(Te))throw Te;return Te}function wP(s){return We(s).toLowerCase()}function vP(s){return We(s).toUpperCase()}function bP(s,a,l){if(s=We(s),s&&(l||a===t))return ay(s);if(!s||!(a=fr(a)))return s;var h=Br(s),p=Br(a),w=cy(h,p),x=ly(h,p)+1;return Xi(h,w,x).join("")}function EP(s,a,l){if(s=We(s),s&&(l||a===t))return s.slice(0,hy(s)+1);if(!s||!(a=fr(a)))return s;var h=Br(s),p=ly(h,Br(a))+1;return Xi(h,0,p).join("")}function _P(s,a,l){if(s=We(s),s&&(l||a===t))return s.replace(If,"");if(!s||!(a=fr(a)))return s;var h=Br(s),p=cy(h,Br(a));return Xi(h,p).join("")}function xP(s,a){var l=_,h=S;if(gt(a)){var p="separator"in a?a.separator:p;l="length"in a?Re(a.length):l,h="omission"in a?fr(a.omission):h}s=We(s);var w=s.length;if(As(s)){var x=Br(s);w=x.length}if(l>=w)return s;var D=l-Os(h);if(D<1)return h;var T=x?Xi(x,0,D).join(""):s.slice(0,D);if(p===t)return T+h;if(x&&(D+=T.length-D),Sd(p)){if(s.slice(D).search(p)){var K,J=T;for(p.global||(p=kf(p.source,We(Om.exec(p))+"g")),p.lastIndex=0;K=p.exec(J);)var Y=K.index;T=T.slice(0,Y===t?D:Y)}}else if(s.indexOf(fr(p),D)!=D){var re=T.lastIndexOf(p);re>-1&&(T=T.slice(0,re))}return T+h}function IP(s){return s=We(s),s&&US.test(s)?s.replace(Cm,QC):s}var SP=Ms(function(s,a,l){return s+(l?" ":"")+a.toUpperCase()}),Ad=Qy("toUpperCase");function Zw(s,a,l){return s=We(s),a=l?t:a,a===t?GC(s)?rD(s):$C(s):s.match(a)||[]}var Xw=Ue(function(s,a){try{return ur(s,t,a)}catch(l){return Id(l)?l:new xe(l)}}),CP=yi(function(s,a){return _r(a,function(l){l=Jr(l),gi(s,l,_d(s[l],s))}),s});function DP(s){var a=s==null?0:s.length,l=ve();return s=a?ut(s,function(h){if(typeof h[1]!="function")throw new xr(c);return[l(h[0]),h[1]]}):[],Ue(function(h){for(var p=-1;++p<a;){var w=s[p];if(ur(w[0],this,h))return ur(w[1],this,h)}})}function AP(s){return QD(Sr(s,y))}function Od(s){return function(){return s}}function OP(s,a){return s==null||s!==s?a:s}var RP=tw(),PP=tw(!0);function or(s){return s}function Rd(s){return Py(typeof s=="function"?s:Sr(s,y))}function TP(s){return Ny(Sr(s,y))}function NP(s,a){return Ly(s,Sr(a,y))}var LP=Ue(function(s,a){return function(l){return oa(l,s,a)}}),UP=Ue(function(s,a){return function(l){return oa(s,l,a)}});function Pd(s,a,l){var h=Tt(a),p=sl(a,h);l==null&&!(gt(a)&&(p.length||!h.length))&&(l=a,a=s,s=this,p=sl(a,Tt(a)));var w=!(gt(l)&&"chain"in l)||!!l.chain,x=vi(s);return _r(p,function(D){var T=a[D];s[D]=T,x&&(s.prototype[D]=function(){var K=this.__chain__;if(w||K){var J=s(this.__wrapped__),Y=J.__actions__=ir(this.__actions__);return Y.push({func:T,args:arguments,thisArg:s}),J.__chain__=K,J}return T.apply(s,Wi([this.value()],arguments))})}),s}function MP(){return Mt._===this&&(Mt._=cD),this}function Td(){}function jP(s){return s=Re(s),Ue(function(a){return Uy(a,s)})}var FP=ld(ut),$P=ld(ry),BP=ld(Lf);function Qw(s){return md(s)?Uf(Jr(s)):mA(s)}function kP(s){return function(a){return s==null?t:kn(s,a)}}var qP=iw(),HP=iw(!0);function Nd(){return[]}function Ld(){return!1}function zP(){return{}}function VP(){return""}function WP(){return!0}function KP(s,a){if(s=Re(s),s<1||s>oe)return[];var l=ae,h=Bt(s,ae);a=ve(a),s-=ae;for(var p=Ff(h,a);++l<s;)a(l);return p}function GP(s){return Ce(s)?ut(s,Jr):dr(s)?[s]:ir(vw(We(s)))}function JP(s){var a=++oD;return We(s)+a}var YP=hl(function(s,a){return s+a},0),ZP=ud("ceil"),XP=hl(function(s,a){return s/a},1),QP=ud("floor");function eT(s){return s&&s.length?nl(s,or,Jf):t}function tT(s,a){return s&&s.length?nl(s,ve(a,2),Jf):t}function rT(s){return sy(s,or)}function iT(s,a){return sy(s,ve(a,2))}function nT(s){return s&&s.length?nl(s,or,Qf):t}function sT(s,a){return s&&s.length?nl(s,ve(a,2),Qf):t}var oT=hl(function(s,a){return s*a},1),aT=ud("round"),cT=hl(function(s,a){return s-a},0);function lT(s){return s&&s.length?jf(s,or):0}function uT(s,a){return s&&s.length?jf(s,ve(a,2)):0}return m.after=T7,m.ary=Rw,m.assign=vR,m.assignIn=zw,m.assignInWith=Il,m.assignWith=bR,m.at=ER,m.before=Pw,m.bind=_d,m.bindAll=CP,m.bindKey=Tw,m.castArray=z7,m.chain=Dw,m.chunk=QA,m.compact=eO,m.concat=tO,m.cond=DP,m.conforms=AP,m.constant=Od,m.countBy=l7,m.create=_R,m.curry=Nw,m.curryRight=Lw,m.debounce=Uw,m.defaults=xR,m.defaultsDeep=IR,m.defer=N7,m.delay=L7,m.difference=rO,m.differenceBy=iO,m.differenceWith=nO,m.drop=sO,m.dropRight=oO,m.dropRightWhile=aO,m.dropWhile=cO,m.fill=lO,m.filter=h7,m.flatMap=p7,m.flatMapDeep=g7,m.flatMapDepth=m7,m.flatten=xw,m.flattenDeep=uO,m.flattenDepth=hO,m.flip=U7,m.flow=RP,m.flowRight=PP,m.fromPairs=fO,m.functions=PR,m.functionsIn=TR,m.groupBy=y7,m.initial=pO,m.intersection=gO,m.intersectionBy=mO,m.intersectionWith=yO,m.invert=LR,m.invertBy=UR,m.invokeMap=v7,m.iteratee=Rd,m.keyBy=b7,m.keys=Tt,m.keysIn=sr,m.map=wl,m.mapKeys=jR,m.mapValues=FR,m.matches=TP,m.matchesProperty=NP,m.memoize=bl,m.merge=$R,m.mergeWith=Vw,m.method=LP,m.methodOf=UP,m.mixin=Pd,m.negate=El,m.nthArg=jP,m.omit=BR,m.omitBy=kR,m.once=M7,m.orderBy=E7,m.over=FP,m.overArgs=j7,m.overEvery=$P,m.overSome=BP,m.partial=xd,m.partialRight=Mw,m.partition=_7,m.pick=qR,m.pickBy=Ww,m.property=Qw,m.propertyOf=kP,m.pull=EO,m.pullAll=Sw,m.pullAllBy=_O,m.pullAllWith=xO,m.pullAt=IO,m.range=qP,m.rangeRight=HP,m.rearg=F7,m.reject=S7,m.remove=SO,m.rest=$7,m.reverse=bd,m.sampleSize=D7,m.set=zR,m.setWith=VR,m.shuffle=A7,m.slice=CO,m.sortBy=P7,m.sortedUniq=NO,m.sortedUniqBy=LO,m.split=pP,m.spread=B7,m.tail=UO,m.take=MO,m.takeRight=jO,m.takeRightWhile=FO,m.takeWhile=$O,m.tap=e7,m.throttle=k7,m.thru=yl,m.toArray=kw,m.toPairs=Kw,m.toPairsIn=Gw,m.toPath=GP,m.toPlainObject=Hw,m.transform=WR,m.unary=q7,m.union=BO,m.unionBy=kO,m.unionWith=qO,m.uniq=HO,m.uniqBy=zO,m.uniqWith=VO,m.unset=KR,m.unzip=Ed,m.unzipWith=Cw,m.update=GR,m.updateWith=JR,m.values=$s,m.valuesIn=YR,m.without=WO,m.words=Zw,m.wrap=H7,m.xor=KO,m.xorBy=GO,m.xorWith=JO,m.zip=YO,m.zipObject=ZO,m.zipObjectDeep=XO,m.zipWith=QO,m.entries=Kw,m.entriesIn=Gw,m.extend=zw,m.extendWith=Il,Pd(m,m),m.add=YP,m.attempt=Xw,m.camelCase=eP,m.capitalize=Jw,m.ceil=ZP,m.clamp=ZR,m.clone=V7,m.cloneDeep=K7,m.cloneDeepWith=G7,m.cloneWith=W7,m.conformsTo=J7,m.deburr=Yw,m.defaultTo=OP,m.divide=XP,m.endsWith=tP,m.eq=qr,m.escape=rP,m.escapeRegExp=iP,m.every=u7,m.find=f7,m.findIndex=Ew,m.findKey=SR,m.findLast=d7,m.findLastIndex=_w,m.findLastKey=CR,m.floor=QP,m.forEach=Aw,m.forEachRight=Ow,m.forIn=DR,m.forInRight=AR,m.forOwn=OR,m.forOwnRight=RR,m.get=Cd,m.gt=Y7,m.gte=Z7,m.has=NR,m.hasIn=Dd,m.head=Iw,m.identity=or,m.includes=w7,m.indexOf=dO,m.inRange=XR,m.invoke=MR,m.isArguments=zn,m.isArray=Ce,m.isArrayBuffer=X7,m.isArrayLike=nr,m.isArrayLikeObject=Et,m.isBoolean=Q7,m.isBuffer=Qi,m.isDate=eR,m.isElement=tR,m.isEmpty=rR,m.isEqual=iR,m.isEqualWith=nR,m.isError=Id,m.isFinite=sR,m.isFunction=vi,m.isInteger=jw,m.isLength=_l,m.isMap=Fw,m.isMatch=oR,m.isMatchWith=aR,m.isNaN=cR,m.isNative=lR,m.isNil=hR,m.isNull=uR,m.isNumber=$w,m.isObject=gt,m.isObjectLike=wt,m.isPlainObject=fa,m.isRegExp=Sd,m.isSafeInteger=fR,m.isSet=Bw,m.isString=xl,m.isSymbol=dr,m.isTypedArray=Fs,m.isUndefined=dR,m.isWeakMap=pR,m.isWeakSet=gR,m.join=wO,m.kebabCase=nP,m.last=Dr,m.lastIndexOf=vO,m.lowerCase=sP,m.lowerFirst=oP,m.lt=mR,m.lte=yR,m.max=eT,m.maxBy=tT,m.mean=rT,m.meanBy=iT,m.min=nT,m.minBy=sT,m.stubArray=Nd,m.stubFalse=Ld,m.stubObject=zP,m.stubString=VP,m.stubTrue=WP,m.multiply=oT,m.nth=bO,m.noConflict=MP,m.noop=Td,m.now=vl,m.pad=aP,m.padEnd=cP,m.padStart=lP,m.parseInt=uP,m.random=QR,m.reduce=x7,m.reduceRight=I7,m.repeat=hP,m.replace=fP,m.result=HR,m.round=aT,m.runInContext=P,m.sample=C7,m.size=O7,m.snakeCase=dP,m.some=R7,m.sortedIndex=DO,m.sortedIndexBy=AO,m.sortedIndexOf=OO,m.sortedLastIndex=RO,m.sortedLastIndexBy=PO,m.sortedLastIndexOf=TO,m.startCase=gP,m.startsWith=mP,m.subtract=cT,m.sum=lT,m.sumBy=uT,m.template=yP,m.times=KP,m.toFinite=bi,m.toInteger=Re,m.toLength=qw,m.toLower=wP,m.toNumber=Ar,m.toSafeInteger=wR,m.toString=We,m.toUpper=vP,m.trim=bP,m.trimEnd=EP,m.trimStart=_P,m.truncate=xP,m.unescape=IP,m.uniqueId=JP,m.upperCase=SP,m.upperFirst=Ad,m.each=Aw,m.eachRight=Ow,m.first=Iw,Pd(m,function(){var s={};return Kr(m,function(a,l){Ze.call(m.prototype,l)||(s[l]=a)}),s}(),{chain:!1}),m.VERSION=i,_r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){m[s].placeholder=m}),_r(["drop","take"],function(s,a){Be.prototype[s]=function(l){l=l===t?1:Ot(Re(l),0);var h=this.__filtered__&&!a?new Be(this):this.clone();return h.__filtered__?h.__takeCount__=Bt(l,h.__takeCount__):h.__views__.push({size:Bt(l,ae),type:s+(h.__dir__<0?"Right":"")}),h},Be.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),_r(["filter","map","takeWhile"],function(s,a){var l=a+1,h=l==G||l==ne;Be.prototype[s]=function(p){var w=this.clone();return w.__iteratees__.push({iteratee:ve(p,3),type:l}),w.__filtered__=w.__filtered__||h,w}}),_r(["head","last"],function(s,a){var l="take"+(a?"Right":"");Be.prototype[s]=function(){return this[l](1).value()[0]}}),_r(["initial","tail"],function(s,a){var l="drop"+(a?"":"Right");Be.prototype[s]=function(){return this.__filtered__?new Be(this):this[l](1)}}),Be.prototype.compact=function(){return this.filter(or)},Be.prototype.find=function(s){return this.filter(s).head()},Be.prototype.findLast=function(s){return this.reverse().find(s)},Be.prototype.invokeMap=Ue(function(s,a){return typeof s=="function"?new Be(this):this.map(function(l){return oa(l,s,a)})}),Be.prototype.reject=function(s){return this.filter(El(ve(s)))},Be.prototype.slice=function(s,a){s=Re(s);var l=this;return l.__filtered__&&(s>0||a<0)?new Be(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),a!==t&&(a=Re(a),l=a<0?l.dropRight(-a):l.take(a-s)),l)},Be.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Be.prototype.toArray=function(){return this.take(ae)},Kr(Be.prototype,function(s,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),h=/^(?:head|last)$/.test(a),p=m[h?"take"+(a=="last"?"Right":""):a],w=h||/^find/.test(a);p&&(m.prototype[a]=function(){var x=this.__wrapped__,D=h?[1]:arguments,T=x instanceof Be,K=D[0],J=T||Ce(x),Y=function(Fe){var ke=p.apply(m,Wi([Fe],D));return h&&re?ke[0]:ke};J&&l&&typeof K=="function"&&K.length!=1&&(T=J=!1);var re=this.__chain__,ce=!!this.__actions__.length,be=w&&!re,Te=T&&!ce;if(!w&&J){x=Te?x:new Be(this);var Ee=s.apply(x,D);return Ee.__actions__.push({func:yl,args:[Y],thisArg:t}),new Ir(Ee,re)}return be&&Te?s.apply(this,D):(Ee=this.thru(Y),be?h?Ee.value()[0]:Ee.value():Ee)})}),_r(["pop","push","shift","sort","splice","unshift"],function(s){var a=Hc[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",h=/^(?:pop|shift)$/.test(s);m.prototype[s]=function(){var p=arguments;if(h&&!this.__chain__){var w=this.value();return a.apply(Ce(w)?w:[],p)}return this[l](function(x){return a.apply(Ce(x)?x:[],p)})}}),Kr(Be.prototype,function(s,a){var l=m[a];if(l){var h=l.name+"";Ze.call(Ns,h)||(Ns[h]=[]),Ns[h].push({name:a,func:l})}}),Ns[ul(t,R).name]=[{name:"wrapper",func:t}],Be.prototype.clone=ID,Be.prototype.reverse=SD,Be.prototype.value=CD,m.prototype.at=t7,m.prototype.chain=r7,m.prototype.commit=i7,m.prototype.next=n7,m.prototype.plant=o7,m.prototype.reverse=a7,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=c7,m.prototype.first=m.prototype.head,Qo&&(m.prototype[Qo]=s7),m},Rs=iD();Mn?((Mn.exports=Rs)._=Rs,Rf._=Rs):Mt._=Rs}).call(rc)})(Ig,Ig.exports);var _k=Object.defineProperty,xk=Object.defineProperties,Ik=Object.getOwnPropertyDescriptors,R6=Object.getOwnPropertySymbols,Sk=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,P6=(r,e,t)=>e in r?_k(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_h=(r,e)=>{for(var t in e||(e={}))Sk.call(e,t)&&P6(r,t,e[t]);if(R6)for(var t of R6(e))Ck.call(e,t)&&P6(r,t,e[t]);return r},Dk=(r,e)=>xk(r,Ik(e));function Lr(r,e,t){let i,n=Sg(r);return e.rpcMap&&(i=e.rpcMap[n]),i||(i=`${Ek}?chainId=eip155:${n}&projectId=${t}`),i}function Sg(r){return r.includes("eip155")?Number(r.split(":")[1]):Number(r)}function Ak(r,e){if(!e.includes(r))throw new Error(`Chain '${r}' not approved. Please use one of the following: ${e.toString()}`)}function Ok(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Rk(r,e){let t=Object.keys(e.namespaces).filter(n=>n.includes(r));if(!t.length)return[];let i=[];return t.forEach(n=>{let o=e.namespaces[n].accounts;i.push(...o)}),i}function Pk(r,e={}){let t=T6(r),i=T6(e);return Ig.exports.merge(t,i)}function T6(r){var e,t,i,n;let o={};if(!Nr.isValidObject(r))return o;for(let[c,u]of Object.entries(r)){let f=Nr.isCaipNamespace(c)?[c]:u.chains,d=u.methods||[],g=u.events||[],y=u.rpcMap||{},b=Nr.parseNamespaceKey(c);o[b]=Dk(_h(_h({},o[b]),u),{chains:Nr.mergeArrays(f,(e=o[b])==null?void 0:e.chains),methods:Nr.mergeArrays(d,(t=o[b])==null?void 0:t.methods),events:Nr.mergeArrays(g,(i=o[b])==null?void 0:i.events),rpcMap:_h(_h({},y),(n=o[b])==null?void 0:n.rpcMap)})}return o}var N6={},It=r=>N6[r],Cg=(r,e)=>{N6[r]=e},L6=class{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},U6=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){var t;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){let i=Sg(e);if(!this.httpProviders[i]){let n=t||Lr(`${this.name}:${i}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${i}`);this.setHttpProvider(i,n)}this.chainId=i,this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${i}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new D6.HttpConnection(i,It("disableProviderPing")))}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;let n=Sg(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){let t=parseInt(e,16),i=`${this.name}:${t}`;Ak(i,this.namespace.chains),this.setDefaultChain(`${t}`)}},M6=class{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},j6=class{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},F6=class{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let i=this.getCardanoRPCUrl(t);e[t]=this.createHttpProvider(t,i)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||this.getCardanoRPCUrl(e);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},$6=class{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},B6=class{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(yn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new Io.default(i,It("disableProviderPing")))}},Tk=Object.defineProperty,Nk=Object.defineProperties,Lk=Object.getOwnPropertyDescriptors,k6=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,Mk=Object.prototype.propertyIsEnumerable,q6=(r,e,t)=>e in r?Tk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xh=(r,e)=>{for(var t in e||(e={}))Uk.call(e,t)&&q6(r,t,e[t]);if(k6)for(var t of k6(e))Mk.call(e,t)&&q6(r,t,e[t]);return r},Dg=(r,e)=>Nk(r,Lk(e)),ic=class{constructor(e){this.events=new yk.default,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:C6.pino(C6.getDefaultLoggerOptions({level:e?.logger||A6})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new ic(e);return await t.initialize(),t}async request(e,t){let[i,n]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:xh({},e),chainId:`${i}:${n}`,topic:this.session.topic})}sendAsync(e,t,i){this.request(e,i).then(n=>t(null,n)).catch(n=>t(n,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Nr.getSdkError("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");let{uri:i,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(o=>{this.session=o}).catch(o=>{if(o.message!==S6.PROPOSAL_EXPIRY_MESSAGE)throw o;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{let[i,n]=this.validateChain(e);this.getProvider(i).setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(Nr.isValidArray(t)){for(let i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await mk.default.init({logger:this.providerOpts.logger||A6,relayUrl:this.providerOpts.relayUrl||wk,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(t=>Nr.parseNamespaceKey(t)))];Cg("client",this.client),Cg("events",this.events),Cg("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;let i=Rk(t,this.session),n=Ok(i),o=Pk(this.namespaces,this.optionalNamespaces),c=Dg(xh({},o[t]),{accounts:i,chains:n});switch(t){case"eip155":this.rpcProviders[t]=new U6({namespace:c});break;case"solana":this.rpcProviders[t]=new M6({namespace:c});break;case"cosmos":this.rpcProviders[t]=new j6({namespace:c});break;case"polkadot":this.rpcProviders[t]=new L6({namespace:c});break;case"cip34":this.rpcProviders[t]=new F6({namespace:c});break;case"elrond":this.rpcProviders[t]=new $6({namespace:c});break;case"multiversx":this.rpcProviders[t]=new B6({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:i}=t;i.name==="accountsChanged"?this.events.emit("accountsChanged",i.data):i.name==="chainChanged"?this.onChainChanged(t.chainId):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var i;let{namespaces:n}=t,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Dg(xh({},o),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Dg(xh({},Nr.getSdkError("USER_DISCONNECTED")),{data:e.topic}))}),this.on(yn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:i,sessionProperties:n}=e;if(!t||!Object.keys(t).length)throw new Error("Namespaces must be not empty");this.namespaces=t,this.optionalNamespaces=i,this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",i)}validateChain(e){let[t,i]=e?.split(":")||["",""];if(t&&!Object.keys(this.namespaces).map(c=>Nr.parseNamespaceKey(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];let n=Nr.parseNamespaceKey(Object.keys(this.namespaces)[0]),o=this.rpcProviders[n].getDefaultChain();return[n,o]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var i;let[n,o]=this.validateChain(e);t||this.getProvider(n).setDefaultChain(o),((i=this.namespaces[n])!=null?i:this.namespaces[`${n}:${o}`]).defaultChain=o,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",o)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${O6}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${O6}/${e}`)}},jk=ic;Ih.UniversalProvider=jk,Ih.default=ic});var hY,Fk,z6,Ag,$k,V6,Og,W6=M(()=>{hY=Symbol(),Fk=Symbol(),z6=Object.getPrototypeOf,Ag=new WeakMap,$k=r=>r&&(Ag.has(r)?Ag.get(r):z6(r)===Object.prototype||z6(r)===Array.prototype),V6=r=>$k(r)&&r[Fk]||null,Og=(r,e=!0)=>{Ag.set(r,e)}});function Ui(r={}){return kk(r)}function vn(r,e,t){let i=wn.get(r);(bn.env?bn.env.MODE:void 0)!=="production"&&!i&&console.warn("Please use proxy object");let n,o=[],c=i[3],u=!1,d=c(g=>{if(o.push(g),t){e(o.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,u&&e(o.splice(0))}))});return u=!0,()=>{u=!1,d()}}function K6(r,e){let t=wn.get(r);(bn.env?bn.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[i,n,o]=t;return o(i,n(),e)}var bn,Rg,wn,Sh,Bk,kk,G6=M(()=>{W6();bn={},Rg=r=>typeof r=="object"&&r!==null,wn=new WeakMap,Sh=new WeakSet,Bk=(r=Object.is,e=(d,g)=>new Proxy(d,g),t=d=>Rg(d)&&!Sh.has(d)&&(Array.isArray(d)||!(Symbol.iterator in d))&&!(d instanceof WeakMap)&&!(d instanceof WeakSet)&&!(d instanceof Error)&&!(d instanceof Number)&&!(d instanceof Date)&&!(d instanceof String)&&!(d instanceof RegExp)&&!(d instanceof ArrayBuffer),i=d=>{switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:throw d}},n=new WeakMap,o=(d,g,y=i)=>{let b=n.get(d);if((b==null?void 0:b[0])===g)return b[1];let v=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d));return Og(v,!0),n.set(d,[g,v]),Reflect.ownKeys(d).forEach(E=>{if(Object.getOwnPropertyDescriptor(v,E))return;let I=Reflect.get(d,E),O={value:I,enumerable:!0,configurable:!0};if(Sh.has(I))Og(I,!1);else if(I instanceof Promise)delete O.value,O.get=()=>y(I);else if(wn.has(I)){let[R,H]=wn.get(I);O.value=o(R,H(),y)}Object.defineProperty(v,E,O)}),v},c=new WeakMap,u=[1,1],f=d=>{if(!Rg(d))throw new Error("object required");let g=c.get(d);if(g)return g;let y=u[0],b=new Set,v=(V,_=++u[0])=>{y!==_&&(y=_,b.forEach(S=>S(V,_)))},E=u[1],I=(V=++u[1])=>(E!==V&&!b.size&&(E=V,R.forEach(([_])=>{let S=_[1](V);S>y&&(y=S)})),y),O=V=>(_,S)=>{let L=[..._];L[1]=[V,...L[1]],v(L,S)},R=new Map,H=(V,_)=>{if((bn.env?bn.env.MODE:void 0)!=="production"&&R.has(V))throw new Error("prop listener already exists");if(b.size){let S=_[3](O(V));R.set(V,[_,S])}else R.set(V,[_])},U=V=>{var _;let S=R.get(V);S&&(R.delete(V),(_=S[1])==null||_.call(S))},N=V=>(b.add(V),b.size===1&&R.forEach(([S,L],B)=>{if((bn.env?bn.env.MODE:void 0)!=="production"&&L)throw new Error("remove already exists");let G=S[3](O(B));R.set(B,[S,G])}),()=>{b.delete(V),b.size===0&&R.forEach(([S,L],B)=>{L&&(L(),R.set(B,[S]))})}),k=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d)),C=e(k,{deleteProperty(V,_){let S=Reflect.get(V,_);U(_);let L=Reflect.deleteProperty(V,_);return L&&v(["delete",[_],S]),L},set(V,_,S,L){let B=Reflect.has(V,_),G=Reflect.get(V,_,L);if(B&&(r(G,S)||c.has(S)&&r(G,c.get(S))))return!0;U(_),Rg(S)&&(S=V6(S)||S);let Q=S;if(S instanceof Promise)S.then(ne=>{S.status="fulfilled",S.value=ne,v(["resolve",[_],ne])}).catch(ne=>{S.status="rejected",S.reason=ne,v(["reject",[_],ne])});else{!wn.has(S)&&t(S)&&(Q=f(S));let ne=!Sh.has(Q)&&wn.get(Q);ne&&H(_,ne)}return Reflect.set(V,_,Q,L),v(["set",[_],S,G]),!0}});c.set(d,C);let A=[k,I,o,N];return wn.set(C,A),Reflect.ownKeys(d).forEach(V=>{let _=Object.getOwnPropertyDescriptor(d,V);"value"in _&&(C[V]=d[V],delete _.value,delete _.writable),Object.defineProperty(k,V,_)}),C})=>[f,wn,Sh,r,e,t,i,n,o,c,u],[kk]=Bk()});var Z6=Z(Ch=>{"use strict";Ch.byteLength=Hk;Ch.toByteArray=Vk;Ch.fromByteArray=Gk;var ni=[],Ur=[],qk=typeof Uint8Array!="undefined"?Uint8Array:Array,Pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(as=0,J6=Pg.length;as<J6;++as)ni[as]=Pg[as],Ur[Pg.charCodeAt(as)]=as;var as,J6;Ur["-".charCodeAt(0)]=62;Ur["_".charCodeAt(0)]=63;function Y6(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function Hk(r){var e=Y6(r),t=e[0],i=e[1];return(t+i)*3/4-i}function zk(r,e,t){return(e+t)*3/4-t}function Vk(r){var e,t=Y6(r),i=t[0],n=t[1],o=new qk(zk(r,i,n)),c=0,u=n>0?i-4:i,f;for(f=0;f<u;f+=4)e=Ur[r.charCodeAt(f)]<<18|Ur[r.charCodeAt(f+1)]<<12|Ur[r.charCodeAt(f+2)]<<6|Ur[r.charCodeAt(f+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=e&255;return n===2&&(e=Ur[r.charCodeAt(f)]<<2|Ur[r.charCodeAt(f+1)]>>4,o[c++]=e&255),n===1&&(e=Ur[r.charCodeAt(f)]<<10|Ur[r.charCodeAt(f+1)]<<4|Ur[r.charCodeAt(f+2)]>>2,o[c++]=e>>8&255,o[c++]=e&255),o}function Wk(r){return ni[r>>18&63]+ni[r>>12&63]+ni[r>>6&63]+ni[r&63]}function Kk(r,e,t){for(var i,n=[],o=e;o<t;o+=3)i=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),n.push(Wk(i));return n.join("")}function Gk(r){for(var e,t=r.length,i=t%3,n=[],o=16383,c=0,u=t-i;c<u;c+=o)n.push(Kk(r,c,c+o>u?u:c+o));return i===1?(e=r[t-1],n.push(ni[e>>2]+ni[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(ni[e>>10]+ni[e>>4&63]+ni[e<<2&63]+"=")),n.join("")}});var X6=Z(Tg=>{Tg.read=function(r,e,t,i,n){var o,c,u=n*8-i-1,f=(1<<u)-1,d=f>>1,g=-7,y=t?n-1:0,b=t?-1:1,v=r[e+y];for(y+=b,o=v&(1<<-g)-1,v>>=-g,g+=u;g>0;o=o*256+r[e+y],y+=b,g-=8);for(c=o&(1<<-g)-1,o>>=-g,g+=i;g>0;c=c*256+r[e+y],y+=b,g-=8);if(o===0)o=1-d;else{if(o===f)return c?NaN:(v?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-d}return(v?-1:1)*c*Math.pow(2,o-i)};Tg.write=function(r,e,t,i,n,o){var c,u,f,d=o*8-n-1,g=(1<<d)-1,y=g>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:o-1,E=i?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=g):(c=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+y>=1?e+=b/f:e+=b*Math.pow(2,1-y),e*f>=2&&(c++,f/=2),c+y>=g?(u=0,c=g):c+y>=1?(u=(e*f-1)*Math.pow(2,n),c=c+y):(u=e*Math.pow(2,y-1)*Math.pow(2,n),c=0));n>=8;r[t+v]=u&255,v+=E,u/=256,n-=8);for(c=c<<n|u,d+=n;d>0;r[t+v]=c&255,v+=E,c/=256,d-=8);r[t+v-E]|=I*128}});var g8=Z(Ao=>{"use strict";var Ng=Z6(),So=X6(),Q6=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ao.Buffer=q;Ao.SlowBuffer=eq;Ao.INSPECT_MAX_BYTES=50;var Dh=2147483647;Ao.kMaxLength=Dh;q.TYPED_ARRAY_SUPPORT=Jk();!q.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Jk(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(q.prototype,"parent",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.buffer}});Object.defineProperty(q.prototype,"offset",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.byteOffset}});function Mi(r){if(r>Dh)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,q.prototype),e}function q(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Lg(r)}return e8(r,e,t)}q.poolSize=8192;function e8(r,e,t){if(typeof r=="string")return Zk(r,e);if(ArrayBuffer.isView(r))return Xk(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(si(r,ArrayBuffer)||r&&si(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(si(r,SharedArrayBuffer)||r&&si(r.buffer,SharedArrayBuffer)))return Mg(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return q.from(i,e,t);let n=Qk(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return q.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}q.from=function(r,e,t){return e8(r,e,t)};Object.setPrototypeOf(q.prototype,Uint8Array.prototype);Object.setPrototypeOf(q,Uint8Array);function t8(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Yk(r,e,t){return t8(r),r<=0?Mi(r):e!==void 0?typeof t=="string"?Mi(r).fill(e,t):Mi(r).fill(e):Mi(r)}q.alloc=function(r,e,t){return Yk(r,e,t)};function Lg(r){return t8(r),Mi(r<0?0:jg(r)|0)}q.allocUnsafe=function(r){return Lg(r)};q.allocUnsafeSlow=function(r){return Lg(r)};function Zk(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!q.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=r8(r,e)|0,i=Mi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Ug(r){let e=r.length<0?0:jg(r.length)|0,t=Mi(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function Xk(r){if(si(r,Uint8Array)){let e=new Uint8Array(r);return Mg(e.buffer,e.byteOffset,e.byteLength)}return Ug(r)}function Mg(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,q.prototype),i}function Qk(r){if(q.isBuffer(r)){let e=jg(r.length)|0,t=Mi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Bg(r.length)?Mi(0):Ug(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Ug(r.data)}function jg(r){if(r>=Dh)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Dh.toString(16)+" bytes");return r|0}function eq(r){return+r!=r&&(r=0),q.alloc(+r)}q.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==q.prototype};q.compare=function(e,t){if(si(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),si(t,Uint8Array)&&(t=q.from(t,t.offset,t.byteLength)),!q.isBuffer(e)||!q.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let o=0,c=Math.min(i,n);o<c;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0};q.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};q.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return q.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=q.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){let c=e[i];if(si(c,Uint8Array))o+c.length>n.length?(q.isBuffer(c)||(c=q.from(c)),c.copy(n,o)):Uint8Array.prototype.set.call(n,c,o);else if(q.isBuffer(c))c.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=c.length}return n};function r8(r,e){if(q.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||si(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return $g(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return p8(r).length;default:if(n)return i?-1:$g(r).length;e=(""+e).toLowerCase(),n=!0}}q.byteLength=r8;function tq(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return hq(this,e,t);case"utf8":case"utf-8":return s8(this,e,t);case"ascii":return lq(this,e,t);case"latin1":case"binary":return uq(this,e,t);case"base64":return aq(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fq(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}q.prototype._isBuffer=!0;function cs(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}q.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)cs(this,t,t+1);return this};q.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)cs(this,t,t+3),cs(this,t+1,t+2);return this};q.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)cs(this,t,t+7),cs(this,t+1,t+6),cs(this,t+2,t+5),cs(this,t+3,t+4);return this};q.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?s8(this,0,e):tq.apply(this,arguments)};q.prototype.toLocaleString=q.prototype.toString;q.prototype.equals=function(e){if(!q.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:q.compare(this,e)===0};q.prototype.inspect=function(){let e="",t=Ao.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Q6&&(q.prototype[Q6]=q.prototype.inspect);q.prototype.compare=function(e,t,i,n,o){if(si(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),!q.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;let c=o-n,u=i-t,f=Math.min(c,u),d=this.slice(n,o),g=e.slice(t,i);for(let y=0;y<f;++y)if(d[y]!==g[y]){c=d[y],u=g[y];break}return c<u?-1:u<c?1:0};function i8(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Bg(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=q.from(e,i)),q.isBuffer(e))return e.length===0?-1:n8(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):n8(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function n8(r,e,t,i,n){let o=1,c=r.length,u=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,c/=2,u/=2,t/=2}function f(g,y){return o===1?g[y]:g.readUInt16BE(y*o)}let d;if(n){let g=-1;for(d=t;d<c;d++)if(f(r,d)===f(e,g===-1?0:d-g)){if(g===-1&&(g=d),d-g+1===u)return g*o}else g!==-1&&(d-=d-g),g=-1}else for(t+u>c&&(t=c-u),d=t;d>=0;d--){let g=!0;for(let y=0;y<u;y++)if(f(r,d+y)!==f(e,y)){g=!1;break}if(g)return d}return-1}q.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};q.prototype.indexOf=function(e,t,i){return i8(this,e,t,i,!0)};q.prototype.lastIndexOf=function(e,t,i){return i8(this,e,t,i,!1)};function rq(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let o=e.length;i>o/2&&(i=o/2);let c;for(c=0;c<i;++c){let u=parseInt(e.substr(c*2,2),16);if(Bg(u))return c;r[t+c]=u}return c}function iq(r,e,t,i){return Ah($g(e,r.length-t),r,t,i)}function nq(r,e,t,i){return Ah(mq(e),r,t,i)}function sq(r,e,t,i){return Ah(p8(e),r,t,i)}function oq(r,e,t,i){return Ah(yq(e,r.length-t),r,t,i)}q.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let c=!1;for(;;)switch(n){case"hex":return rq(this,e,t,i);case"utf8":case"utf-8":return iq(this,e,t,i);case"ascii":case"latin1":case"binary":return nq(this,e,t,i);case"base64":return sq(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oq(this,e,t,i);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}};q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function aq(r,e,t){return e===0&&t===r.length?Ng.fromByteArray(r):Ng.fromByteArray(r.slice(e,t))}function s8(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let o=r[n],c=null,u=o>239?4:o>223?3:o>191?2:1;if(n+u<=t){let f,d,g,y;switch(u){case 1:o<128&&(c=o);break;case 2:f=r[n+1],(f&192)==128&&(y=(o&31)<<6|f&63,y>127&&(c=y));break;case 3:f=r[n+1],d=r[n+2],(f&192)==128&&(d&192)==128&&(y=(o&15)<<12|(f&63)<<6|d&63,y>2047&&(y<55296||y>57343)&&(c=y));break;case 4:f=r[n+1],d=r[n+2],g=r[n+3],(f&192)==128&&(d&192)==128&&(g&192)==128&&(y=(o&15)<<18|(f&63)<<12|(d&63)<<6|g&63,y>65535&&y<1114112&&(c=y))}}c===null?(c=65533,u=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c),n+=u}return cq(i)}var o8=4096;function cq(r){let e=r.length;if(e<=o8)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=o8));return t}function lq(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function uq(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function hq(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let o=e;o<t;++o)n+=wq[r[o]];return n}function fq(r,e,t){let i=r.slice(e,t),n="";for(let o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}q.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,q.prototype),n};function Lt(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}q.prototype.readUintLE=q.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e],o=1,c=0;for(;++c<t&&(o*=256);)n+=this[e+c]*o;return n};q.prototype.readUintBE=q.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n};q.prototype.readUint8=q.prototype.readUInt8=function(e,t){return e=e>>>0,t||Lt(e,1,this.length),this[e]};q.prototype.readUint16LE=q.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Lt(e,2,this.length),this[e]|this[e+1]<<8};q.prototype.readUint16BE=q.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Lt(e,2,this.length),this[e]<<8|this[e+1]};q.prototype.readUint32LE=q.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};q.prototype.readUint32BE=q.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};q.prototype.readBigUInt64LE=En(function(e){e=e>>>0,Do(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))});q.prototype.readBigUInt64BE=En(function(e){e=e>>>0,Do(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(o)});q.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e],o=1,c=0;for(;++c<t&&(o*=256);)n+=this[e+c]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n};q.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=t,o=1,c=this[e+--n];for(;n>0&&(o*=256);)c+=this[e+--n]*o;return o*=128,c>=o&&(c-=Math.pow(2,8*t)),c};q.prototype.readInt8=function(e,t){return e=e>>>0,t||Lt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};q.prototype.readInt16LE=function(e,t){e=e>>>0,t||Lt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};q.prototype.readInt16BE=function(e,t){e=e>>>0,t||Lt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};q.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};q.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};q.prototype.readBigInt64LE=En(function(e){e=e>>>0,Do(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});q.prototype.readBigInt64BE=En(function(e){e=e>>>0,Do(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});q.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),So.read(this,e,!0,23,4)};q.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),So.read(this,e,!1,23,4)};q.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Lt(e,8,this.length),So.read(this,e,!0,52,8)};q.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Lt(e,8,this.length),So.read(this,e,!1,52,8)};function lr(r,e,t,i,n,o){if(!q.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}q.prototype.writeUintLE=q.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let u=Math.pow(2,8*i)-1;lr(this,e,t,i,u,0)}let o=1,c=0;for(this[t]=e&255;++c<i&&(o*=256);)this[t+c]=e/o&255;return t+i};q.prototype.writeUintBE=q.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let u=Math.pow(2,8*i)-1;lr(this,e,t,i,u,0)}let o=i-1,c=1;for(this[t+o]=e&255;--o>=0&&(c*=256);)this[t+o]=e/c&255;return t+i};q.prototype.writeUint8=q.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,255,0),this[t]=e&255,t+1};q.prototype.writeUint16LE=q.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeUint16BE=q.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeUint32LE=q.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};q.prototype.writeUint32BE=q.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function a8(r,e,t,i,n){d8(e,i,n,r,t,7);let o=Number(e&BigInt(4294967295));r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,t}function c8(r,e,t,i,n){d8(e,i,n,r,t,7);let o=Number(e&BigInt(4294967295));r[t+7]=o,o=o>>8,r[t+6]=o,o=o>>8,r[t+5]=o,o=o>>8,r[t+4]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=c,c=c>>8,r[t+2]=c,c=c>>8,r[t+1]=c,c=c>>8,r[t]=c,t+8}q.prototype.writeBigUInt64LE=En(function(e,t=0){return a8(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeBigUInt64BE=En(function(e,t=0){return c8(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);lr(this,e,t,i,f-1,-f)}let o=0,c=1,u=0;for(this[t]=e&255;++o<i&&(c*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/c>>0)-u&255;return t+i};q.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);lr(this,e,t,i,f-1,-f)}let o=i-1,c=1,u=0;for(this[t+o]=e&255;--o>=0&&(c*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/c>>0)-u&255;return t+i};q.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};q.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};q.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};q.prototype.writeBigInt64LE=En(function(e,t=0){return a8(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});q.prototype.writeBigInt64BE=En(function(e,t=0){return c8(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function l8(r,e,t,i,n,o){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function u8(r,e,t,i,n){return e=+e,t=t>>>0,n||l8(r,e,t,4,34028234663852886e22,-34028234663852886e22),So.write(r,e,t,i,23,4),t+4}q.prototype.writeFloatLE=function(e,t,i){return u8(this,e,t,!0,i)};q.prototype.writeFloatBE=function(e,t,i){return u8(this,e,t,!1,i)};function h8(r,e,t,i,n){return e=+e,t=t>>>0,n||l8(r,e,t,8,17976931348623157e292,-17976931348623157e292),So.write(r,e,t,i,52,8),t+8}q.prototype.writeDoubleLE=function(e,t,i){return h8(this,e,t,!0,i)};q.prototype.writeDoubleBE=function(e,t,i){return h8(this,e,t,!1,i)};q.prototype.copy=function(e,t,i,n){if(!q.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o};q.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!q.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let c=e.charCodeAt(0);(n==="utf8"&&c<128||n==="latin1")&&(e=c)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{let c=q.isBuffer(e)?e:q.from(e,n),u=c.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=c[o%u]}return this};var Co={};function Fg(r,e,t){Co[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Fg("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Fg("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Fg("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=f8(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=f8(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function f8(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function dq(r,e,t){Do(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&nc(e,r.length-(t+1))}function d8(r,e,t,i,n,o){if(r>t||r<e){let c=typeof e=="bigint"?"n":"",u;throw o>3?e===0||e===BigInt(0)?u=`>= 0${c} and < 2${c} ** ${(o+1)*8}${c}`:u=`>= -(2${c} ** ${(o+1)*8-1}${c}) and < 2 ** ${(o+1)*8-1}${c}`:u=`>= ${e}${c} and <= ${t}${c}`,new Co.ERR_OUT_OF_RANGE("value",u,r)}dq(i,n,o)}function Do(r,e){if(typeof r!="number")throw new Co.ERR_INVALID_ARG_TYPE(e,"number",r)}function nc(r,e,t){throw Math.floor(r)!==r?(Do(r,t),new Co.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Co.ERR_BUFFER_OUT_OF_BOUNDS:new Co.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var pq=/[^+/0-9A-Za-z-_]/g;function gq(r){if(r=r.split("=")[0],r=r.trim().replace(pq,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function $g(r,e){e=e||1/0;let t,i=r.length,n=null,o=[];for(let c=0;c<i;++c){if(t=r.charCodeAt(c),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(c+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function mq(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function yq(r,e){let t,i,n,o=[];for(let c=0;c<r.length&&!((e-=2)<0);++c)t=r.charCodeAt(c),i=t>>8,n=t%256,o.push(n),o.push(i);return o}function p8(r){return Ng.toByteArray(gq(r))}function Ah(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function si(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Bg(r){return r!==r}var wq=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function En(r){return typeof BigInt=="undefined"?vq:r}function vq(){throw new Error("BigInt not supported")}});async function Rh(r,e){let t=new URL(r,qg);return t.searchParams.append("projectId",Qt.state.projectId),Object.entries(e).forEach(([i,n])=>{n&&t.searchParams.append(i,String(n))}),(await fetch(t)).json()}function Oq(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}var m8,Ut,dt,pe,bq,Wt,kg,oi,yt,Oh,Qt,qg,ls,Eq,y8,_q,xq,w8,Iq,v8,ai,er,Oo,ji,Sq,b8,Cq,Dq,E8,Aq,sc,ci,us,Fi,Hg=M(()=>{G6();m8=Or(g8()),Ut=Ui({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),dt={state:Ut,subscribe(r){return vn(Ut,()=>r(Ut))},push(r,e){r!==Ut.view&&(Ut.view=r,e&&(Ut.data=e),Ut.history.push(r))},reset(r){Ut.view=r,Ut.history=[r]},replace(r){Ut.history.length>1&&(Ut.history[Ut.history.length-1]=r,Ut.view=r)},goBack(){if(Ut.history.length>1){Ut.history.pop();let[r]=Ut.history.slice(-1);Ut.view=r}},setData(r){Ut.data=r}},pe={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return pe.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){let r=navigator.userAgent.toLowerCase();return pe.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},formatNativeUrl(r,e,t){if(pe.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let i=r;i.includes("://")||(i=r.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);let n=encodeURIComponent(e);return`${i}wc?uri=${n}`},formatUniversalUrl(r,e,t){if(!pe.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let i=r;i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);let n=encodeURIComponent(e);return`${i}wc?uri=${n}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){window.open(r,e,"noreferrer noopener")},setWalletConnectDeepLink(r,e){localStorage.setItem(pe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))},setWalletConnectAndroidDeepLink(r){let[e]=r.split("?");localStorage.setItem(pe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(pe.WALLETCONNECT_DEEPLINK_CHOICE)},setModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(pe.WCM_VERSION,"2.5.4")},getWalletRouterData(){var r;let e=(r=dt.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},bq=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Wt=Ui({enabled:bq,userSessionId:"",events:[],connectedWalletId:void 0}),kg={state:Wt,subscribe(r){return vn(Wt.events,()=>r(K6(Wt.events[Wt.events.length-1])))},initialize(){Wt.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Wt.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){Wt.connectedWalletId=r},click(r){if(Wt.enabled){let e={type:"CLICK",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}},track(r){if(Wt.enabled){let e={type:"TRACK",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}},view(r){if(Wt.enabled){let e={type:"VIEW",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}}},oi=Ui({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),yt={state:oi,subscribe(r){return vn(oi,()=>r(oi))},setChains(r){oi.chains=r},setWalletConnectUri(r){oi.walletConnectUri=r},setIsCustomDesktop(r){oi.isCustomDesktop=r},setIsCustomMobile(r){oi.isCustomMobile=r},setIsDataLoaded(r){oi.isDataLoaded=r},setIsUiLoaded(r){oi.isUiLoaded=r},setIsAuth(r){oi.isAuth=r}},Oh=Ui({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Qt={state:Oh,subscribe(r){return vn(Oh,()=>r(Oh))},setConfig(r){var e,t;kg.initialize(),yt.setChains(r.chains),yt.setIsAuth(Boolean(r.enableAuthMode)),yt.setIsCustomMobile(Boolean((e=r.mobileWallets)==null?void 0:e.length)),yt.setIsCustomDesktop(Boolean((t=r.desktopWallets)==null?void 0:t.length)),pe.setModalVersionInStorage(),Object.assign(Oh,r)}},qg="https://explorer-api.walletconnect.com";ls={async getDesktopListings(r){return Rh("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return Rh("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return Rh("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return Rh("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${qg}/w3m/v1/getWalletImage/${r}?projectId=${Qt.state.projectId}`},getAssetImageUrl(r){return`${qg}/w3m/v1/getAssetImage/${r}?projectId=${Qt.state.projectId}`}},Eq=Object.defineProperty,y8=Object.getOwnPropertySymbols,_q=Object.prototype.hasOwnProperty,xq=Object.prototype.propertyIsEnumerable,w8=(r,e,t)=>e in r?Eq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Iq=(r,e)=>{for(var t in e||(e={}))_q.call(e,t)&&w8(r,t,e[t]);if(y8)for(var t of y8(e))xq.call(e,t)&&w8(r,t,e[t]);return r},v8=pe.isMobile(),ai=Ui({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),er={state:ai,async getRecomendedWallets(){let{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=Qt.state;if(r==="NONE"||e==="ALL"&&!r)return ai.recomendedWallets;if(pe.isArray(r)){let t={recommendedIds:r.join(",")},{listings:i}=await ls.getAllListings(t),n=Object.values(i);n.sort((o,c)=>{let u=r.indexOf(o.id),f=r.indexOf(c.id);return u-f}),ai.recomendedWallets=n}else{let{chains:t,isAuth:i}=yt.state,n=t?.join(","),o=pe.isArray(e),c={page:1,sdks:i?"auth_v1":void 0,entries:pe.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:o?e.join(","):void 0},{listings:u}=v8?await ls.getMobileListings(c):await ls.getDesktopListings(c);ai.recomendedWallets=Object.values(u)}return ai.recomendedWallets},async getWallets(r){let e=Iq({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:i}=Qt.state,{recomendedWallets:n}=ai;if(i==="ALL")return ai.wallets;e.search||(n.length?e.excludedIds=n.map(y=>y.id).join(","):pe.isArray(t)&&(e.excludedIds=t.join(","))),pe.isArray(i)&&(e.excludedIds=[e.excludedIds,i].filter(Boolean).join(",")),yt.state.isAuth&&(e.sdks="auth_v1");let{page:o,search:c}=r,{listings:u,total:f}=v8?await ls.getMobileListings(e):await ls.getDesktopListings(e),d=Object.values(u),g=c?"search":"wallets";return ai[g]={listings:[...ai[g].listings,...d],total:f,page:o??1},{listings:d,total:f}},getWalletImageUrl(r){return ls.getWalletImageUrl(r)},getAssetImageUrl(r){return ls.getAssetImageUrl(r)},resetSearch(){ai.search={listings:[],total:0,page:1}}},Oo=Ui({open:!1}),ji={state:Oo,subscribe(r){return vn(Oo,()=>r(Oo))},async open(r){return new Promise(e=>{let{isUiLoaded:t,isDataLoaded:i}=yt.state;if(yt.setWalletConnectUri(r?.uri),yt.setChains(r?.chains),dt.reset("ConnectWallet"),t&&i)Oo.open=!0,e();else{let n=setInterval(()=>{let o=yt.state;o.isUiLoaded&&o.isDataLoaded&&(clearInterval(n),Oo.open=!0,e())},200)}})},close(){Oo.open=!1}},Sq=Object.defineProperty,b8=Object.getOwnPropertySymbols,Cq=Object.prototype.hasOwnProperty,Dq=Object.prototype.propertyIsEnumerable,E8=(r,e,t)=>e in r?Sq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Aq=(r,e)=>{for(var t in e||(e={}))Cq.call(e,t)&&E8(r,t,e[t]);if(b8)for(var t of b8(e))Dq.call(e,t)&&E8(r,t,e[t]);return r};sc=Ui({themeMode:Oq()?"dark":"light"}),ci={state:sc,subscribe(r){return vn(sc,()=>r(sc))},setThemeConfig(r){let{themeMode:e,themeVariables:t}=r;e&&(sc.themeMode=e),t&&(sc.themeVariables=Aq({},t))}},us=Ui({open:!1,message:"",variant:"success"}),Fi={state:us,subscribe(r){return vn(us,()=>r(us))},openToast(r,e){us.open=!0,us.message=r,us.variant=e},closeToast(){us.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=m8.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window))});var Ph,Th,zg,_8,Nh,x8,ze,Vg,Lh,Wg=M(()=>{Ph=window,Th=Ph.ShadowRoot&&(Ph.ShadyCSS===void 0||Ph.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,zg=Symbol(),_8=new WeakMap,Nh=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==zg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Th&&e===void 0){let i=t!==void 0&&t.length===1;i&&(e=_8.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&_8.set(t,e))}return e}toString(){return this.cssText}},x8=r=>new Nh(typeof r=="string"?r:r+"",void 0,zg),ze=(r,...e)=>{let t=r.length===1?r[0]:e.reduce((i,n,o)=>i+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[o+1],r[0]);return new Nh(t,r,zg)},Vg=(r,e)=>{Th?r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{let i=document.createElement("style"),n=Ph.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=t.cssText,r.appendChild(i)})},Lh=Th?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return x8(t)})(r):r});var Kg,Uh,I8,Rq,S8,Gg,C8,Jg,Yg,_n,Mh=M(()=>{Wg();Wg();Uh=window,I8=Uh.trustedTypes,Rq=I8?I8.emptyScript:"",S8=Uh.reactiveElementPolyfillSupport,Gg={toAttribute(r,e){switch(e){case Boolean:r=r?Rq:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},C8=(r,e)=>e!==r&&(e==e||r==r),Jg={attribute:!0,type:String,converter:Gg,reflect:!1,hasChanged:C8},Yg="finalized",_n=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,i)=>{let n=this._$Ep(i,t);n!==void 0&&(this._$Ev.set(n,i),e.push(n))}),e}static createProperty(e,t=Jg){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let o=this[e];this[t]=n,this.requestUpdate(e,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Jg}static finalize(){if(this.hasOwnProperty(Yg))return!1;this[Yg]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let n of i)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let n of i)t.unshift(Lh(n))}else e!==void 0&&t.push(Lh(e));return t}static _$Ep(e,t){let i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,i;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Vg(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostConnected)===null||i===void 0?void 0:i.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostDisconnected)===null||i===void 0?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=Jg){var n;let o=this.constructor._$Ep(e,i);if(o!==void 0&&i.reflect===!0){let c=(((n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?i.converter:Gg).toAttribute(t,i.type);this._$El=e,c==null?this.removeAttribute(o):this.setAttribute(o,c),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,o=n._$Ev.get(e);if(o!==void 0&&this._$El!==o){let c=n.getPropertyOptions(o),u=typeof c.converter=="function"?{fromAttribute:c.converter}:((i=c.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?c.converter:Gg;this._$El=o,this[o]=u.fromAttribute(t,c.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;e!==void 0&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||C8)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,o)=>this[o]=n),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var o;return(o=n.hostUpdate)===null||o===void 0?void 0:o.call(n)}),this.update(i)):this._$Ek()}catch(n){throw t=!1,this._$Ek(),n}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(i=>{var n;return(n=i.hostUpdated)===null||n===void 0?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,i)=>this._$EO(i,this[i],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};_n[Yg]=!0,_n.elementProperties=new Map,_n.elementStyles=[],_n.shadowRootOptions={mode:"open"},S8==null||S8({ReactiveElement:_n}),((Kg=Uh.reactiveElementVersions)!==null&&Kg!==void 0?Kg:Uh.reactiveElementVersions=[]).push("1.6.2")});function To(r,e,t=r,i){var n,o,c,u;if(e===$i)return e;let f=i!==void 0?(n=t._$Co)===null||n===void 0?void 0:n[i]:t._$Cl,d=ac(e)?void 0:e._$litDirective$;return(f==null?void 0:f.constructor)!==d&&((o=f==null?void 0:f._$AO)===null||o===void 0||o.call(f,!1),d===void 0?f=void 0:(f=new d(r),f._$AT(r,t,i)),i!==void 0?((c=(u=t)._$Co)!==null&&c!==void 0?c:u._$Co=[])[i]=f:t._$Cl=f),f!==void 0&&(e=To(r,f._$AS(r,e.values),f,i)),e}var Zg,jh,Ro,D8,Xg,xn,A8,Pq,hs,oc,ac,O8,Tq,Qg,cc,R8,P8,fs,T8,N8,L8,U8,te,pt,$i,Ct,M8,ds,Nq,Po,j8,No,lc,F8,Lq,$8,B8,k8,q8,H8,ps=M(()=>{jh=window,Ro=jh.trustedTypes,D8=Ro?Ro.createPolicy("lit-html",{createHTML:r=>r}):void 0,Xg="$lit$",xn=`lit$${(Math.random()+"").slice(9)}$`,A8="?"+xn,Pq=`<${A8}>`,hs=document,oc=()=>hs.createComment(""),ac=r=>r===null||typeof r!="object"&&typeof r!="function",O8=Array.isArray,Tq=r=>O8(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",Qg=`[ 	
\f\r]`,cc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R8=/-->/g,P8=/>/g,fs=RegExp(`>|${Qg}(?:([^\\s"'>=/]+)(${Qg}*=${Qg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),T8=/'/g,N8=/"/g,L8=/^(?:script|style|textarea|title)$/i,U8=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),te=U8(1),pt=U8(2),$i=Symbol.for("lit-noChange"),Ct=Symbol.for("lit-nothing"),M8=new WeakMap,ds=hs.createTreeWalker(hs,129,null,!1),Nq=(r,e)=>{let t=r.length-1,i=[],n,o=e===2?"<svg>":"",c=cc;for(let f=0;f<t;f++){let d=r[f],g,y,b=-1,v=0;for(;v<d.length&&(c.lastIndex=v,y=c.exec(d),y!==null);)v=c.lastIndex,c===cc?y[1]==="!--"?c=R8:y[1]!==void 0?c=P8:y[2]!==void 0?(L8.test(y[2])&&(n=RegExp("</"+y[2],"g")),c=fs):y[3]!==void 0&&(c=fs):c===fs?y[0]===">"?(c=n??cc,b=-1):y[1]===void 0?b=-2:(b=c.lastIndex-y[2].length,g=y[1],c=y[3]===void 0?fs:y[3]==='"'?N8:T8):c===N8||c===T8?c=fs:c===R8||c===P8?c=cc:(c=fs,n=void 0);let E=c===fs&&r[f+1].startsWith("/>")?" ":"";o+=c===cc?d+Pq:b>=0?(i.push(g),d.slice(0,b)+Xg+d.slice(b)+xn+E):d+xn+(b===-2?(i.push(void 0),f):E)}let u=o+(r[t]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return[D8!==void 0?D8.createHTML(u):u,i]},Po=class{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let o=0,c=0,u=e.length-1,f=this.parts,[d,g]=Nq(e,t);if(this.el=Po.createElement(d,i),ds.currentNode=this.el.content,t===2){let y=this.el.content,b=y.firstChild;b.remove(),y.append(...b.childNodes)}for(;(n=ds.nextNode())!==null&&f.length<u;){if(n.nodeType===1){if(n.hasAttributes()){let y=[];for(let b of n.getAttributeNames())if(b.endsWith(Xg)||b.startsWith(xn)){let v=g[c++];if(y.push(b),v!==void 0){let E=n.getAttribute(v.toLowerCase()+Xg).split(xn),I=/([.?@])?(.*)/.exec(v);f.push({type:1,index:o,name:I[2],strings:E,ctor:I[1]==="."?F8:I[1]==="?"?$8:I[1]==="@"?B8:lc})}else f.push({type:6,index:o})}for(let b of y)n.removeAttribute(b)}if(L8.test(n.tagName)){let y=n.textContent.split(xn),b=y.length-1;if(b>0){n.textContent=Ro?Ro.emptyScript:"";for(let v=0;v<b;v++)n.append(y[v],oc()),ds.nextNode(),f.push({type:2,index:++o});n.append(y[b],oc())}}}else if(n.nodeType===8)if(n.data===A8)f.push({type:2,index:o});else{let y=-1;for(;(y=n.data.indexOf(xn,y+1))!==-1;)f.push({type:7,index:o}),y+=xn.length-1}o++}}static createElement(e,t){let i=hs.createElement("template");return i.innerHTML=e,i}};j8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:i},parts:n}=this._$AD,o=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:hs).importNode(i,!0);ds.currentNode=o;let c=ds.nextNode(),u=0,f=0,d=n[0];for(;d!==void 0;){if(u===d.index){let g;d.type===2?g=new No(c,c.nextSibling,this,e):d.type===1?g=new d.ctor(c,d.name,d.strings,this,e):d.type===6&&(g=new k8(c,this,e)),this._$AV.push(g),d=n[++f]}u!==(d==null?void 0:d.index)&&(c=ds.nextNode(),u++)}return ds.currentNode=hs,o}v(e){let t=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}},No=class{constructor(e,t,i,n){var o;this.type=2,this._$AH=Ct,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cp=(o=n==null?void 0:n.isConnected)===null||o===void 0||o}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=To(this,e,t),ac(e)?e===Ct||e==null||e===""?(this._$AH!==Ct&&this._$AR(),this._$AH=Ct):e!==this._$AH&&e!==$i&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Tq(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Ct&&ac(this._$AH)?this._$AA.nextSibling.data=e:this.$(hs.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:n}=e,o=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Po.createElement(n.h,this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===o)this._$AH.v(i);else{let c=new j8(o,this),u=c.u(this.options);c.v(i),this.$(u),this._$AH=c}}_$AC(e){let t=M8.get(e.strings);return t===void 0&&M8.set(e.strings,t=new Po(e)),t}T(e){O8(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,i,n=0;for(let o of e)n===t.length?t.push(i=new No(this.k(oc()),this.k(oc()),this,this.options)):i=t[n],i._$AI(o),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,t);e&&e!==this._$AB;){let n=e.nextSibling;e.remove(),e=n}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}},lc=class{constructor(e,t,i,n,o){this.type=1,this._$AH=Ct,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ct}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,n){let o=this.strings,c=!1;if(o===void 0)e=To(this,e,t,0),c=!ac(e)||e!==this._$AH&&e!==$i,c&&(this._$AH=e);else{let u=e,f,d;for(e=o[0],f=0;f<o.length-1;f++)d=To(this,u[i+f],t,f),d===$i&&(d=this._$AH[f]),c||(c=!ac(d)||d!==this._$AH[f]),d===Ct?e=Ct:e!==Ct&&(e+=(d??"")+o[f+1]),this._$AH[f]=d}c&&!n&&this.j(e)}j(e){e===Ct?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},F8=class extends lc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ct?void 0:e}},Lq=Ro?Ro.emptyScript:"",$8=class extends lc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ct?this.element.setAttribute(this.name,Lq):this.element.removeAttribute(this.name)}},B8=class extends lc{constructor(e,t,i,n,o){super(e,t,i,n,o),this.type=5}_$AI(e,t=this){var i;if((e=(i=To(this,e,t,0))!==null&&i!==void 0?i:Ct)===$i)return;let n=this._$AH,o=e===Ct&&n!==Ct||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,c=e!==Ct&&(n===Ct||o);o&&this.element.removeEventListener(this.name,this,n),c&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((i=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}},k8=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){To(this,e)}},q8=jh.litHtmlPolyfillSupport;q8==null||q8(Po,No),((Zg=jh.litHtmlVersions)!==null&&Zg!==void 0?Zg:jh.litHtmlVersions=[]).push("2.7.4");H8=(r,e,t)=>{var i,n;let o=(i=t==null?void 0:t.renderBefore)!==null&&i!==void 0?i:e,c=o._$litPart$;if(c===void 0){let u=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:null;o._$litPart$=c=new No(e.insertBefore(oc(),u),u,void 0,t??{})}return c._$AI(r),c}});var e1,t1,Ne,z8,V8=M(()=>{Mh();Mh();ps();ps();Ne=class extends _n{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=H8(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return $i}};Ne.finalized=!0,Ne._$litElement$=!0,(e1=globalThis.litElementHydrateSupport)===null||e1===void 0||e1.call(globalThis,{LitElement:Ne});z8=globalThis.litElementPolyfillSupport;z8==null||z8({LitElement:Ne});((t1=globalThis.litElementVersions)!==null&&t1!==void 0?t1:globalThis.litElementVersions=[]).push("3.3.2")});var W8=M(()=>{});var K8=M(()=>{Mh();ps();V8();W8()});var qe,G8=M(()=>{qe=r=>e=>typeof e=="function"?((t,i)=>(customElements.define(t,i),i))(r,e):((t,i)=>{let{kind:n,elements:o}=i;return{kind:n,elements:o,finisher(c){customElements.define(t,c)}}})(r,e)});function De(r){return(e,t)=>t!==void 0?Mq(r,e,t):Uq(r,e)}var Uq,Mq,r1=M(()=>{Uq=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},Mq=(r,e,t)=>{e.constructor.createProperty(t,r)}});function tr(r){return De({...r,state:!0})}var J8=M(()=>{r1();});var gs=M(()=>{});var Y8=M(()=>{gs();});var Z8=M(()=>{gs();});var X8=M(()=>{gs();});var Q8=M(()=>{gs();});var i1,ZY,n1=M(()=>{gs();ZY=((i1=window.HTMLSlotElement)===null||i1===void 0?void 0:i1.prototype.assignedElements)!=null?(r,e)=>r.assignedElements(e):(r,e)=>r.assignedNodes(e).filter(t=>t.nodeType===Node.ELEMENT_NODE)});var e4=M(()=>{gs();n1();});var t4=M(()=>{G8();r1();J8();Y8();Z8();X8();Q8();n1();e4()});var r4,i4,s1,n4=M(()=>{r4={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i4=r=>(...e)=>({_$litDirective$:r,values:e}),s1=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}});var li,s4=M(()=>{ps();n4();li=i4(class extends s1{constructor(r){var e;if(super(r),r.type!==r4.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){var t,i;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in e)e[o]&&!((t=this.nt)===null||t===void 0?void 0:t.has(o))&&this.it.add(o);return this.render(e)}let n=r.element.classList;this.it.forEach(o=>{o in e||(n.remove(o),this.it.delete(o))});for(let o in e){let c=!!e[o];c===this.it.has(o)||((i=this.nt)===null||i===void 0?void 0:i.has(o))||(c?(n.add(o),this.it.add(o)):(n.remove(o),this.it.delete(o)))}return $i}})});var o4=M(()=>{s4()});function o1(r,e){r.indexOf(e)===-1&&r.push(e)}var a4=M(()=>{});var hc,a1=M(()=>{hc=(r,e,t)=>Math.min(Math.max(t,r),e)});var $t,c4=M(()=>{$t={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"}});var Bi,Fh=M(()=>{Bi=r=>typeof r=="number"});var ui,c1=M(()=>{Fh();ui=r=>Array.isArray(r)&&!Bi(r[0])});var l4,u4=M(()=>{l4=(r,e,t)=>{let i=e-r;return((t-r)%i+i)%i+r}});function h4(r,e){return ui(r)?r[l4(0,r.length,e)]:r}var f4=M(()=>{c1();u4()});var $h,l1=M(()=>{$h=(r,e,t)=>-t*r+t*e+r});var fc,rr,u1=M(()=>{fc=()=>{},rr=r=>r});var ms,Bh=M(()=>{ms=(r,e,t)=>e-r==0?1:(t-r)/(e-r)});function h1(r,e){let t=r[r.length-1];for(let i=1;i<=e;i++){let n=ms(0,e,i);r.push($h(t,1,n))}}function d4(r){let e=[0];return h1(e,r-1),e}var p4=M(()=>{l1();Bh()});function f1(r,e=d4(r.length),t=rr){let i=r.length,n=i-e.length;return n>0&&h1(e,n),o=>{let c=0;for(;c<i-2&&!(o<e[c+1]);c++);let u=hc(0,1,ms(e[c],e[c+1],o));return u=h4(t,c)(u),$h(r[c],r[c+1],u)}}var g4=M(()=>{l1();u1();p4();Bh();f4();a1()});var dc,m4=M(()=>{Fh();dc=r=>Array.isArray(r)&&Bi(r[0])});var Lo,y4=M(()=>{Lo=r=>typeof r=="object"&&Boolean(r.createAnimation)});var Mr,w4=M(()=>{Mr=r=>typeof r=="function"});var d1,v4=M(()=>{d1=r=>typeof r=="string"});var In,b4=M(()=>{In={ms:r=>r*1e3,s:r=>r/1e3}});var jr=M(()=>{a4();a1();c4();g4();m4();y4();c1();w4();Fh();v4();u1();Bh();b4()});function $q(r,e,t,i,n){let o,c,u=0;do c=e+(t-e)/2,o=E4(c,i,n)-r,o>0?t=c:e=c;while(Math.abs(o)>jq&&++u<Fq);return c}function ys(r,e,t,i){if(r===e&&t===i)return rr;let n=o=>$q(o,0,1,r,t);return o=>o===0||o===1?o:E4(n(o),e,i)}var E4,jq,Fq,_4=M(()=>{jr();E4=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,jq=1e-7,Fq=12});var p1,x4=M(()=>{jr();p1=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);let i=t*r,n=e==="end"?Math.floor(i):Math.ceil(i);return hc(0,1,n/r)}});var I4=M(()=>{_4();x4()});function g1(r){if(Mr(r))return r;if(dc(r))return ys(...r);if(S4[r])return S4[r];if(r.startsWith("steps")){let e=Bq.exec(r);if(e){let t=e[1].split(",");return p1(parseFloat(t[0]),t[1].trim())}}return rr}var S4,Bq,C4=M(()=>{I4();jr();S4={ease:ys(.25,.1,.25,1),"ease-in":ys(.42,0,1,1),"ease-in-out":ys(.42,0,.58,1),"ease-out":ys(0,0,.58,1)},Bq=/\((.*?)\)/});var Uo,D4=M(()=>{jr();C4();Uo=class{constructor(e,t=[0,1],{easing:i,duration:n=$t.duration,delay:o=$t.delay,endDelay:c=$t.endDelay,repeat:u=$t.repeat,offset:f,direction:d="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=rr,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((y,b)=>{this.resolve=y,this.reject=b}),i=i||$t.easing,Lo(i)){let y=i.createAnimation(t);i=y.easing,t=y.keyframes||t,n=y.duration||n}this.repeat=u,this.easing=ui(i)?rr:g1(i),this.updateDuration(n);let g=f1(t,f,ui(i)?i.map(g1):rr);this.tick=y=>{var b;o=o;let v=0;this.pauseTime!==void 0?v=this.pauseTime:v=(y-this.startTime)*this.rate,this.t=v,v/=1e3,v=Math.max(v-o,0),this.playState==="finished"&&this.pauseTime===void 0&&(v=this.totalDuration);let E=v/this.duration,I=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&I--;let R=I%2;(d==="reverse"||d==="alternate"&&R||d==="alternate-reverse"&&!R)&&(O=1-O);let H=v>=this.totalDuration?1:Math.min(O,1),U=g(this.easing(H));e(U),this.pauseTime===void 0&&(this.playState==="finished"||v>=this.totalDuration+c)?(this.playState="finished",(b=this.resolve)===null||b===void 0||b.call(this,U)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){let e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}});var m1=M(()=>{D4()});var y1,A4=M(()=>{y1=function(){}});var kh,O4=M(()=>{kh=class{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}});var w1=M(()=>{O4()});function qh(r){return v1.has(r)||v1.set(r,{transforms:[],values:new Map}),v1.get(r)}function R4(r,e){return r.has(e)||r.set(e,new kh),r.get(e)}var v1,b1=M(()=>{w1();v1=new WeakMap});var kq,qq,pc,P4,Hq,Sn,Hh,zh,zq,Vq,Vh,T4,Wq,Kq,gc=M(()=>{jr();b1();kq=["","X","Y","Z"],qq=["translate","scale","rotate","skew"],pc={x:"translateX",y:"translateY",z:"translateZ"},P4={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},Hq={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:P4,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:rr},skew:P4},Sn=new Map,Hh=r=>`--motion-${r}`,zh=["x","y","z"];qq.forEach(r=>{kq.forEach(e=>{zh.push(r+e),Sn.set(Hh(r+e),Hq[r])})});zq=(r,e)=>zh.indexOf(r)-zh.indexOf(e),Vq=new Set(zh),Vh=r=>Vq.has(r),T4=(r,e)=>{pc[e]&&(e=pc[e]);let{transforms:t}=qh(r);o1(t,e),r.style.transform=Wq(t)},Wq=r=>r.sort(zq).reduce(Kq,"").trim(),Kq=(r,e)=>`${r} ${e}(var(${Hh(e)}))`});function L4(r){if(!N4.has(r)){N4.add(r);try{let{syntax:e,initialValue:t}=Sn.has(r)?Sn.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}var mc,N4,E1=M(()=>{gc();mc=r=>r.startsWith("--"),N4=new Set});var _1,U4,x1,Cn,I1=M(()=>{_1=(r,e)=>document.createElement("div").animate(r,e),U4={cssRegisterProperty:()=>typeof CSS!="undefined"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{_1({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(_1({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{_1({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},x1={},Cn={};for(let r in U4)Cn[r]=()=>(x1[r]===void 0&&(x1[r]=U4[r]()),x1[r])});var Gq,Jq,S1,Yq,M4=M(()=>{jr();I1();Gq=.015,Jq=(r,e)=>{let t="",i=Math.round(e/Gq);for(let n=0;n<i;n++)t+=r(ms(0,i-1,n))+", ";return t.substring(0,t.length-2)},S1=(r,e)=>Mr(r)?Cn.linearEasing()?`linear(${Jq(r,e)})`:$t.easing:dc(r)?Yq(r):r,Yq=([r,e,t,i])=>`cubic-bezier(${r}, ${e}, ${t}, ${i})`});function j4(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}var F4,$4=M(()=>{F4=r=>Array.isArray(r)?r:[r]});function yc(r){return pc[r]&&(r=pc[r]),Vh(r)?Hh(r):r}var C1=M(()=>{gc()});var wc,B4=M(()=>{E1();C1();gc();wc={get:(r,e)=>{e=yc(e);let t=mc(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){let i=Sn.get(e);i&&(t=i.initialValue)}return t},set:(r,e,t)=>{e=yc(e),mc(e)?r.style.setProperty(e,t):r.style[e]=t}}});function Wh(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}var D1=M(()=>{});function k4(r,e){var t;let i=(e==null?void 0:e.toDefaultUnit)||rr,n=r[r.length-1];if(d1(n)){let o=((t=n.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";o&&(i=c=>c+o)}return i}var q4=M(()=>{jr()});function Zq(){return window.__MOTION_DEV_TOOLS_RECORD}function H4(r,e,t,i={},n){let o=Zq(),c=i.record!==!1&&o,u,{duration:f=$t.duration,delay:d=$t.delay,endDelay:g=$t.endDelay,repeat:y=$t.repeat,easing:b=$t.easing,persist:v=!1,direction:E,offset:I,allowWebkitAcceleration:O=!1}=i,R=qh(r),H=Vh(e),U=Cn.waapi();H&&T4(r,e);let N=yc(e),k=R4(R.values,N),W=Sn.get(N);return Wh(k.animation,!(Lo(b)&&k.generator)&&i.record!==!1),()=>{let C=()=>{var _,S;return(S=(_=wc.get(r,N))!==null&&_!==void 0?_:W==null?void 0:W.initialValue)!==null&&S!==void 0?S:0},A=j4(F4(t),C),V=k4(A,W);if(Lo(b)){let _=b.createAnimation(A,e!=="opacity",C,N,k);b=_.easing,A=_.keyframes||A,f=_.duration||f}if(mc(N)&&(Cn.cssRegisterProperty()?L4(N):U=!1),H&&!Cn.linearEasing()&&(Mr(b)||ui(b)&&b.some(Mr))&&(U=!1),U){W&&(A=A.map(L=>Bi(L)?W.toDefaultUnit(L):L)),A.length===1&&(!Cn.partialKeyframes()||c)&&A.unshift(C());let _={delay:In.ms(d),duration:In.ms(f),endDelay:In.ms(g),easing:ui(b)?void 0:S1(b,f),direction:E,iterations:y+1,fill:"both"};u=r.animate({[N]:A,offset:I,easing:ui(b)?b.map(L=>S1(L,f)):void 0},_),u.finished||(u.finished=new Promise((L,B)=>{u.onfinish=L,u.oncancel=B}));let S=A[A.length-1];u.finished.then(()=>{v||(wc.set(r,N,S),u.cancel())}).catch(fc),O||(u.playbackRate=1.000001)}else if(n&&H)A=A.map(_=>typeof _=="string"?parseFloat(_):_),A.length===1&&A.unshift(parseFloat(C())),u=new n(_=>{wc.set(r,N,V?V(_):_)},A,Object.assign(Object.assign({},i),{duration:f,easing:b}));else{let _=A[A.length-1];wc.set(r,N,W&&Bi(_)?W.toDefaultUnit(_):_)}return c&&o(r,e,A,{duration:f,delay:d,easing:b,repeat:y,offset:I},"motion-one"),k.setAnimation(u),u}}var z4=M(()=>{b1();E1();jr();gc();M4();I1();$4();B4();C1();D1();q4()});var V4,W4=M(()=>{V4=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r)});function K4(r,e){var t;return typeof r=="string"?e?((t=e[r])!==null&&t!==void 0||(e[r]=document.querySelectorAll(r)),r=e[r]):r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}var G4=M(()=>{});var Xq,vc,Qq,eH,tH,A1=M(()=>{jr();D1();Xq=r=>r(),vc=(r,e,t=$t.duration)=>new Proxy({animations:r.map(Xq).filter(Boolean),duration:t,options:e},eH),Qq=r=>r.animations[0],eH={get:(r,e)=>{let t=Qq(r);switch(e){case"duration":return r.duration;case"currentTime":return In.s((t==null?void 0:t[e])||0);case"playbackRate":case"playState":return t==null?void 0:t[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(tH)).catch(fc)),r.finished;case"stop":return()=>{r.animations.forEach(i=>Wh(i))};case"forEachNative":return i=>{r.animations.forEach(n=>i(n,r))};default:return typeof(t==null?void 0:t[e])=="undefined"?void 0:()=>r.animations.forEach(i=>i[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=In.ms(t);case"currentTime":case"playbackRate":for(let i=0;i<r.animations.length;i++)r.animations[i][e]=t;return!0}return!1}},tH=r=>r.finished});function J4(r,e,t){return Mr(r)?r(e,t):r}var Y4=M(()=>{jr()});function Z4(r){return function(t,i,n={}){t=K4(t);let o=t.length;y1(Boolean(o),"No valid element provided."),y1(Boolean(i),"No keyframes defined.");let c=[];for(let u=0;u<o;u++){let f=t[u];for(let d in i){let g=V4(n,d);g.delay=J4(g.delay,u,o);let y=H4(f,d,i[d],g,r);c.push(y)}}return vc(c,n,n.duration)}}var X4=M(()=>{A4();z4();W4();G4();A1();Y4()});var O1,Q4=M(()=>{m1();X4();O1=Z4(Uo)});var R1=M(()=>{Q4();A1()});function rH(r,e={}){return vc([()=>{let t=new Uo(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function ki(r,e,t){return(Mr(r)?rH:O1)(r,e,t)}var eI=M(()=>{R1();jr();m1()});var tI=M(()=>{R1();w1();eI()});var Kt,rI=M(()=>{ps();Kt=r=>r??Ct});var iI=M(()=>{rI()});var sI=Z(($Q,nI)=>{nI.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Dn=Z(ws=>{var P1,iH=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ws.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ws.getSymbolTotalCodewords=function(e){return iH[e]};ws.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};ws.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');P1=e};ws.isKanjiModeEnabled=function(){return typeof P1!="undefined"};ws.toSJIS=function(e){return P1(e)}});var Kh=Z(Fr=>{Fr.L={bit:1};Fr.M={bit:0};Fr.Q={bit:3};Fr.H={bit:2};function nH(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Fr.L;case"m":case"medium":return Fr.M;case"q":case"quartile":return Fr.Q;case"h":case"high":return Fr.H;default:throw new Error("Unknown EC Level: "+r)}}Fr.isValid=function(e){return e&&typeof e.bit!="undefined"&&e.bit>=0&&e.bit<4};Fr.from=function(e,t){if(Fr.isValid(e))return e;try{return nH(e)}catch{return t}}});var cI=Z((qQ,aI)=>{function oI(){this.buffer=[],this.length=0}oI.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)==1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};aI.exports=oI});var uI=Z((HQ,lI)=>{function bc(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}bc.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};bc.prototype.get=function(r,e){return this.data[r*this.size+e]};bc.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};bc.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};lI.exports=bc});var hI=Z(Gh=>{var sH=Dn().getSymbolSize;Gh.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=sH(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let c=1;c<t-1;c++)o[c]=o[c-1]-n;return o.push(6),o.reverse()};Gh.getPositions=function(e){let t=[],i=Gh.getRowColCoords(e),n=i.length;for(let o=0;o<n;o++)for(let c=0;c<n;c++)o===0&&c===0||o===0&&c===n-1||o===n-1&&c===0||t.push([i[o],i[c]]);return t}});var pI=Z(dI=>{var oH=Dn().getSymbolSize,fI=7;dI.getPositions=function(e){let t=oH(e);return[[0,0],[t-fI,0],[0,t-fI]]}});var gI=Z(ot=>{ot.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var vs={N1:3,N2:3,N3:40,N4:10};ot.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ot.from=function(e){return ot.isValid(e)?parseInt(e,10):void 0};ot.getPenaltyN1=function(e){let t=e.size,i=0,n=0,o=0,c=null,u=null;for(let f=0;f<t;f++){n=o=0,c=u=null;for(let d=0;d<t;d++){let g=e.get(f,d);g===c?n++:(n>=5&&(i+=vs.N1+(n-5)),c=g,n=1),g=e.get(d,f),g===u?o++:(o>=5&&(i+=vs.N1+(o-5)),u=g,o=1)}n>=5&&(i+=vs.N1+(n-5)),o>=5&&(i+=vs.N1+(o-5))}return i};ot.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){let c=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);(c===4||c===0)&&i++}return i*vs.N2};ot.getPenaltyN3=function(e){let t=e.size,i=0,n=0,o=0;for(let c=0;c<t;c++){n=o=0;for(let u=0;u<t;u++)n=n<<1&2047|e.get(c,u),u>=10&&(n===1488||n===93)&&i++,o=o<<1&2047|e.get(u,c),u>=10&&(o===1488||o===93)&&i++}return i*vs.N3};ot.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*vs.N4};function aH(r,e,t){switch(r){case ot.Patterns.PATTERN000:return(e+t)%2==0;case ot.Patterns.PATTERN001:return e%2==0;case ot.Patterns.PATTERN010:return t%3==0;case ot.Patterns.PATTERN011:return(e+t)%3==0;case ot.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case ot.Patterns.PATTERN101:return e*t%2+e*t%3==0;case ot.Patterns.PATTERN110:return(e*t%2+e*t%3)%2==0;case ot.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}ot.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let o=0;o<i;o++)t.isReserved(o,n)||t.xor(o,n,aH(e,o,n))};ot.getBestMask=function(e,t){let i=Object.keys(ot.Patterns).length,n=0,o=1/0;for(let c=0;c<i;c++){t(c),ot.applyMask(c,e);let u=ot.getPenaltyN1(e)+ot.getPenaltyN2(e)+ot.getPenaltyN3(e)+ot.getPenaltyN4(e);ot.applyMask(c,e),u<o&&(o=u,n=c)}return n}});var N1=Z(T1=>{var An=Kh(),Jh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Yh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];T1.getBlocksCount=function(e,t){switch(t){case An.L:return Jh[(e-1)*4+0];case An.M:return Jh[(e-1)*4+1];case An.Q:return Jh[(e-1)*4+2];case An.H:return Jh[(e-1)*4+3];default:return}};T1.getTotalCodewordsCount=function(e,t){switch(t){case An.L:return Yh[(e-1)*4+0];case An.M:return Yh[(e-1)*4+1];case An.Q:return Yh[(e-1)*4+2];case An.H:return Yh[(e-1)*4+3];default:return}}});var mI=Z(Xh=>{var Ec=new Uint8Array(512),Zh=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Ec[t]=e,Zh[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Ec[t]=Ec[t-255]})();Xh.log=function(e){if(e<1)throw new Error("log("+e+")");return Zh[e]};Xh.exp=function(e){return Ec[e]};Xh.mul=function(e,t){return e===0||t===0?0:Ec[Zh[e]+Zh[t]]}});var yI=Z(_c=>{var L1=mI();_c.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)i[n+o]^=L1.mul(e[n],t[o]);return i};_c.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let c=0;c<t.length;c++)i[c]^=L1.mul(t[c],n);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};_c.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=_c.mul(t,new Uint8Array([1,L1.exp(i)]));return t}});var bI=Z((YQ,vI)=>{var wI=yI();function U1(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}U1.prototype.initialize=function(e){this.degree=e,this.genPoly=wI.generateECPolynomial(this.degree)};U1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=wI.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let o=new Uint8Array(this.degree);return o.set(i,n),o}return i};vI.exports=U1});var M1=Z(EI=>{EI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var j1=Z(qi=>{var _I="[0-9]+",cH="[A-Z $%*+\\-./:]+",xc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xc=xc.replace(/u/g,"\\u");var lH="(?:(?![A-Z0-9 $%*+\\-./:]|"+xc+`)(?:.|[\r
]))+`;qi.KANJI=new RegExp(xc,"g");qi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qi.BYTE=new RegExp(lH,"g");qi.NUMERIC=new RegExp(_I,"g");qi.ALPHANUMERIC=new RegExp(cH,"g");var uH=new RegExp("^"+xc+"$"),hH=new RegExp("^"+_I+"$"),fH=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qi.testKanji=function(e){return uH.test(e)};qi.testNumeric=function(e){return hH.test(e)};qi.testAlphanumeric=function(e){return fH.test(e)}});var On=Z(Dt=>{var dH=M1(),F1=j1();Dt.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};Dt.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};Dt.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};Dt.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};Dt.MIXED={bit:-1};Dt.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!dH.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Dt.getBestModeForData=function(e){return F1.testNumeric(e)?Dt.NUMERIC:F1.testAlphanumeric(e)?Dt.ALPHANUMERIC:F1.testKanji(e)?Dt.KANJI:Dt.BYTE};Dt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Dt.isValid=function(e){return e&&e.bit&&e.ccBits};function pH(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Dt.NUMERIC;case"alphanumeric":return Dt.ALPHANUMERIC;case"kanji":return Dt.KANJI;case"byte":return Dt.BYTE;default:throw new Error("Unknown mode: "+r)}}Dt.from=function(e,t){if(Dt.isValid(e))return e;try{return pH(e)}catch{return t}}});var DI=Z(bs=>{var Qh=Dn(),gH=N1(),xI=Kh(),Rn=On(),$1=M1(),II=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,SI=Qh.getBCHDigit(II);function mH(r,e,t){for(let i=1;i<=40;i++)if(e<=bs.getCapacity(i,t,r))return i}function CI(r,e){return Rn.getCharCountIndicator(r,e)+4}function yH(r,e){let t=0;return r.forEach(function(i){t+=CI(i.mode,e)+i.getBitsLength()}),t}function wH(r,e){for(let t=1;t<=40;t++)if(yH(r,t)<=bs.getCapacity(t,e,Rn.MIXED))return t}bs.from=function(e,t){return $1.isValid(e)?parseInt(e,10):t};bs.getCapacity=function(e,t,i){if(!$1.isValid(e))throw new Error("Invalid QR Code version");typeof i=="undefined"&&(i=Rn.BYTE);let n=Qh.getSymbolTotalCodewords(e),o=gH.getTotalCodewordsCount(e,t),c=(n-o)*8;if(i===Rn.MIXED)return c;let u=c-CI(i,e);switch(i){case Rn.NUMERIC:return Math.floor(u/10*3);case Rn.ALPHANUMERIC:return Math.floor(u/11*2);case Rn.KANJI:return Math.floor(u/13);case Rn.BYTE:default:return Math.floor(u/8)}};bs.getBestVersionForData=function(e,t){let i,n=xI.from(t,xI.M);if(Array.isArray(e)){if(e.length>1)return wH(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return mH(i.mode,i.getLength(),n)};bs.getEncodedBits=function(e){if(!$1.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Qh.getBCHDigit(t)-SI>=0;)t^=II<<Qh.getBCHDigit(t)-SI;return e<<12|t}});var PI=Z(RI=>{var B1=Dn(),AI=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,vH=1<<14|1<<12|1<<10|1<<4|1<<1,OI=B1.getBCHDigit(AI);RI.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;B1.getBCHDigit(n)-OI>=0;)n^=AI<<B1.getBCHDigit(n)-OI;return(i<<10|n)^vH}});var NI=Z((ree,TI)=>{var bH=On();function Mo(r){this.mode=bH.NUMERIC,this.data=r.toString()}Mo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Mo.prototype.getLength=function(){return this.data.length};Mo.prototype.getBitsLength=function(){return Mo.getBitsLength(this.data.length)};Mo.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,o*3+1))};TI.exports=Mo});var UI=Z((iee,LI)=>{var EH=On(),k1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function jo(r){this.mode=EH.ALPHANUMERIC,this.data=r}jo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};jo.prototype.getLength=function(){return this.data.length};jo.prototype.getBitsLength=function(){return jo.getBitsLength(this.data.length)};jo.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=k1.indexOf(this.data[t])*45;i+=k1.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(k1.indexOf(this.data[t]),6)};LI.exports=jo});var jI=Z((nee,MI)=>{"use strict";MI.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319&&i>n+1){var c=e.charCodeAt(n+1);c>=56320&&c<=57343&&(o=(o-55296)*1024+c-56320+65536,n+=1)}if(o<128){t.push(o);continue}if(o<2048){t.push(o>>6|192),t.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128);continue}if(o>=65536&&o<=1114111){t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var $I=Z((see,FI)=>{var _H=jI(),xH=On();function Fo(r){this.mode=xH.BYTE,typeof r=="string"&&(r=_H(r)),this.data=new Uint8Array(r)}Fo.getBitsLength=function(e){return e*8};Fo.prototype.getLength=function(){return this.data.length};Fo.prototype.getBitsLength=function(){return Fo.getBitsLength(this.data.length)};Fo.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};FI.exports=Fo});var kI=Z((oee,BI)=>{var IH=On(),SH=Dn();function $o(r){this.mode=IH.KANJI,this.data=r}$o.getBitsLength=function(e){return e*13};$o.prototype.getLength=function(){return this.data.length};$o.prototype.getBitsLength=function(){return $o.getBitsLength(this.data.length)};$o.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=SH.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};BI.exports=$o});var qI=Z((aee,q1)=>{"use strict";var Ic={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var o=Ic.PriorityQueue.make();o.push(e,0);for(var c,u,f,d,g,y,b,v,E;!o.empty();){c=o.pop(),u=c.value,d=c.cost,g=r[u]||{};for(f in g)g.hasOwnProperty(f)&&(y=g[f],b=d+y,v=n[f],E=typeof n[f]=="undefined",(E||v>b)&&(n[f]=b,o.push(f,b),i[f]=u))}if(typeof t!="undefined"&&typeof n[t]=="undefined"){var I=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(I)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Ic.single_source_shortest_paths(r,e,t);return Ic.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Ic.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof q1!="undefined"&&(q1.exports=Ic)});var YI=Z(Bo=>{var Ge=On(),HI=NI(),zI=UI(),VI=$I(),WI=kI(),Sc=j1(),ef=Dn(),CH=qI();function KI(r){return unescape(encodeURIComponent(r)).length}function Cc(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function GI(r){let e=Cc(Sc.NUMERIC,Ge.NUMERIC,r),t=Cc(Sc.ALPHANUMERIC,Ge.ALPHANUMERIC,r),i,n;return ef.isKanjiModeEnabled()?(i=Cc(Sc.BYTE,Ge.BYTE,r),n=Cc(Sc.KANJI,Ge.KANJI,r)):(i=Cc(Sc.BYTE_KANJI,Ge.BYTE,r),n=[]),e.concat(t,i,n).sort(function(c,u){return c.index-u.index}).map(function(c){return{data:c.data,mode:c.mode,length:c.length}})}function H1(r,e){switch(e){case Ge.NUMERIC:return HI.getBitsLength(r);case Ge.ALPHANUMERIC:return zI.getBitsLength(r);case Ge.KANJI:return WI.getBitsLength(r);case Ge.BYTE:return VI.getBitsLength(r)}}function DH(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function AH(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Ge.NUMERIC:e.push([i,{data:i.data,mode:Ge.ALPHANUMERIC,length:i.length},{data:i.data,mode:Ge.BYTE,length:i.length}]);break;case Ge.ALPHANUMERIC:e.push([i,{data:i.data,mode:Ge.BYTE,length:i.length}]);break;case Ge.KANJI:e.push([i,{data:i.data,mode:Ge.BYTE,length:KI(i.data)}]);break;case Ge.BYTE:e.push([{data:i.data,mode:Ge.BYTE,length:KI(i.data)}])}}return e}function OH(r,e){let t={},i={start:{}},n=["start"];for(let o=0;o<r.length;o++){let c=r[o],u=[];for(let f=0;f<c.length;f++){let d=c[f],g=""+o+f;u.push(g),t[g]={node:d,lastCount:0},i[g]={};for(let y=0;y<n.length;y++){let b=n[y];t[b]&&t[b].node.mode===d.mode?(i[b][g]=H1(t[b].lastCount+d.length,d.mode)-H1(t[b].lastCount,d.mode),t[b].lastCount+=d.length):(t[b]&&(t[b].lastCount=d.length),i[b][g]=H1(d.length,d.mode)+4+Ge.getCharCountIndicator(d.mode,e))}}n=u}for(let o=0;o<n.length;o++)i[n[o]].end=0;return{map:i,table:t}}function JI(r,e){let t,i=Ge.getBestModeForData(r);if(t=Ge.from(e,i),t!==Ge.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Ge.toString(t)+`.
 Suggested mode is: `+Ge.toString(i));switch(t===Ge.KANJI&&!ef.isKanjiModeEnabled()&&(t=Ge.BYTE),t){case Ge.NUMERIC:return new HI(r);case Ge.ALPHANUMERIC:return new zI(r);case Ge.KANJI:return new WI(r);case Ge.BYTE:return new VI(r)}}Bo.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(JI(i,null)):i.data&&t.push(JI(i.data,i.mode)),t},[])};Bo.fromString=function(e,t){let i=GI(e,ef.isKanjiModeEnabled()),n=AH(i),o=OH(n,t),c=CH.find_path(o.map,"start","end"),u=[];for(let f=1;f<c.length-1;f++)u.push(o.table[c[f]].node);return Bo.fromArray(DH(u))};Bo.rawSplit=function(e){return Bo.fromArray(GI(e,ef.isKanjiModeEnabled()))}});var XI=Z(ZI=>{var tf=Dn(),z1=Kh(),RH=cI(),PH=uI(),TH=hI(),NH=pI(),V1=gI(),W1=N1(),LH=bI(),rf=DI(),UH=PI(),MH=On(),K1=YI();function jH(r,e){let t=r.size,i=NH.getPositions(e);for(let n=0;n<i.length;n++){let o=i[n][0],c=i[n][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||t<=o+u))for(let f=-1;f<=7;f++)c+f<=-1||t<=c+f||(u>=0&&u<=6&&(f===0||f===6)||f>=0&&f<=6&&(u===0||u===6)||u>=2&&u<=4&&f>=2&&f<=4?r.set(o+u,c+f,!0,!0):r.set(o+u,c+f,!1,!0))}}function FH(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2==0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function $H(r,e){let t=TH.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],o=t[i][1];for(let c=-2;c<=2;c++)for(let u=-2;u<=2;u++)c===-2||c===2||u===-2||u===2||c===0&&u===0?r.set(n+c,o+u,!0,!0):r.set(n+c,o+u,!1,!0)}}function BH(r,e){let t=r.size,i=rf.getEncodedBits(e),n,o,c;for(let u=0;u<18;u++)n=Math.floor(u/3),o=u%3+t-8-3,c=(i>>u&1)==1,r.set(n,o,c,!0),r.set(o,n,c,!0)}function G1(r,e,t){let i=r.size,n=UH.getEncodedBits(e,t),o,c;for(o=0;o<15;o++)c=(n>>o&1)==1,o<6?r.set(o,8,c,!0):o<8?r.set(o+1,8,c,!0):r.set(i-15+o,8,c,!0),o<8?r.set(8,i-o-1,c,!0):o<9?r.set(8,15-o-1+1,c,!0):r.set(8,15-o-1,c,!0);r.set(i-8,8,1,!0)}function kH(r,e){let t=r.size,i=-1,n=t-1,o=7,c=0;for(let u=t-1;u>0;u-=2)for(u===6&&u--;;){for(let f=0;f<2;f++)if(!r.isReserved(n,u-f)){let d=!1;c<e.length&&(d=(e[c]>>>o&1)==1),r.set(n,u-f,d),o--,o===-1&&(c++,o=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function qH(r,e,t){let i=new RH;t.forEach(function(f){i.put(f.mode.bit,4),i.put(f.getLength(),MH.getCharCountIndicator(f.mode,r)),f.write(i)});let n=tf.getSymbolTotalCodewords(r),o=W1.getTotalCodewordsCount(r,e),c=(n-o)*8;for(i.getLengthInBits()+4<=c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let u=(c-i.getLengthInBits())/8;for(let f=0;f<u;f++)i.put(f%2?17:236,8);return HH(i,r,e)}function HH(r,e,t){let i=tf.getSymbolTotalCodewords(e),n=W1.getTotalCodewordsCount(e,t),o=i-n,c=W1.getBlocksCount(e,t),u=i%c,f=c-u,d=Math.floor(i/c),g=Math.floor(o/c),y=g+1,b=d-g,v=new LH(b),E=0,I=new Array(c),O=new Array(c),R=0,H=new Uint8Array(r.buffer);for(let C=0;C<c;C++){let A=C<f?g:y;I[C]=H.slice(E,E+A),O[C]=v.encode(I[C]),E+=A,R=Math.max(R,A)}let U=new Uint8Array(i),N=0,k,W;for(k=0;k<R;k++)for(W=0;W<c;W++)k<I[W].length&&(U[N++]=I[W][k]);for(k=0;k<b;k++)for(W=0;W<c;W++)U[N++]=O[W][k];return U}function zH(r,e,t,i){let n;if(Array.isArray(r))n=K1.fromArray(r);else if(typeof r=="string"){let d=e;if(!d){let g=K1.rawSplit(r);d=rf.getBestVersionForData(g,t)}n=K1.fromString(r,d||40)}else throw new Error("Invalid data");let o=rf.getBestVersionForData(n,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let c=qH(e,t,n),u=tf.getSymbolSize(e),f=new PH(u);return jH(f,e),FH(f),$H(f,e),G1(f,t,0),e>=7&&BH(f,e),kH(f,c),isNaN(i)&&(i=V1.getBestMask(f,G1.bind(null,f,t))),V1.applyMask(i,f),G1(f,t,i),{modules:f,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}ZI.create=function(e,t){if(typeof e=="undefined"||e==="")throw new Error("No input text");let i=z1.M,n,o;return typeof t!="undefined"&&(i=z1.from(t.errorCorrectionLevel,z1.M),n=rf.from(t.version),o=V1.from(t.maskPattern),t.toSJISFunc&&tf.setToSJISFunction(t.toSJISFunc)),zH(e,n,i,o)}});var J1=Z(Es=>{function QI(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Es.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin=="undefined"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:QI(e.color.dark||"#000000ff"),light:QI(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Es.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Es.getImageWidth=function(e,t){let i=Es.getScale(e,t);return Math.floor((e+t.margin*2)*i)};Es.qrToImageData=function(e,t,i){let n=t.modules.size,o=t.modules.data,c=Es.getScale(n,i),u=Math.floor((n+i.margin*2)*c),f=i.margin*c,d=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let y=0;y<u;y++){let b=(g*u+y)*4,v=i.color.light;if(g>=f&&y>=f&&g<u-f&&y<u-f){let E=Math.floor((g-f)/c),I=Math.floor((y-f)/c);v=d[o[E*n+I]?1:0]}e[b++]=v.r,e[b++]=v.g,e[b++]=v.b,e[b]=v.a}}});var eS=Z(nf=>{var Y1=J1();function VH(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function WH(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}nf.render=function(e,t,i){let n=i,o=t;typeof n=="undefined"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(o=WH()),n=Y1.getOptions(n);let c=Y1.getImageWidth(e.modules.size,n),u=o.getContext("2d"),f=u.createImageData(c,c);return Y1.qrToImageData(f.data,e,n),VH(u,o,c),u.putImageData(f,0,0),o};nf.renderToDataURL=function(e,t,i){let n=i;typeof n=="undefined"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let o=nf.render(e,t,n),c=n.type||"image/png",u=n.rendererOpts||{};return o.toDataURL(c,u.quality)}});var iS=Z(rS=>{var KH=J1();function tS(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function Z1(r,e,t){let i=r+e;return typeof t!="undefined"&&(i+=" "+t),i}function GH(r,e,t){let i="",n=0,o=!1,c=0;for(let u=0;u<r.length;u++){let f=Math.floor(u%e),d=Math.floor(u/e);!f&&!o&&(o=!0),r[u]?(c++,u>0&&f>0&&r[u-1]||(i+=o?Z1("M",f+t,.5+d+t):Z1("m",n,0),n=0,o=!1),f+1<e&&r[u+1]||(i+=Z1("h",c),c=0)):n++}return i}rS.render=function(e,t,i){let n=KH.getOptions(t),o=e.modules.size,c=e.modules.data,u=o+n.margin*2,f=n.color.light.a?"<path "+tS(n.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",d="<path "+tS(n.color.dark,"stroke")+' d="'+GH(c,o,n.margin)+'"/>',g='viewBox="0 0 '+u+" "+u+'"',y=n.width?'width="'+n.width+'" height="'+n.width+'" ':"",b='<svg xmlns="http://www.w3.org/2000/svg" '+y+g+' shape-rendering="crispEdges">'+f+d+`</svg>
`;return typeof i=="function"&&i(null,b),b}});var sS=Z(Dc=>{var JH=sI(),X1=XI(),nS=eS(),YH=iS();function Q1(r,e,t,i,n){let o=[].slice.call(arguments,1),c=o.length,u=typeof o[c-1]=="function";if(!u&&!JH())throw new Error("Callback required as last argument");if(u){if(c<2)throw new Error("Too few arguments provided");c===2?(n=t,t=e,e=i=void 0):c===3&&(e.getContext&&typeof n=="undefined"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(t=e,e=i=void 0):c===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(f,d){try{let g=X1.create(t,i);f(r(g,e,i))}catch(g){d(g)}})}try{let f=X1.create(t,i);n(null,r(f,e,i))}catch(f){n(f)}}Dc.create=X1.create;Dc.toCanvas=Q1.bind(null,nS.render);Dc.toDataURL=Q1.bind(null,nS.renderToDataURL);Dc.toString=Q1.bind(null,function(r,e,t){return YH.render(r,t)})});var wS={};nt(wS,{WcmModal:()=>Wo,WcmQrCode:()=>zi});function ez(){var r;let e=(r=ci.state.themeMode)!=null?r:"dark",t={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":t.foreground[1],"--wcm-color-fg-2":t.foreground[2],"--wcm-color-fg-3":t.foreground[3],"--wcm-color-bg-1":t.background[1],"--wcm-color-bg-2":t.background[2],"--wcm-color-bg-3":t.background[3],"--wcm-color-overlay":t.overlay}}function lS(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}function am(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+Tz}function Nz(r,e){let t=Array.prototype.slice.call(oS.default.create(r,{errorCorrectionLevel:e}).modules.data,0),i=Math.sqrt(t.length);return t.reduce((n,o,c)=>(c%i==0?n.push([o]):n[n.length-1].push(o))&&n,[])}var oS,ZH,aS,XH,QH,cS,em,He,tz,rz,iz,ko,Pn,nz,sz,oz,tm,Ac,az,cz,lz,uz,rm,Je,hz,fz,dz,pz,im,gz,mz,yz,wz,nm,vz,bz,Ez,_z,sm,xz,Iz,Sz,Oc,_s,Ie,Cz,Dz,Az,om,Rc,Oz,Rz,Pz,uS,sf,Tz,hS,Hi,Lz,Uz,Mz,jz,qo,zi,Fz,$z,Bz,fS,of,kz,qz,Hz,zz,cm,Vz,Wz,Kz,lm,Pc,Gz,Jz,Yz,Tn,hi,Zz,Xz,Qz,af,Ho,eV,tV,dS,um,rV,iV,nV,pS,sV,oV,aV,cV,hm,lV,uV,hV,zo,Nn,Vo,Ln,fV,dV,pV,gV,fm,mV,yV,wV,vV,dm,bV,EV,_V,xV,pm,IV,SV,CV,gm,Wo,DV,AV,OV,Tc,xs,RV,PV,TV,NV,mm,LV,UV,MV,cf,Ko,jV,FV,$V,ym,BV,kV,qV,gS,lf,HV,zV,VV,WV,wm,KV,GV,JV,mS,uf,YV,ZV,XV,QV,vm,eW,tW,rW,bm,iW,nW,sW,Nc,Em,Is,oW,aW,cW,yS,hf,vS=M(()=>{K8();t4();o4();Hg();ps();tI();iI();oS=Or(sS()),ZH=Object.defineProperty,aS=Object.getOwnPropertySymbols,XH=Object.prototype.hasOwnProperty,QH=Object.prototype.propertyIsEnumerable,cS=(r,e,t)=>e in r?ZH(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,em=(r,e)=>{for(var t in e||(e={}))XH.call(e,t)&&cS(r,t,e[t]);if(aS)for(var t of aS(e))QH.call(e,t)&&cS(r,t,e[t]);return r};He={getPreset(r){return lS()[r]},setTheme(){let r=document.querySelector(":root"),{themeVariables:e}=ci.state;if(r){let t=em(em(em({},ez()),lS()),e);Object.entries(t).forEach(([i,n])=>r.style.setProperty(i,n))}},globalCss:ze`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},tz=ze`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`,rz=Object.defineProperty,iz=Object.getOwnPropertyDescriptor,ko=(r,e,t,i)=>{for(var n=i>1?void 0:i?iz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&rz(e,t,n),n},Pn=class extends Ne{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){let r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"},e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),te`<button class="${li(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Pn.styles=[He.globalCss,tz],ko([De({type:Boolean})],Pn.prototype,"disabled",2),ko([De()],Pn.prototype,"iconLeft",2),ko([De()],Pn.prototype,"iconRight",2),ko([De()],Pn.prototype,"onClick",2),ko([De()],Pn.prototype,"variant",2),Pn=ko([qe("wcm-button")],Pn);nz=ze`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`,sz=Object.defineProperty,oz=Object.getOwnPropertyDescriptor,tm=(r,e,t,i)=>{for(var n=i>1?void 0:i?oz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&sz(e,t,n),n},Ac=class extends Ne{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){let r={"wcm-secondary":this.variant==="secondary"};return te`<button ?disabled="${this.disabled}" class="${li(r)}"><slot></slot></button>`}};Ac.styles=[He.globalCss,nz],tm([De({type:Boolean})],Ac.prototype,"disabled",2),tm([De()],Ac.prototype,"variant",2),Ac=tm([qe("wcm-button-big")],Ac);az=ze`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`,cz=Object.defineProperty,lz=Object.getOwnPropertyDescriptor,uz=(r,e,t,i)=>{for(var n=i>1?void 0:i?lz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&cz(e,t,n),n},rm=class extends Ne{render(){return te`<div><slot></slot></div>`}};rm.styles=[He.globalCss,az],rm=uz([qe("wcm-info-footer")],rm);Je={CROSS_ICON:pt`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:pt`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:pt`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:pt`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:pt`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:pt`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:pt`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:pt`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:pt`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:pt`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:pt`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:pt`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:pt`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:pt`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:pt`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:pt`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:pt`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:pt`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},hz=ze`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`,fz=Object.defineProperty,dz=Object.getOwnPropertyDescriptor,pz=(r,e,t,i)=>{for(var n=i>1?void 0:i?dz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&fz(e,t,n),n},im=class extends Ne{render(){return te`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${Je.WALLET_CONNECT_LOGO} <button @click="${ji.close}">${Je.CROSS_ICON}</button></div>`}};im.styles=[He.globalCss,hz],im=pz([qe("wcm-modal-backcard")],im);gz=ze`main{padding:20px;padding-top:0;width:100%}`,mz=Object.defineProperty,yz=Object.getOwnPropertyDescriptor,wz=(r,e,t,i)=>{for(var n=i>1?void 0:i?yz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&mz(e,t,n),n},nm=class extends Ne{render(){return te`<main><slot></slot></main>`}};nm.styles=[He.globalCss,gz],nm=wz([qe("wcm-modal-content")],nm);vz=ze`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`,bz=Object.defineProperty,Ez=Object.getOwnPropertyDescriptor,_z=(r,e,t,i)=>{for(var n=i>1?void 0:i?Ez(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&bz(e,t,n),n},sm=class extends Ne{render(){return te`<footer><slot></slot></footer>`}};sm.styles=[He.globalCss,vz],sm=_z([qe("wcm-modal-footer")],sm);xz=ze`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`,Iz=Object.defineProperty,Sz=Object.getOwnPropertyDescriptor,Oc=(r,e,t,i)=>{for(var n=i>1?void 0:i?Sz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Iz(e,t,n),n},_s=class extends Ne{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return te`<button class="wcm-back-btn" @click="${dt.goBack}">${Je.BACK_ICON}</button>`}actionBtnTemplate(){return te`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){let r={"wcm-border":this.border},e=dt.state.history.length>1,t=this.title?te`<wcm-text variant="big-bold">${this.title}</wcm-text>`:te`<slot></slot>`;return te`<header class="${li(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};_s.styles=[He.globalCss,xz],Oc([De()],_s.prototype,"title",2),Oc([De()],_s.prototype,"onAction",2),Oc([De()],_s.prototype,"actionIcon",2),Oc([De({type:Boolean})],_s.prototype,"border",2),_s=Oc([qe("wcm-modal-header")],_s);Ie={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){let t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){let{walletImages:t}=Qt.state;return t!=null&&t[r]?t[r]:e?er.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e?r.split(" ")[0]:r},isMobileAnimation(){return window.innerWidth<=Ie.MOBILE_BREAKPOINT},async preloadImage(r){let e=new Promise((t,i)=>{let n=new Image;n.onload=t,n.onerror=i,n.src=r});return Promise.race([e,pe.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...i)=>{function n(){r(...i)}t&&clearTimeout(t),t=setTimeout(n,e)}},handleMobileLinking(r){let{walletConnectUri:e}=yt.state,{mobile:t,name:i}=r,n=t?.native,o=t?.universal;Ie.setRecentWallet(r);function c(u){let f="";n?f=pe.formatUniversalUrl(n,u,i):o&&(f=pe.formatNativeUrl(o,u,i)),pe.openHref(f,"_self")}e&&c(e)},handleAndroidLinking(){let{walletConnectUri:r}=yt.state;r&&(pe.setWalletConnectAndroidDeepLink(r),pe.openHref(r,"_self"))},async handleUriCopy(){let{walletConnectUri:r}=yt.state;if(r)try{await navigator.clipboard.writeText(r),Fi.openToast("Link copied","success")}catch{Fi.openToast("Failed to copy","error")}},getCustomImageUrls(){let{walletImages:r}=Qt.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){localStorage.setItem(Ie.WCM_RECENT_WALLET_DATA,JSON.stringify(r))},getRecentWallet(){let r=localStorage.getItem(Ie.WCM_RECENT_WALLET_DATA);if(r)return JSON.parse(r)},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){pe.openHref(Ie.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){let{desktop:r,mobile:e}=pe.getWalletRouterData(),t=Boolean(r?.native),i=Boolean(r?.universal),n=Boolean(e?.native)||Boolean(e?.universal);return{isDesktop:t,isMobile:n,isWeb:i}},goToConnectingView(r){dt.setData({Wallet:r});let e=pe.isMobile(),{isDesktop:t,isWeb:i,isMobile:n}=Ie.getCachedRouterWalletPlatforms();e?n?dt.push("MobileConnecting"):i?dt.push("WebConnecting"):dt.push("InstallWallet"):t?dt.push("DesktopConnecting"):i?dt.push("WebConnecting"):n?dt.push("MobileQrcodeConnecting"):dt.push("InstallWallet")}},Cz=ze`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`,Dz=Object.defineProperty,Az=Object.getOwnPropertyDescriptor,om=(r,e,t,i)=>{for(var n=i>1?void 0:i?Az(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Dz(e,t,n),n},Rc=class extends Ne{constructor(){super(),this.view=dt.state.view,this.prevView=dt.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=dt.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{let e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&ki(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Ie.getShadowRootElement(this,".wcm-router")}get contentEl(){return Ie.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return te`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return te`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return te`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return te`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return te`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return te`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return te`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return te`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return te`<div>Not Found</div>`}}async onChangeRoute(){await ki(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=dt.state.view,ki(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return te`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};Rc.styles=[He.globalCss,Cz],om([tr()],Rc.prototype,"view",2),om([tr()],Rc.prototype,"prevView",2),Rc=om([qe("wcm-modal-router")],Rc);Oz=ze`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`,Rz=Object.defineProperty,Pz=Object.getOwnPropertyDescriptor,uS=(r,e,t,i)=>{for(var n=i>1?void 0:i?Pz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Rz(e,t,n),n},sf=class extends Ne{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=Fi.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>Fi.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),Fi.closeToast()}render(){let{message:r,variant:e}=Fi.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?te`<div class="${li(t)}">${e==="success"?Je.CHECKMARK_ICON:null} ${e==="error"?Je.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};sf.styles=[He.globalCss,Oz],uS([tr()],sf.prototype,"open",2),sf=uS([qe("wcm-modal-toast")],sf);Tz=.1,hS=2.5,Hi=7;Lz={generate(r,e,t){let i="#141414",n="#ffffff",o=[],c=Nz(r,"Q"),u=e/c.length,f=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];f.forEach(({x:E,y:I})=>{let O=(c.length-Hi)*u*E,R=(c.length-Hi)*u*I,H=.45;for(let U=0;U<f.length;U+=1){let N=u*(Hi-U*2);o.push(pt`<rect fill="${U%2==0?i:n}" height="${N}" rx="${N*H}" ry="${N*H}" width="${N}" x="${O+u*U}" y="${R+u*U}">`)}});let d=Math.floor((t+25)/u),g=c.length/2-d/2,y=c.length/2+d/2-1,b=[];c.forEach((E,I)=>{E.forEach((O,R)=>{if(c[I][R]&&!(I<Hi&&R<Hi||I>c.length-(Hi+1)&&R<Hi||I<Hi&&R>c.length-(Hi+1))&&!(I>g&&I<y&&R>g&&R<y)){let H=I*u+u/2,U=R*u+u/2;b.push([H,U])}})});let v={};return b.forEach(([E,I])=>{v[E]?v[E].push(I):v[E]=[I]}),Object.entries(v).map(([E,I])=>{let O=I.filter(R=>I.every(H=>!am(R,H,u)));return[Number(E),O]}).forEach(([E,I])=>{I.forEach(O=>{o.push(pt`<circle cx="${E}" cy="${O}" fill="${i}" r="${u/hS}">`)})}),Object.entries(v).filter(([E,I])=>I.length>1).map(([E,I])=>{let O=I.filter(R=>I.some(H=>am(R,H,u)));return[Number(E),O]}).map(([E,I])=>{I.sort((R,H)=>R<H?-1:1);let O=[];for(let R of I){let H=O.find(U=>U.some(N=>am(R,N,u)));H?H.push(R):O.push([R])}return[E,O.map(R=>[R[0],R[R.length-1]])]}).forEach(([E,I])=>{I.forEach(([O,R])=>{o.push(pt`<line x1="${E}" x2="${E}" y1="${O}" y2="${R}" stroke="${i}" stroke-width="${u/(hS/2)}" stroke-linecap="round">`)})}),o}},Uz=ze`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`,Mz=Object.defineProperty,jz=Object.getOwnPropertyDescriptor,qo=(r,e,t,i)=>{for(var n=i>1?void 0:i?jz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Mz(e,t,n),n},zi=class extends Ne{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){let r=ci.state.themeMode==="light"?this.size:this.size-36;return pt`<svg height="${r}" width="${r}">${Lz.generate(this.uri,r,r/4)}</svg>`}render(){let r={"wcm-dark":ci.state.themeMode==="dark"};return te`<div style="${`width: ${this.size}px`}" class="${li(r)}">${this.walletId||this.imageUrl?te`<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}" imageUrl="${Kt(this.imageUrl)}"></wcm-wallet-image>`:Je.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};zi.styles=[He.globalCss,Uz],qo([De()],zi.prototype,"uri",2),qo([De({type:Number})],zi.prototype,"size",2),qo([De()],zi.prototype,"imageId",2),qo([De()],zi.prototype,"walletId",2),qo([De()],zi.prototype,"imageUrl",2),zi=qo([qe("wcm-qrcode")],zi);Fz=ze`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`,$z=Object.defineProperty,Bz=Object.getOwnPropertyDescriptor,fS=(r,e,t,i)=>{for(var n=i>1?void 0:i?Bz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&$z(e,t,n),n},of=class extends Ne{constructor(){super(...arguments),this.onChange=()=>null}render(){return te`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${Je.SEARCH_ICON}`}};of.styles=[He.globalCss,Fz],fS([De()],of.prototype,"onChange",2),of=fS([qe("wcm-search-input")],of);kz=ze`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`,qz=Object.defineProperty,Hz=Object.getOwnPropertyDescriptor,zz=(r,e,t,i)=>{for(var n=i>1?void 0:i?Hz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&qz(e,t,n),n},cm=class extends Ne{render(){return te`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};cm.styles=[He.globalCss,kz],cm=zz([qe("wcm-spinner")],cm);Vz=ze`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`,Wz=Object.defineProperty,Kz=Object.getOwnPropertyDescriptor,lm=(r,e,t,i)=>{for(var n=i>1?void 0:i?Kz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Wz(e,t,n),n},Pc=class extends Ne{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){let r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return te`<span><slot class="${li(r)}"></slot></span>`}};Pc.styles=[He.globalCss,Vz],lm([De()],Pc.prototype,"variant",2),lm([De()],Pc.prototype,"color",2),Pc=lm([qe("wcm-text")],Pc);Gz=ze`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`,Jz=Object.defineProperty,Yz=Object.getOwnPropertyDescriptor,Tn=(r,e,t,i)=>{for(var n=i>1?void 0:i?Yz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Jz(e,t,n),n},hi=class extends Ne{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){kg.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return te`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Kt(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:Ie.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};hi.styles=[He.globalCss,Gz],Tn([De()],hi.prototype,"onClick",2),Tn([De()],hi.prototype,"name",2),Tn([De()],hi.prototype,"walletId",2),Tn([De()],hi.prototype,"label",2),Tn([De()],hi.prototype,"imageId",2),Tn([De({type:Boolean})],hi.prototype,"installed",2),Tn([De({type:Boolean})],hi.prototype,"recent",2),hi=Tn([qe("wcm-wallet-button")],hi);Zz=ze`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,Xz=Object.defineProperty,Qz=Object.getOwnPropertyDescriptor,af=(r,e,t,i)=>{for(var n=i>1?void 0:i?Qz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Xz(e,t,n),n},Ho=class extends Ne{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;let e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:Ie.getWalletIcon({id:this.walletId,image_id:this.imageId});return te`${e.length?te`<div><img src="${e}" alt="${this.id}"></div>`:Je.WALLET_PLACEHOLDER}`}};Ho.styles=[He.globalCss,Zz],af([De()],Ho.prototype,"walletId",2),af([De()],Ho.prototype,"imageId",2),af([De()],Ho.prototype,"imageUrl",2),Ho=af([qe("wcm-wallet-image")],Ho);eV=Object.defineProperty,tV=Object.getOwnPropertyDescriptor,dS=(r,e,t,i)=>{for(var n=i>1?void 0:i?tV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&eV(e,t,n),n},um=class extends Ne{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r!=null&&r.length&&await Promise.all(r.map(async e=>Ie.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(Qt.state.enableExplorer){await er.getRecomendedWallets(),yt.setIsDataLoaded(!0);let{recomendedWallets:r}=er.state,e=r.map(t=>Ie.getWalletIcon(t));await this.loadImages(e)}else yt.setIsDataLoaded(!0)}async preloadCustomImages(){let r=Ie.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),Fi.openToast("Failed preloading","error")}}};dS([tr()],um.prototype,"preload",2),um=dS([qe("wcm-explorer-context")],um);rV=Object.defineProperty,iV=Object.getOwnPropertyDescriptor,nV=(r,e,t,i)=>{for(var n=i>1?void 0:i?iV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&rV(e,t,n),n},pS=class extends Ne{constructor(){super(),this.unsubscribeTheme=void 0,He.setTheme(),this.unsubscribeTheme=ci.subscribe(He.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};pS=nV([qe("wcm-theme-context")],pS);sV=ze`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,oV=Object.defineProperty,aV=Object.getOwnPropertyDescriptor,cV=(r,e,t,i)=>{for(var n=i>1?void 0:i?aV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&oV(e,t,n),n},hm=class extends Ne{onGoToQrcode(){dt.push("Qrcode")}render(){let{recomendedWallets:r}=er.state,e=[...r,...r],t=pe.RECOMMENDED_WALLET_AMOUNT*2;return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${Je.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${Je.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((i,n)=>{let o=e[n%e.length];return o?te`<wcm-wallet-image walletId="${o.id}" imageId="${o.image_id}"></wcm-wallet-image>`:Je.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${Ie.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};hm.styles=[He.globalCss,sV],hm=cV([qe("wcm-android-wallet-selection")],hm);lV=ze`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`,uV=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,zo=(r,e,t,i)=>{for(var n=i>1?void 0:i?hV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&uV(e,t,n),n},Nn=class extends Ne{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;let t=(e=(r=ci.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:He.getPreset("--wcm-wallet-icon-large-border-radius"),i=0;t.includes("%")?i=88/100*parseInt(t,10):i=parseInt(t,10),i*=1.17;let n=317-i*1.57,o=425-i*1.8;return te`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${i}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${n}" stroke-dashoffset="${o}"></use></svg>`}render(){let r={"wcm-error":this.isError,"wcm-stale":this.isStale};return te`<div class="${li(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Nn.styles=[He.globalCss,lV],zo([De()],Nn.prototype,"walletId",2),zo([De()],Nn.prototype,"imageId",2),zo([De({type:Boolean})],Nn.prototype,"isError",2),zo([De({type:Boolean})],Nn.prototype,"isStale",2),zo([De()],Nn.prototype,"label",2),Nn=zo([qe("wcm-connector-waiting")],Nn);Vo={manualWallets(){var r,e;let{mobileWallets:t,desktopWallets:i}=Qt.state,n=(r=Vo.recentWallet())==null?void 0:r.id,o=pe.isMobile()?t:i,c=o?.filter(u=>n!==u.id);return(e=pe.isMobile()?c?.map(({id:u,name:f,links:d})=>({id:u,name:f,mobile:d,links:d})):c?.map(({id:u,name:f,links:d})=>({id:u,name:f,desktop:d,links:d})))!=null?e:[]},recentWallet(){return Ie.getRecentWallet()},recomendedWallets(r=!1){var e;let t=r||(e=Vo.recentWallet())==null?void 0:e.id,{recomendedWallets:i}=er.state;return i.filter(n=>t!==n.id)}},Ln={onConnecting(r){Ie.goToConnectingView(r)},manualWalletsTemplate(){return Vo.manualWallets().map(r=>te`<wcm-wallet-button walletId="${r.id}" name="${r.name}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return Vo.recomendedWallets(r).map(e=>te`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recentWalletTemplate(){let r=Vo.recentWallet();if(r)return te`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${Kt(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},fV=ze`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`,dV=Object.defineProperty,pV=Object.getOwnPropertyDescriptor,gV=(r,e,t,i)=>{for(var n=i>1?void 0:i?pV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&dV(e,t,n),n},fm=class extends Ne{render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=Qt.state,t=r!=="ALL"&&e,i=Ln.manualWalletsTemplate(),n=Ln.recomendedWalletsTemplate(),o=[Ln.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);let c=o.length>4||t,u=[];c?u=o.slice(0,3):u=o;let f=Boolean(u.length);return te`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${Je.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${Je.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${f?te`<wcm-modal-footer><div class="wcm-desktop-title">${Je.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${u} ${c?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};fm.styles=[He.globalCss,fV],fm=gV([qe("wcm-desktop-wallet-selection")],fm);mV=ze`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`,yV=Object.defineProperty,wV=Object.getOwnPropertyDescriptor,vV=(r,e,t,i)=>{for(var n=i>1?void 0:i?wV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&yV(e,t,n),n},dm=class extends Ne{render(){let{termsOfServiceUrl:r,privacyPolicyUrl:e}=Qt.state;return r??e?te`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?te`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?te`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};dm.styles=[He.globalCss,mV],dm=vV([qe("wcm-legal-notice")],dm);bV=ze`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`,EV=Object.defineProperty,_V=Object.getOwnPropertyDescriptor,xV=(r,e,t,i)=>{for(var n=i>1?void 0:i?_V(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&EV(e,t,n),n},pm=class extends Ne{onQrcode(){dt.push("Qrcode")}render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=Qt.state,t=r!=="ALL"&&e,i=Ln.manualWalletsTemplate(),n=Ln.recomendedWalletsTemplate(),o=[Ln.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);let c=o.length>8||t,u=[];c?u=o.slice(0,7):u=o;let f=Boolean(u.length);return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${Je.QRCODE_ICON}"></wcm-modal-header>${f?te`<wcm-modal-content><div>${u} ${c?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};pm.styles=[He.globalCss,bV],pm=xV([qe("wcm-mobile-wallet-selection")],pm);IV=ze`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`,SV=Object.defineProperty,CV=Object.getOwnPropertyDescriptor,gm=(r,e,t,i)=>{for(var n=i>1?void 0:i?CV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&SV(e,t,n),n},Wo=class extends Ne{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=ji.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Ie.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){document.querySelector("body")&&(r?document.getElementById("wcm-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}onCloseModal(r){r.target===r.currentTarget&&ji.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{let r=Ie.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([ki(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,ki(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();let r=Ie.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([ki(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,ki(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?ji.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){let r={"wcm-overlay":!0,"wcm-active":this.active};return te`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${li(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?te`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};Wo.styles=[He.globalCss,IV],gm([tr()],Wo.prototype,"open",2),gm([tr()],Wo.prototype,"active",2),Wo=gm([qe("wcm-modal")],Wo);DV=ze`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`,AV=Object.defineProperty,OV=Object.getOwnPropertyDescriptor,Tc=(r,e,t,i)=>{for(var n=i>1?void 0:i?OV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&AV(e,t,n),n},xs=class extends Ne{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){pe.isMobile()?dt.replace("MobileConnecting"):dt.replace("MobileQrcodeConnecting")}onDesktop(){dt.replace("DesktopConnecting")}onWeb(){dt.replace("WebConnecting")}render(){return te`<div>${this.isRetry?te`<slot></slot>`:null} ${this.isMobile?te`<wcm-button .onClick="${this.onMobile}" .iconLeft="${Je.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?te`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${Je.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?te`<wcm-button .onClick="${this.onWeb}" .iconLeft="${Je.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};xs.styles=[He.globalCss,DV],Tc([De({type:Boolean})],xs.prototype,"isMobile",2),Tc([De({type:Boolean})],xs.prototype,"isDesktop",2),Tc([De({type:Boolean})],xs.prototype,"isWeb",2),Tc([De({type:Boolean})],xs.prototype,"isRetry",2),xs=Tc([qe("wcm-platform-selection")],xs);RV=ze`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,PV=Object.defineProperty,TV=Object.getOwnPropertyDescriptor,NV=(r,e,t,i)=>{for(var n=i>1?void 0:i?TV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&PV(e,t,n),n},mm=class extends Ne{onClick(){dt.push("WalletExplorer")}render(){let{recomendedWallets:r}=er.state,e=Vo.manualWallets(),t=[...r,...e].reverse().slice(0,4);return te`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(i=>{let n=Ie.getWalletIcon(i);if(n)return te`<img src="${n}">`;let o=Ie.getWalletIcon({id:i.id});return o?te`<img src="${o}">`:Je.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>Je.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};mm.styles=[He.globalCss,RV],mm=NV([qe("wcm-view-all-wallets-button")],mm);LV=ze`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`,UV=Object.defineProperty,MV=Object.getOwnPropertyDescriptor,cf=(r,e,t,i)=>{for(var n=i>1?void 0:i?MV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&UV(e,t,n),n},Ko=class extends Ne{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{let{walletConnectUri:r}=yt.state;this.uri=r},0)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-qr-container")}render(){return te`<div class="wcm-qr-container">${this.uri?te`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-qrcode>`:te`<wcm-spinner></wcm-spinner>`}</div>`}};Ko.styles=[He.globalCss,LV],cf([De()],Ko.prototype,"walletId",2),cf([De()],Ko.prototype,"imageId",2),cf([tr()],Ko.prototype,"uri",2),Ko=cf([qe("wcm-walletconnect-qr")],Ko);jV=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,$V=(r,e,t,i)=>{for(var n=i>1?void 0:i?FV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&jV(e,t,n),n},ym=class extends Ne{viewTemplate(){return pe.isAndroid()?te`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:pe.isMobile()?te`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:te`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return te`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};ym.styles=[He.globalCss],ym=$V([qe("wcm-connect-wallet-view")],ym);BV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,kV=Object.defineProperty,qV=Object.getOwnPropertyDescriptor,gS=(r,e,t,i)=>{for(var n=i>1?void 0:i?qV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&kV(e,t,n),n},lf=class extends Ne{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){let{desktop:e,name:t}=pe.getWalletRouterData(),i=e?.native;if(i){let n=pe.formatNativeUrl(i,r,t);pe.openHref(n,"_self")}}openDesktopApp(){let{walletConnectUri:r}=yt.state,e=pe.getWalletRouterData();Ie.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isMobile:i,isWeb:n}=Ie.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isWeb="${n}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};lf.styles=[He.globalCss,BV],gS([tr()],lf.prototype,"isError",2),lf=gS([qe("wcm-desktop-connecting-view")],lf);HV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`,zV=Object.defineProperty,VV=Object.getOwnPropertyDescriptor,WV=(r,e,t,i)=>{for(var n=i>1?void 0:i?VV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&zV(e,t,n),n},wm=class extends Ne{onInstall(r){r&&pe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,homepage:i}=pe.getWalletRouterData();return te`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(i)}" .iconLeft="${Je.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};wm.styles=[He.globalCss,HV],wm=WV([qe("wcm-install-wallet-view")],wm);KV=ze`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`,GV=Object.defineProperty,JV=Object.getOwnPropertyDescriptor,mS=(r,e,t,i)=>{for(var n=i>1?void 0:i?JV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&GV(e,t,n),n},uf=class extends Ne{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){let{mobile:t,name:i}=pe.getWalletRouterData(),n=t?.native,o=t?.universal;if(n&&!e){let c=pe.formatNativeUrl(n,r,i);pe.openHref(c,"_self")}else if(o){let c=pe.formatUniversalUrl(o,r,i);pe.openHref(c,"_self")}}openMobileApp(r=!1){let{walletConnectUri:e}=yt.state,t=pe.getWalletRouterData();Ie.setRecentWallet(t),e&&this.onFormatAndRedirect(e,r)}onGoToAppStore(r){r&&pe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,app:i,mobile:n}=pe.getWalletRouterData(),{isWeb:o}=Ie.getCachedRouterWalletPlatforms(),c=i?.ios,u=n?.universal;return te`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${o}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${u?te`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Kt(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${Je.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(c)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};uf.styles=[He.globalCss,KV],mS([tr()],uf.prototype,"isError",2),uf=mS([qe("wcm-mobile-connecting-view")],uf);YV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,ZV=Object.defineProperty,XV=Object.getOwnPropertyDescriptor,QV=(r,e,t,i)=>{for(var n=i>1?void 0:i?XV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&ZV(e,t,n),n},vm=class extends Ne{render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isDesktop:i,isWeb:n}=Ie.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Kt(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${i}" .isWeb="${n}"></wcm-platform-selection></wcm-info-footer>`}};vm.styles=[He.globalCss,YV],vm=QV([qe("wcm-mobile-qr-connecting-view")],vm);eW=Object.defineProperty,tW=Object.getOwnPropertyDescriptor,rW=(r,e,t,i)=>{for(var n=i>1?void 0:i?tW(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&eW(e,t,n),n},bm=class extends Ne{render(){return te`<wcm-modal-header title="Scan the code" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};bm.styles=[He.globalCss],bm=rW([qe("wcm-qrcode-view")],bm);iW=ze`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`,nW=Object.defineProperty,sW=Object.getOwnPropertyDescriptor,Nc=(r,e,t,i)=>{for(var n=i>1?void 0:i?sW(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&nW(e,t,n),n},Em=40,Is=class extends Ne{constructor(){super(...arguments),this.loading=!er.state.wallets.listings.length,this.firstFetch=!er.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Ie.debounce(r=>{r.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=r,er.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),er.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return Ie.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){let{wallets:r,search:e}=er.state,{listings:t,total:i}=this.search?e:r;return i<=Em||t.length>=i}async fetchWallets(){var r;let{wallets:e,search:t}=er.state,{listings:i,total:n,page:o}=this.search?t:e;if(!this.endReached&&(this.firstFetch||n>Em&&i.length<n))try{this.loading=!0;let c=(r=yt.state.chains)==null?void 0:r.join(","),{listings:u}=await er.getWallets({page:this.firstFetch?1:o+1,entries:Em,search:this.search,version:2,chains:c}),f=u.map(d=>Ie.getWalletIcon(d));await Promise.all([...f.map(async d=>Ie.preloadImage(d)),pe.wait(300)]),this.endReached=this.isLastPage()}catch(c){console.error(c),Fi.openToast(Ie.getErrorMessage(c),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){pe.isAndroid()?Ie.handleMobileLinking(r):Ie.goToConnectingView(r)}onSearchChange(r){let{value:e}=r.target;this.searchDebounce(e)}render(){let{wallets:r,search:e}=er.state,{listings:t}=this.search?e:r,i=this.loading&&!t.length,n=this.search.length>=3,o=Ln.manualWalletsTemplate(),c=Ln.recomendedWalletsTemplate(!0);n&&(o=o.filter(({values:d})=>Ie.caseSafeIncludes(d[0],this.search)),c=c.filter(({values:d})=>Ie.caseSafeIncludes(d[0],this.search)));let u=!this.loading&&!t.length&&!c.length,f={"wcm-loading":i,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":u};return te`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${li(f)}"><div class="wcm-grid">${i?null:o} ${i?null:c} ${i?null:t.map(d=>te`${d?te`<wcm-wallet-button imageId="${d.image_id}" name="${d.name}" walletId="${d.id}" .onClick="${()=>this.onConnect(d)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${u?te`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!u&&this.loading?te`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Is.styles=[He.globalCss,iW],Nc([tr()],Is.prototype,"loading",2),Nc([tr()],Is.prototype,"firstFetch",2),Nc([tr()],Is.prototype,"search",2),Nc([tr()],Is.prototype,"endReached",2),Is=Nc([qe("wcm-wallet-explorer-view")],Is);oW=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,aW=Object.defineProperty,cW=Object.getOwnPropertyDescriptor,yS=(r,e,t,i)=>{for(var n=i>1?void 0:i?cW(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&aW(e,t,n),n},hf=class extends Ne{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){let{desktop:e,name:t}=pe.getWalletRouterData(),i=e?.universal;if(i){let n=pe.formatUniversalUrl(i,r,t);pe.openHref(n,"_blank")}}openWebWallet(){let{walletConnectUri:r}=yt.state,e=pe.getWalletRouterData();Ie.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isMobile:i,isDesktop:n}=Ie.getCachedRouterWalletPlatforms(),o=pe.isMobile();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isDesktop="${o?!1:n}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};hf.styles=[He.globalCss,oW],yS([tr()],hf.prototype,"isError",2),hf=yS([qe("wcm-web-connecting-view")],hf)});var ES={};nt(ES,{WalletConnectModal:()=>bS});var bS,_S=M(()=>{Hg();bS=class{constructor(e){this.openModal=ji.open,this.closeModal=ji.close,this.subscribeModal=ji.subscribe,this.setTheme=ci.setThemeConfig,ci.setThemeConfig(e),Qt.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>(vS(),wS));let e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),yt.setIsUiLoaded(!0)}}}});var CS=Z(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var lW=Yr(),Lc=Ra(),uW=H6();function hW(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var fW="wc",dW="ethereum_provider",pW=`${fW}@2:${dW}:`,gW="https://rpc.walletconnect.com/v1/",ff=["eth_sendTransaction","personal_sign"],mW=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],df=["chainChanged","accountsChanged"],yW=["message","disconnect","connect"],wW=Object.defineProperty,vW=Object.defineProperties,bW=Object.getOwnPropertyDescriptors,xS=Object.getOwnPropertySymbols,EW=Object.prototype.hasOwnProperty,_W=Object.prototype.propertyIsEnumerable,IS=(r,e,t)=>e in r?wW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_m=(r,e)=>{for(var t in e||(e={}))EW.call(e,t)&&IS(r,t,e[t]);if(xS)for(var t of xS(e))_W.call(e,t)&&IS(r,t,e[t]);return r},SS=(r,e)=>vW(r,bW(e));function xm(r){return Number(r[0].split(":")[1])}function Im(r){return`0x${r.toString(16)}`}function xW(r){let{chains:e,optionalChains:t,methods:i,optionalMethods:n,events:o,optionalEvents:c,rpcMap:u}=r;if(!Lc.isValidArray(e))throw new Error("Invalid chains");let f=e,d=i||ff,g=o||df,y={[xm(f)]:u[xm(f)]},b={chains:f,methods:d,events:g,rpcMap:y},v=o?.filter(R=>!df.includes(R)),E=i?.filter(R=>!ff.includes(R));if(!t&&!c&&!n&&!(v!=null&&v.length)&&!(E!=null&&E.length))return{required:b};let I=v?.length&&E?.length||!t,O={chains:[...new Set(I?f.concat(t||[]):t)],methods:[...new Set(d.concat(n||[]))],events:[...new Set(g.concat(c||[]))],rpcMap:u};return{required:b,optional:O}}var Uc=class{constructor(){this.events=new lW.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=pW,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new Uc;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:i}=xW(this.rpc);try{let n=await new Promise(async(c,u)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(SS(_m({namespaces:{[this.namespace]:t}},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic})).then(d=>{c(d)}).catch(d=>{u(new Error(d.message))})});if(!n)return;this.setChainIds(this.rpc.chains);let o=Lc.getAccountsFromNamespaces(n.namespaces,[this.namespace]);this.setAccounts(o),this.events.emit("connect",{chainId:Im(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.resetProperties()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:i}=t;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Im(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.resetProperties(),this.events.emit("session_delete",e),this.events.emit("disconnect",SS(_m({},Lc.getSdkError("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,i;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(i=this.modal)==null||i.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Im(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,i,n]=e.split(":");return{chainId:`${t}:${i}`,address:n}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,i;return{chains:((t=e.chains)==null?void 0:t.map(n=>this.formatChainId(n)))||[`${this.namespace}:1`],optionalChains:e.optionalChains?e.optionalChains.map(n=>this.formatChainId(n)):void 0,methods:e?.methods||ff,events:e?.events||df,optionalMethods:e?.optionalMethods||[],optionalEvents:e?.optionalEvents||[],rpcMap:e?.rpcMap||this.buildRpcMap(e.chains.concat(e.optionalChains||[]),e.projectId),showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:(i=e?.qrModalOptions)!=null?i:void 0,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let i={};return e.forEach(n=>{i[n]=this.getRpcUrl(n,t)}),i}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=xm(this.rpc.chains),this.signer=await uW.UniversalProvider.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{let{WalletConnectModal:i}=await Promise.resolve().then(function(){return hW((_S(),ES))});t=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(_m({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:i,rpcMap:n}=e;t&&Lc.isValidArray(t)&&(this.rpc.chains=t.map(o=>this.formatChainId(o)),t.forEach(o=>{this.rpc.rpcMap[o]=n?.[o]||this.getRpcUrl(o)})),i&&Lc.isValidArray(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(o=>this.formatChainId(o)),i.forEach(o=>{this.rpc.rpcMap[o]=n?.[o]||this.getRpcUrl(o)}))}getRpcUrl(e,t){var i;return((i=this.rpc.rpcMap)==null?void 0:i[e])||`${gW}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}resetProperties(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}},IW=Uc;Un.EthereumProvider=IW,Un.OPTIONAL_EVENTS=yW,Un.OPTIONAL_METHODS=mW,Un.REQUIRED_EVENTS=df,Un.REQUIRED_METHODS=ff,Un.default=Uc});nt(exports,{EthereumProvider:()=>DS.EthereumProvider});var DS=Or(CS());
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/

});
