
define("@ijstech/eth-wallet-web3modal",(require, exports)=>{
let global = window;
var qP=Object.create;var Sl=Object.defineProperty;var HP=Object.getOwnPropertyDescriptor;var zP=Object.getOwnPropertyNames;var VP=Object.getPrototypeOf,WP=Object.prototype.hasOwnProperty;var Qw=r=>Sl(r,"__esModule",{value:!0});var M=(r,e)=>()=>(r&&(e=r(r=0)),e);var Z=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),nt=(r,e)=>{Qw(r);for(var t in e)Sl(r,t,{get:e[t],enumerable:!0})},qt=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zP(e))!WP.call(r,i)&&i!=="default"&&Sl(r,i,{get:()=>e[i],enumerable:!(t=HP(e,i))||t.enumerable});return r},Or=r=>qt(Qw(Sl(r!=null?qP(VP(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Yr=Z((gW,Td)=>{"use strict";var Bs=typeof Reflect=="object"?Reflect:null,ev=Bs&&typeof Bs.apply=="function"?Bs.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},Cl;Bs&&typeof Bs.ownKeys=="function"?Cl=Bs.ownKeys:Object.getOwnPropertySymbols?Cl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Cl=function(e){return Object.getOwnPropertyNames(e)};function KP(r){console&&console.warn&&console.warn(r)}var tv=Number.isNaN||function(e){return e!==e};function Xe(){Xe.init.call(this)}Td.exports=Xe;Td.exports.once=ZP;Xe.EventEmitter=Xe;Xe.prototype._events=void 0;Xe.prototype._eventsCount=0;Xe.prototype._maxListeners=void 0;var rv=10;function Al(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Xe,"defaultMaxListeners",{enumerable:!0,get:function(){return rv},set:function(r){if(typeof r!="number"||r<0||tv(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");rv=r}});Xe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tv(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function iv(r){return r._maxListeners===void 0?Xe.defaultMaxListeners:r._maxListeners}Xe.prototype.getMaxListeners=function(){return iv(this)};Xe.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")ev(f,this,t);else for(var d=f.length,m=cv(f,d),i=0;i<d;++i)ev(m[i],this,t);return!0};function nv(r,e,t,i){var n,o,c;if(Al(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),c=o[e]),c===void 0)c=o[e]=t,++r._eventsCount;else if(typeof c=="function"?c=o[e]=i?[t,c]:[c,t]:i?c.unshift(t):c.push(t),n=iv(r),n>0&&c.length>n&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=c.length,KP(u)}return r}Xe.prototype.addListener=function(e,t){return nv(this,e,t,!1)};Xe.prototype.on=Xe.prototype.addListener;Xe.prototype.prependListener=function(e,t){return nv(this,e,t,!0)};function GP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sv(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=GP.bind(i);return n.listener=t,i.wrapFn=n,n}Xe.prototype.once=function(e,t){return Al(t),this.on(e,sv(this,e,t)),this};Xe.prototype.prependOnceListener=function(e,t){return Al(t),this.prependListener(e,sv(this,e,t)),this};Xe.prototype.removeListener=function(e,t){var i,n,o,c,u;if(Al(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(o=-1,c=i.length-1;c>=0;c--)if(i[c]===t||i[c].listener===t){u=i[c].listener,o=c;break}if(o<0)return this;o===0?i.shift():JP(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};Xe.prototype.off=Xe.prototype.removeListener;Xe.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),c;for(n=0;n<o.length;++n)c=o[n],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function ov(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?YP(n):cv(n,n.length)}Xe.prototype.listeners=function(e){return ov(this,e,!0)};Xe.prototype.rawListeners=function(e){return ov(this,e,!1)};Xe.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):av.call(r,e)};Xe.prototype.listenerCount=av;function av(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Xe.prototype.eventNames=function(){return this._eventsCount>0?Cl(this._events):[]};function cv(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function JP(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function YP(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function ZP(r,e){return new Promise(function(t,i){function n(c){r.removeListener(e,o),i(c)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}lv(r,e,o,{once:!0}),e!=="error"&&XP(r,n,{once:!0})})}function XP(r,e,t){typeof r.on=="function"&&lv(r,"error",e,t)}function lv(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(o){i.once&&r.removeEventListener(e,n),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var uv=Z(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});function QP(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,o=e&65535;return i*o+(t*o+i*n<<16>>>0)|0}mr.mul=Math.imul||QP;function eT(r,e){return r+e|0}mr.add=eT;function tT(r,e){return r-e|0}mr.sub=tT;function rT(r,e){return r<<e|r>>>32-e}mr.rotl=rT;function iT(r,e){return r<<32-e|r>>>e}mr.rotr=iT;function nT(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}mr.isInteger=Number.isInteger||nT;mr.MAX_SAFE_INTEGER=9007199254740991;mr.isSafeInteger=function(r){return mr.isInteger(r)&&r>=-mr.MAX_SAFE_INTEGER&&r<=mr.MAX_SAFE_INTEGER}});var ks=Z(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var hv=uv();function sT(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Me.readInt16BE=sT;function oT(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Me.readUint16BE=oT;function aT(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Me.readInt16LE=aT;function cT(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Me.readUint16LE=cT;function fv(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Me.writeUint16BE=fv;Me.writeInt16BE=fv;function dv(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Me.writeUint16LE=dv;Me.writeInt16LE=dv;function Nd(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Me.readInt32BE=Nd;function Ld(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Me.readUint32BE=Ld;function Ud(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Me.readInt32LE=Ud;function Md(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Me.readUint32LE=Md;function Dl(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Me.writeUint32BE=Dl;Me.writeInt32BE=Dl;function Ol(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Me.writeUint32LE=Ol;Me.writeInt32LE=Ol;function lT(r,e){e===void 0&&(e=0);var t=Nd(r,e),i=Nd(r,e+4);return t*4294967296+i-(i>>31)*4294967296}Me.readInt64BE=lT;function uT(r,e){e===void 0&&(e=0);var t=Ld(r,e),i=Ld(r,e+4);return t*4294967296+i}Me.readUint64BE=uT;function hT(r,e){e===void 0&&(e=0);var t=Ud(r,e),i=Ud(r,e+4);return i*4294967296+t-(t>>31)*4294967296}Me.readInt64LE=hT;function fT(r,e){e===void 0&&(e=0);var t=Md(r,e),i=Md(r,e+4);return i*4294967296+t}Me.readUint64LE=fT;function pv(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Dl(r/4294967296>>>0,e,t),Dl(r>>>0,e,t+4),e}Me.writeUint64BE=pv;Me.writeInt64BE=pv;function gv(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ol(r>>>0,e,t),Ol(r/4294967296>>>0,e,t+4),e}Me.writeUint64LE=gv;Me.writeInt64LE=gv;function dT(r,e,t){if(t===void 0&&(t=0),r%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,o=r/8+t-1;o>=t;o--)i+=e[o]*n,n*=256;return i}Me.readUintBE=dT;function pT(r,e,t){if(t===void 0&&(t=0),r%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,o=t;o<t+r/8;o++)i+=e[o]*n,n*=256;return i}Me.readUintLE=pT;function gT(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!hv.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,o=r/8+i-1;o>=i;o--)t[o]=e/n&255,n*=256;return t}Me.writeUintBE=gT;function mT(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!hv.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,o=i;o<i+r/8;o++)t[o]=e/n&255,n*=256;return t}Me.writeUintLE=mT;function yT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Me.readFloat32BE=yT;function wT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Me.readFloat32LE=wT;function vT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Me.readFloat64BE=vT;function bT(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Me.readFloat64LE=bT;function ET(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}Me.writeFloat32BE=ET;function _T(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}Me.writeFloat32LE=_T;function xT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}Me.writeFloat64BE=xT;function IT(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}Me.writeFloat64LE=IT});var Rr=Z(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});function ST(r){for(var e=0;e<r.length;e++)r[e]=0;return r}jd.wipe=ST});var yv=Z(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var Ht=ks(),Fd=Rr(),CT=20;function AT(r,e,t){for(var i=1634760805,n=857760878,o=2036477234,c=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],d=t[11]<<24|t[10]<<16|t[9]<<8|t[8],m=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=t[19]<<24|t[18]<<16|t[17]<<8|t[16],b=t[23]<<24|t[22]<<16|t[21]<<8|t[20],v=t[27]<<24|t[26]<<16|t[25]<<8|t[24],_=t[31]<<24|t[30]<<16|t[29]<<8|t[28],S=e[3]<<24|e[2]<<16|e[1]<<8|e[0],R=e[7]<<24|e[6]<<16|e[5]<<8|e[4],P=e[11]<<24|e[10]<<16|e[9]<<8|e[8],H=e[15]<<24|e[14]<<16|e[13]<<8|e[12],U=i,N=n,k=o,W=c,C=u,D=f,V=d,E=m,I=y,L=b,B=v,G=_,Q=S,ne=R,ee=P,oe=H,Ye=0;Ye<CT;Ye+=2)U=U+C|0,Q^=U,Q=Q>>>32-16|Q<<16,I=I+Q|0,C^=I,C=C>>>32-12|C<<12,N=N+D|0,ne^=N,ne=ne>>>32-16|ne<<16,L=L+ne|0,D^=L,D=D>>>32-12|D<<12,k=k+V|0,ee^=k,ee=ee>>>32-16|ee<<16,B=B+ee|0,V^=B,V=V>>>32-12|V<<12,W=W+E|0,oe^=W,oe=oe>>>32-16|oe<<16,G=G+oe|0,E^=G,E=E>>>32-12|E<<12,k=k+V|0,ee^=k,ee=ee>>>32-8|ee<<8,B=B+ee|0,V^=B,V=V>>>32-7|V<<7,W=W+E|0,oe^=W,oe=oe>>>32-8|oe<<8,G=G+oe|0,E^=G,E=E>>>32-7|E<<7,N=N+D|0,ne^=N,ne=ne>>>32-8|ne<<8,L=L+ne|0,D^=L,D=D>>>32-7|D<<7,U=U+C|0,Q^=U,Q=Q>>>32-8|Q<<8,I=I+Q|0,C^=I,C=C>>>32-7|C<<7,U=U+D|0,oe^=U,oe=oe>>>32-16|oe<<16,B=B+oe|0,D^=B,D=D>>>32-12|D<<12,N=N+V|0,Q^=N,Q=Q>>>32-16|Q<<16,G=G+Q|0,V^=G,V=V>>>32-12|V<<12,k=k+E|0,ne^=k,ne=ne>>>32-16|ne<<16,I=I+ne|0,E^=I,E=E>>>32-12|E<<12,W=W+C|0,ee^=W,ee=ee>>>32-16|ee<<16,L=L+ee|0,C^=L,C=C>>>32-12|C<<12,k=k+E|0,ne^=k,ne=ne>>>32-8|ne<<8,I=I+ne|0,E^=I,E=E>>>32-7|E<<7,W=W+C|0,ee^=W,ee=ee>>>32-8|ee<<8,L=L+ee|0,C^=L,C=C>>>32-7|C<<7,N=N+V|0,Q^=N,Q=Q>>>32-8|Q<<8,G=G+Q|0,V^=G,V=V>>>32-7|V<<7,U=U+D|0,oe^=U,oe=oe>>>32-8|oe<<8,B=B+oe|0,D^=B,D=D>>>32-7|D<<7;Ht.writeUint32LE(U+i|0,r,0),Ht.writeUint32LE(N+n|0,r,4),Ht.writeUint32LE(k+o|0,r,8),Ht.writeUint32LE(W+c|0,r,12),Ht.writeUint32LE(C+u|0,r,16),Ht.writeUint32LE(D+f|0,r,20),Ht.writeUint32LE(V+d|0,r,24),Ht.writeUint32LE(E+m|0,r,28),Ht.writeUint32LE(I+y|0,r,32),Ht.writeUint32LE(L+b|0,r,36),Ht.writeUint32LE(B+v|0,r,40),Ht.writeUint32LE(G+_|0,r,44),Ht.writeUint32LE(Q+S|0,r,48),Ht.writeUint32LE(ne+R|0,r,52),Ht.writeUint32LE(ee+P|0,r,56),Ht.writeUint32LE(oe+H|0,r,60)}function mv(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),c=o.length-e.length,o.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,c=n}for(var u=new Uint8Array(64),f=0;f<t.length;f+=64){AT(u,o,r);for(var d=f;d<f+64&&d<t.length;d++)i[d]=t[d]^u[d-f];OT(o,0,c)}return Fd.wipe(u),n===0&&Fd.wipe(o),i}Rl.streamXOR=mv;function DT(r,e,t,i){return i===void 0&&(i=0),Fd.wipe(t),mv(r,e,t,t,i)}Rl.stream=DT;function OT(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var Pl=Z(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});function RT(r,e,t){return~(r-1)&e|r-1&t}qs.select=RT;function PT(r,e){return(r|0)-(e|0)-1>>>31&1}qs.lessOrEqual=PT;function wv(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}qs.compare=wv;function TT(r,e){return r.length===0||e.length===0?!1:wv(r,e)!==0}qs.equal=TT});var bv=Z(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var NT=Pl(),Tl=Rr();_i.DIGEST_LENGTH=16;var vv=function(){function r(e){this.digestLength=_i.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(n>>>7|o<<9)&8191;var c=e[8]|e[9]<<8;this._r[4]=(o>>>4|c<<12)&255,this._r[5]=c>>>1&8190;var u=e[10]|e[11]<<8;this._r[6]=(c>>>14|u<<2)&8191;var f=e[12]|e[13]<<8;this._r[7]=(u>>>11|f<<5)&8065;var d=e[14]|e[15]<<8;this._r[8]=(f>>>8|d<<8)&8191,this._r[9]=d>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:1<<11,o=this._h[0],c=this._h[1],u=this._h[2],f=this._h[3],d=this._h[4],m=this._h[5],y=this._h[6],b=this._h[7],v=this._h[8],_=this._h[9],S=this._r[0],R=this._r[1],P=this._r[2],H=this._r[3],U=this._r[4],N=this._r[5],k=this._r[6],W=this._r[7],C=this._r[8],D=this._r[9];i>=16;){var V=e[t+0]|e[t+1]<<8;o+=V&8191;var E=e[t+2]|e[t+3]<<8;c+=(V>>>13|E<<3)&8191;var I=e[t+4]|e[t+5]<<8;u+=(E>>>10|I<<6)&8191;var L=e[t+6]|e[t+7]<<8;f+=(I>>>7|L<<9)&8191;var B=e[t+8]|e[t+9]<<8;d+=(L>>>4|B<<12)&8191,m+=B>>>1&8191;var G=e[t+10]|e[t+11]<<8;y+=(B>>>14|G<<2)&8191;var Q=e[t+12]|e[t+13]<<8;b+=(G>>>11|Q<<5)&8191;var ne=e[t+14]|e[t+15]<<8;v+=(Q>>>8|ne<<8)&8191,_+=ne>>>5|n;var ee=0,oe=ee;oe+=o*S,oe+=c*(5*D),oe+=u*(5*C),oe+=f*(5*W),oe+=d*(5*k),ee=oe>>>13,oe&=8191,oe+=m*(5*N),oe+=y*(5*U),oe+=b*(5*H),oe+=v*(5*P),oe+=_*(5*R),ee+=oe>>>13,oe&=8191;var Ye=ee;Ye+=o*R,Ye+=c*S,Ye+=u*(5*D),Ye+=f*(5*C),Ye+=d*(5*W),ee=Ye>>>13,Ye&=8191,Ye+=m*(5*k),Ye+=y*(5*N),Ye+=b*(5*U),Ye+=v*(5*H),Ye+=_*(5*P),ee+=Ye>>>13,Ye&=8191;var ue=ee;ue+=o*P,ue+=c*R,ue+=u*S,ue+=f*(5*D),ue+=d*(5*C),ee=ue>>>13,ue&=8191,ue+=m*(5*W),ue+=y*(5*k),ue+=b*(5*N),ue+=v*(5*U),ue+=_*(5*H),ee+=ue>>>13,ue&=8191;var ae=ee;ae+=o*H,ae+=c*P,ae+=u*R,ae+=f*S,ae+=d*(5*D),ee=ae>>>13,ae&=8191,ae+=m*(5*C),ae+=y*(5*W),ae+=b*(5*k),ae+=v*(5*N),ae+=_*(5*U),ee+=ae>>>13,ae&=8191;var me=ee;me+=o*U,me+=c*H,me+=u*P,me+=f*R,me+=d*S,ee=me>>>13,me&=8191,me+=m*(5*D),me+=y*(5*C),me+=b*(5*W),me+=v*(5*k),me+=_*(5*N),ee+=me>>>13,me&=8191;var ye=ee;ye+=o*N,ye+=c*U,ye+=u*H,ye+=f*P,ye+=d*R,ee=ye>>>13,ye&=8191,ye+=m*S,ye+=y*(5*D),ye+=b*(5*C),ye+=v*(5*W),ye+=_*(5*k),ee+=ye>>>13,ye&=8191;var ge=ee;ge+=o*k,ge+=c*N,ge+=u*U,ge+=f*H,ge+=d*P,ee=ge>>>13,ge&=8191,ge+=m*R,ge+=y*S,ge+=b*(5*D),ge+=v*(5*C),ge+=_*(5*W),ee+=ge>>>13,ge&=8191;var he=ee;he+=o*W,he+=c*k,he+=u*N,he+=f*U,he+=d*H,ee=he>>>13,he&=8191,he+=m*P,he+=y*R,he+=b*S,he+=v*(5*D),he+=_*(5*C),ee+=he>>>13,he&=8191;var fe=ee;fe+=o*C,fe+=c*W,fe+=u*k,fe+=f*N,fe+=d*U,ee=fe>>>13,fe&=8191,fe+=m*H,fe+=y*P,fe+=b*R,fe+=v*S,fe+=_*(5*D),ee+=fe>>>13,fe&=8191;var we=ee;we+=o*D,we+=c*C,we+=u*W,we+=f*k,we+=d*N,ee=we>>>13,we&=8191,we+=m*U,we+=y*H,we+=b*P,we+=v*R,we+=_*S,ee+=we>>>13,we&=8191,ee=(ee<<2)+ee|0,ee=ee+oe|0,oe=ee&8191,ee=ee>>>13,Ye+=ee,o=oe,c=Ye,u=ue,f=ae,d=me,m=ye,y=ge,b=he,v=fe,_=we,t+=16,i-=16}this._h[0]=o,this._h[1]=c,this._h[2]=u,this._h[3]=f,this._h[4]=d,this._h[5]=m,this._h[6]=y,this._h[7]=b,this._h[8]=v,this._h[9]=_},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,o,c,u;if(this._leftover){for(u=this._leftover,this._buffer[u++]=1;u<16;u++)this._buffer[u]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,u=2;u<10;u++)this._h[u]+=n,n=this._h[u]>>>13,this._h[u]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,u=1;u<10;u++)i[u]=this._h[u]+n,n=i[u]>>>13,i[u]&=8191;for(i[9]-=1<<13,o=(n^1)-1,u=0;u<10;u++)i[u]&=o;for(o=~o,u=0;u<10;u++)this._h[u]=this._h[u]&o|i[u];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,c=this._h[0]+this._pad[0],this._h[0]=c&65535,u=1;u<8;u++)c=(this._h[u]+this._pad[u]|0)+(c>>>16)|0,this._h[u]=c&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var o=0;o<n;o++)this._buffer[this._leftover+o]=e[t+o];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var o=0;o<i;o++)this._buffer[this._leftover+o]=e[t+o];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Tl.wipe(this._buffer),Tl.wipe(this._r),Tl.wipe(this._h),Tl.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();_i.Poly1305=vv;function LT(r,e){var t=new vv(r);t.update(e);var i=t.digest();return t.clean(),i}_i.oneTimeAuth=LT;function UT(r,e){return r.length!==_i.DIGEST_LENGTH||e.length!==_i.DIGEST_LENGTH?!1:NT.equal(r,e)}_i.equal=UT});var xv=Z(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});var Nl=yv(),MT=bv(),fa=Rr(),Ev=ks(),jT=Pl();xi.KEY_LENGTH=32;xi.NONCE_LENGTH=12;xi.TAG_LENGTH=16;var _v=new Uint8Array(16),FT=function(){function r(e){if(this.nonceLength=xi.NONCE_LENGTH,this.tagLength=xi.TAG_LENGTH,e.length!==xi.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);Nl.stream(this._key,o,c,4);var u=t.length+this.tagLength,f;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");f=n}else f=new Uint8Array(u);return Nl.streamXOR(this._key,o,t,f,4),this._authenticate(f.subarray(f.length-this.tagLength,f.length),c,f.subarray(0,f.length-this.tagLength),i),fa.wipe(o),f},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);Nl.stream(this._key,o,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),i),!jT.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var f=t.length-this.tagLength,d;if(n){if(n.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");d=n}else d=new Uint8Array(f);return Nl.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),d,4),fa.wipe(o),d},r.prototype.clean=function(){return fa.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var o=new MT.Poly1305(t);n&&(o.update(n),n.length%16>0&&o.update(_v.subarray(n.length%16))),o.update(i),i.length%16>0&&o.update(_v.subarray(i.length%16));var c=new Uint8Array(8);n&&Ev.writeUint64LE(n.length,c),o.update(c),Ev.writeUint64LE(i.length,c),o.update(c);for(var u=o.digest(),f=0;f<u.length;f++)e[f]=u[f];o.clean(),fa.wipe(u),fa.wipe(c)},r}();xi.ChaCha20Poly1305=FT});var Iv=Z($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});function $T(r){return typeof r.saveState!="undefined"&&typeof r.restoreState!="undefined"&&typeof r.cleanSavedState!="undefined"}$d.isSerializableHash=$T});var Cv=Z(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var Zr=Iv(),BT=Pl(),kT=Rr(),Sv=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=54^92;this._outer.update(i),Zr.isSerializableHash(this._inner)&&Zr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),kT.wipe(i)}return r.prototype.reset=function(){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Zr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Zr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();da.HMAC=Sv;function qT(r,e,t){var i=new Sv(r,e);i.update(t);var n=i.digest();return i.clean(),n}da.hmac=qT;da.equal=BT.equal});var Ov=Z(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var Av=Cv(),Dv=Rr(),HT=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var o=Av.hmac(this._hash,i,t);this._hmac=new Av.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Dv.wipe(this._buffer),Dv.wipe(this._counter),this._bufpos=0},r}();Bd.HKDF=HT});var Tv=Z(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.BrowserRandomSource=void 0;var Rv=65536,Pv=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self!="undefined"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=Rv)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,Rv)));return t}};Ll.BrowserRandomSource=Pv});var Nv=Z(()=>{});var Uv=Z(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.NodeRandomSource=void 0;var zT=Rr(),Lv=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof require!="undefined"){let e=Nv();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,zT.wipe)(t),i}};Ul.NodeRandomSource=Lv});var jv=Z(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.SystemRandomSource=void 0;var VT=Tv(),WT=Uv(),Mv=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new VT.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new WT.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Ml.SystemRandomSource=Mv});var pa=Z(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.randomStringForEntropy=zt.randomString=zt.randomUint32=zt.randomBytes=zt.defaultRandomSource=void 0;var KT=jv(),GT=ks(),Fv=Rr();zt.defaultRandomSource=new KT.SystemRandomSource;function kd(r,e=zt.defaultRandomSource){return e.randomBytes(r)}zt.randomBytes=kd;function JT(r=zt.defaultRandomSource){let e=kd(4,r),t=(0,GT.readUint32LE)(e);return(0,Fv.wipe)(e),t}zt.randomUint32=JT;var $v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Bv(r,e=$v,t=zt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,o=256-256%n;for(;r>0;){let c=kd(Math.ceil(r*256/o),t);for(let u=0;u<c.length&&r>0;u++){let f=c[u];f<o&&(i+=e.charAt(f%n),r--)}(0,Fv.wipe)(c)}return i}zt.randomString=Bv;function YT(r,e=$v,t=zt.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return Bv(i,e,t)}zt.randomStringForEntropy=YT});var qv=Z(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var jl=ks(),Fl=Rr();Qi.DIGEST_LENGTH=32;Qi.BLOCK_SIZE=64;var kv=function(){function r(){this.digestLength=Qi.DIGEST_LENGTH,this.blockSize=Qi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Fl.wipe(this._buffer),Fl.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(qd(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=qd(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,o=t<<3,c=t%64<56?64:128;this._buffer[i]=128;for(var u=i+1;u<c-8;u++)this._buffer[u]=0;jl.writeUint32BE(n,this._buffer,c-8),jl.writeUint32BE(o,this._buffer,c-4),qd(this._temp,this._state,this._buffer,0,c),this._finished=!0}for(var u=0;u<this.digestLength/4;u++)jl.writeUint32BE(this._state[u],e,u*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Fl.wipe(e.state),e.buffer&&Fl.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Qi.SHA256=kv;var ZT=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function qd(r,e,t,i,n){for(;n>=64;){for(var o=e[0],c=e[1],u=e[2],f=e[3],d=e[4],m=e[5],y=e[6],b=e[7],v=0;v<16;v++){var _=i+v*4;r[v]=jl.readUint32BE(t,_)}for(var v=16;v<64;v++){var S=r[v-2],R=(S>>>17|S<<32-17)^(S>>>19|S<<32-19)^S>>>10;S=r[v-15];var P=(S>>>7|S<<32-7)^(S>>>18|S<<32-18)^S>>>3;r[v]=(R+r[v-7]|0)+(P+r[v-16]|0)}for(var v=0;v<64;v++){var R=(((d>>>6|d<<32-6)^(d>>>11|d<<32-11)^(d>>>25|d<<32-25))+(d&m^~d&y)|0)+(b+(ZT[v]+r[v]|0)|0)|0,P=((o>>>2|o<<32-2)^(o>>>13|o<<32-13)^(o>>>22|o<<32-22))+(o&c^o&u^c&u)|0;b=y,y=m,m=d,d=f+R|0,f=u,u=c,c=o,o=R+P|0}e[0]+=o,e[1]+=c,e[2]+=u,e[3]+=f,e[4]+=d,e[5]+=m,e[6]+=y,e[7]+=b,i+=64,n-=64}return i}function XT(r){var e=new kv;e.update(r);var t=e.digest();return e.clean(),t}Qi.hash=XT});var Wv=Z(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.sharedKey=vt.generateKeyPair=vt.generateKeyPairFromSeed=vt.scalarMultBase=vt.scalarMult=vt.SHARED_KEY_LENGTH=vt.SECRET_KEY_LENGTH=vt.PUBLIC_KEY_LENGTH=void 0;var QT=pa(),e9=Rr();vt.PUBLIC_KEY_LENGTH=32;vt.SECRET_KEY_LENGTH=32;vt.SHARED_KEY_LENGTH=32;function Xr(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Hv=new Uint8Array(32);Hv[0]=9;var t9=Xr([56129,1]);function Hd(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function ga(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let o=i&(r[n]^e[n]);r[n]^=o,e[n]^=o}}function r9(r,e){let t=Xr(),i=Xr();for(let n=0;n<16;n++)i[n]=e[n];Hd(i),Hd(i),Hd(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let c=1;c<15;c++)t[c]=i[c]-65535-(t[c-1]>>16&1),t[c-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,ga(i,t,1-o)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function i9(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function $l(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Bl(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Ii(r,e,t){let i,n,o=0,c=0,u=0,f=0,d=0,m=0,y=0,b=0,v=0,_=0,S=0,R=0,P=0,H=0,U=0,N=0,k=0,W=0,C=0,D=0,V=0,E=0,I=0,L=0,B=0,G=0,Q=0,ne=0,ee=0,oe=0,Ye=0,ue=t[0],ae=t[1],me=t[2],ye=t[3],ge=t[4],he=t[5],fe=t[6],we=t[7],Se=t[8],De=t[9],je=t[10],Pe=t[11],Oe=t[12],$e=t[13],_e=t[14],Le=t[15];i=e[0],o+=i*ue,c+=i*ae,u+=i*me,f+=i*ye,d+=i*ge,m+=i*he,y+=i*fe,b+=i*we,v+=i*Se,_+=i*De,S+=i*je,R+=i*Pe,P+=i*Oe,H+=i*$e,U+=i*_e,N+=i*Le,i=e[1],c+=i*ue,u+=i*ae,f+=i*me,d+=i*ye,m+=i*ge,y+=i*he,b+=i*fe,v+=i*we,_+=i*Se,S+=i*De,R+=i*je,P+=i*Pe,H+=i*Oe,U+=i*$e,N+=i*_e,k+=i*Le,i=e[2],u+=i*ue,f+=i*ae,d+=i*me,m+=i*ye,y+=i*ge,b+=i*he,v+=i*fe,_+=i*we,S+=i*Se,R+=i*De,P+=i*je,H+=i*Pe,U+=i*Oe,N+=i*$e,k+=i*_e,W+=i*Le,i=e[3],f+=i*ue,d+=i*ae,m+=i*me,y+=i*ye,b+=i*ge,v+=i*he,_+=i*fe,S+=i*we,R+=i*Se,P+=i*De,H+=i*je,U+=i*Pe,N+=i*Oe,k+=i*$e,W+=i*_e,C+=i*Le,i=e[4],d+=i*ue,m+=i*ae,y+=i*me,b+=i*ye,v+=i*ge,_+=i*he,S+=i*fe,R+=i*we,P+=i*Se,H+=i*De,U+=i*je,N+=i*Pe,k+=i*Oe,W+=i*$e,C+=i*_e,D+=i*Le,i=e[5],m+=i*ue,y+=i*ae,b+=i*me,v+=i*ye,_+=i*ge,S+=i*he,R+=i*fe,P+=i*we,H+=i*Se,U+=i*De,N+=i*je,k+=i*Pe,W+=i*Oe,C+=i*$e,D+=i*_e,V+=i*Le,i=e[6],y+=i*ue,b+=i*ae,v+=i*me,_+=i*ye,S+=i*ge,R+=i*he,P+=i*fe,H+=i*we,U+=i*Se,N+=i*De,k+=i*je,W+=i*Pe,C+=i*Oe,D+=i*$e,V+=i*_e,E+=i*Le,i=e[7],b+=i*ue,v+=i*ae,_+=i*me,S+=i*ye,R+=i*ge,P+=i*he,H+=i*fe,U+=i*we,N+=i*Se,k+=i*De,W+=i*je,C+=i*Pe,D+=i*Oe,V+=i*$e,E+=i*_e,I+=i*Le,i=e[8],v+=i*ue,_+=i*ae,S+=i*me,R+=i*ye,P+=i*ge,H+=i*he,U+=i*fe,N+=i*we,k+=i*Se,W+=i*De,C+=i*je,D+=i*Pe,V+=i*Oe,E+=i*$e,I+=i*_e,L+=i*Le,i=e[9],_+=i*ue,S+=i*ae,R+=i*me,P+=i*ye,H+=i*ge,U+=i*he,N+=i*fe,k+=i*we,W+=i*Se,C+=i*De,D+=i*je,V+=i*Pe,E+=i*Oe,I+=i*$e,L+=i*_e,B+=i*Le,i=e[10],S+=i*ue,R+=i*ae,P+=i*me,H+=i*ye,U+=i*ge,N+=i*he,k+=i*fe,W+=i*we,C+=i*Se,D+=i*De,V+=i*je,E+=i*Pe,I+=i*Oe,L+=i*$e,B+=i*_e,G+=i*Le,i=e[11],R+=i*ue,P+=i*ae,H+=i*me,U+=i*ye,N+=i*ge,k+=i*he,W+=i*fe,C+=i*we,D+=i*Se,V+=i*De,E+=i*je,I+=i*Pe,L+=i*Oe,B+=i*$e,G+=i*_e,Q+=i*Le,i=e[12],P+=i*ue,H+=i*ae,U+=i*me,N+=i*ye,k+=i*ge,W+=i*he,C+=i*fe,D+=i*we,V+=i*Se,E+=i*De,I+=i*je,L+=i*Pe,B+=i*Oe,G+=i*$e,Q+=i*_e,ne+=i*Le,i=e[13],H+=i*ue,U+=i*ae,N+=i*me,k+=i*ye,W+=i*ge,C+=i*he,D+=i*fe,V+=i*we,E+=i*Se,I+=i*De,L+=i*je,B+=i*Pe,G+=i*Oe,Q+=i*$e,ne+=i*_e,ee+=i*Le,i=e[14],U+=i*ue,N+=i*ae,k+=i*me,W+=i*ye,C+=i*ge,D+=i*he,V+=i*fe,E+=i*we,I+=i*Se,L+=i*De,B+=i*je,G+=i*Pe,Q+=i*Oe,ne+=i*$e,ee+=i*_e,oe+=i*Le,i=e[15],N+=i*ue,k+=i*ae,W+=i*me,C+=i*ye,D+=i*ge,V+=i*he,E+=i*fe,I+=i*we,L+=i*Se,B+=i*De,G+=i*je,Q+=i*Pe,ne+=i*Oe,ee+=i*$e,oe+=i*_e,Ye+=i*Le,o+=38*k,c+=38*W,u+=38*C,f+=38*D,d+=38*V,m+=38*E,y+=38*I,b+=38*L,v+=38*B,_+=38*G,S+=38*Q,R+=38*ne,P+=38*ee,H+=38*oe,U+=38*Ye,n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),r[0]=o,r[1]=c,r[2]=u,r[3]=f,r[4]=d,r[5]=m,r[6]=y,r[7]=b,r[8]=v,r[9]=_,r[10]=S,r[11]=R,r[12]=P,r[13]=H,r[14]=U,r[15]=N}function ma(r,e){Ii(r,e,e)}function n9(r,e){let t=Xr();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)ma(t,t),i!==2&&i!==4&&Ii(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function zd(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Xr(),o=Xr(),c=Xr(),u=Xr(),f=Xr(),d=Xr();for(let v=0;v<31;v++)t[v]=r[v];t[31]=r[31]&127|64,t[0]&=248,i9(i,e);for(let v=0;v<16;v++)o[v]=i[v];n[0]=u[0]=1;for(let v=254;v>=0;--v){let _=t[v>>>3]>>>(v&7)&1;ga(n,o,_),ga(c,u,_),$l(f,n,c),Bl(n,n,c),$l(c,o,u),Bl(o,o,u),ma(u,f),ma(d,n),Ii(n,c,n),Ii(c,o,f),$l(f,n,c),Bl(n,n,c),ma(o,n),Bl(c,u,d),Ii(n,c,t9),$l(n,n,u),Ii(c,c,n),Ii(n,u,d),Ii(u,o,i),ma(o,f),ga(n,o,_),ga(c,u,_)}for(let v=0;v<16;v++)i[v+16]=n[v],i[v+32]=c[v],i[v+48]=o[v],i[v+64]=u[v];let m=i.subarray(32),y=i.subarray(16);n9(m,m),Ii(y,y,m);let b=new Uint8Array(32);return r9(b,y),b}vt.scalarMult=zd;function zv(r){return zd(r,Hv)}vt.scalarMultBase=zv;function Vv(r){if(r.length!==vt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${vt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:zv(e),secretKey:e}}vt.generateKeyPairFromSeed=Vv;function s9(r){let e=(0,QT.randomBytes)(32,r),t=Vv(e);return(0,e9.wipe)(e),t}vt.generateKeyPair=s9;function o9(r,e,t=!1){if(r.length!==vt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==vt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=zd(r,e);if(t){let n=0;for(let o=0;o<i.length;o++)n|=i[o];if(n===0)throw new Error("X25519: invalid shared key")}return i}vt.sharedKey=o9});function Kv(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var Gv=M(()=>{});function en(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}var ya=M(()=>{});function Hs(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?en(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}var kl=M(()=>{ya()});function ql(r,e){e||(e=r.reduce((n,o)=>n+o.length,0));let t=Hs(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return en(t)}var Vd=M(()=>{kl();ya()});function Jv(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var Yv=M(()=>{});function a9(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),c=o.charCodeAt(0);if(t[c]!==255)throw new TypeError(o+" is ambiguous");t[c]=n}var u=r.length,f=r.charAt(0),d=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function y(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var S=0,R=0,P=0,H=_.length;P!==H&&_[P]===0;)P++,S++;for(var U=(H-P)*m+1>>>0,N=new Uint8Array(U);P!==H;){for(var k=_[P],W=0,C=U-1;(k!==0||W<R)&&C!==-1;C--,W++)k+=256*N[C]>>>0,N[C]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");R=W,P++}for(var D=U-R;D!==U&&N[D]===0;)D++;for(var V=f.repeat(S);D<U;++D)V+=r.charAt(N[D]);return V}function b(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var S=0;if(_[S]!==" "){for(var R=0,P=0;_[S]===f;)R++,S++;for(var H=(_.length-S)*d+1>>>0,U=new Uint8Array(H);_[S];){var N=t[_.charCodeAt(S)];if(N===255)return;for(var k=0,W=H-1;(N!==0||k<P)&&W!==-1;W--,k++)N+=u*U[W]>>>0,U[W]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");P=k,S++}if(_[S]!==" "){for(var C=H-P;C!==H&&U[C]===0;)C++;for(var D=new Uint8Array(R+(H-C)),V=R;C!==H;)D[V++]=U[C++];return D}}}function v(_){var S=b(_);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:v}}var c9,l9,Zv,Xv=M(()=>{c9=a9,l9=c9,Zv=l9});var HW,Qv,Si,eb,tb,tn=M(()=>{HW=new Uint8Array(0),Qv=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Si=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},eb=r=>new TextEncoder().encode(r),tb=r=>new TextDecoder().decode(r)});var ib,nb,sb,ob,ab,zs,rn,u9,h9,bt,zr=M(()=>{Xv();tn();ib=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},nb=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ob(this,e)}},sb=class{constructor(e){this.decoders=e}or(e){return ob(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},ob=(r,e)=>new sb({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),ab=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new ib(e,t,i),this.decoder=new nb(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},zs=({name:r,prefix:e,encode:t,decode:i})=>new ab(r,e,t,i),rn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=Zv(t,e);return zs({prefix:r,name:e,encode:i,decode:o=>Si(n(o))})},u9=(r,e,t,i)=>{let n={};for(let m=0;m<e.length;++m)n[e[m]]=m;let o=r.length;for(;r[o-1]==="=";)--o;let c=new Uint8Array(o*t/8|0),u=0,f=0,d=0;for(let m=0;m<o;++m){let y=n[r[m]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<t|y,u+=t,u>=8&&(u-=8,c[d++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},h9=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,o="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,o+=e[n&u>>c];if(c&&(o+=e[n&u<<t-c]),i)for(;o.length*t&7;)o+="=";return o},bt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>zs({prefix:e,name:r,encode(n){return h9(n,i,t)},decode(n){return u9(n,i,t,r)}})});var Wd={};nt(Wd,{identity:()=>f9});var f9,cb=M(()=>{zr();tn();f9=zs({prefix:"\0",name:"identity",encode:r=>tb(r),decode:r=>eb(r)})});var Kd={};nt(Kd,{base2:()=>d9});var d9,lb=M(()=>{zr();d9=bt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Gd={};nt(Gd,{base8:()=>p9});var p9,ub=M(()=>{zr();p9=bt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Jd={};nt(Jd,{base10:()=>g9});var g9,hb=M(()=>{zr();g9=rn({prefix:"9",name:"base10",alphabet:"0123456789"})});var Yd={};nt(Yd,{base16:()=>m9,base16upper:()=>y9});var m9,y9,fb=M(()=>{zr();m9=bt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),y9=bt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Zd={};nt(Zd,{base32:()=>Vs,base32hex:()=>E9,base32hexpad:()=>x9,base32hexpadupper:()=>I9,base32hexupper:()=>_9,base32pad:()=>v9,base32padupper:()=>b9,base32upper:()=>w9,base32z:()=>S9});var Vs,w9,v9,b9,E9,_9,x9,I9,S9,Xd=M(()=>{zr();Vs=bt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),w9=bt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),v9=bt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),b9=bt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),E9=bt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_9=bt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),x9=bt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),I9=bt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),S9=bt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Qd={};nt(Qd,{base36:()=>C9,base36upper:()=>A9});var C9,A9,db=M(()=>{zr();C9=rn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),A9=rn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var ep={};nt(ep,{base58btc:()=>Qr,base58flickr:()=>D9});var Qr,D9,tp=M(()=>{zr();Qr=rn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),D9=rn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var rp={};nt(rp,{base64:()=>O9,base64pad:()=>R9,base64url:()=>P9,base64urlpad:()=>T9});var O9,R9,P9,T9,pb=M(()=>{zr();O9=bt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),R9=bt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),P9=bt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),T9=bt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var ip={};nt(ip,{base256emoji:()=>j9});function U9(r){return r.reduce((e,t)=>(e+=N9[t],e),"")}function M9(r){let e=[];for(let t of r){let i=L9[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var gb,N9,L9,j9,mb=M(()=>{zr();gb=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),N9=gb.reduce((r,e,t)=>(r[t]=e,r),[]),L9=gb.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);j9=zs({prefix:"\u{1F680}",name:"base256emoji",encode:U9,decode:M9})});function wb(r,e,t){e=e||[],t=t||0;for(var i=t;r>=k9;)e[t++]=r&255|yb,r/=128;for(;r&B9;)e[t++]=r&255|yb,r>>>=7;return e[t]=r|0,wb.bytes=t-i+1,e}function np(r,e){var t=0,e=e||0,i=0,n=e,o,c=r.length;do{if(n>=c)throw np.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=i<28?(o&vb)<<i:(o&vb)*Math.pow(2,i),i+=7}while(o>=H9);return np.bytes=n-e,t}var F9,yb,$9,B9,k9,q9,H9,vb,z9,V9,W9,K9,G9,J9,Y9,Z9,X9,Q9,eN,tN,wa,bb=M(()=>{F9=wb,yb=128,$9=127,B9=~$9,k9=Math.pow(2,31);q9=np,H9=128,vb=127;z9=Math.pow(2,7),V9=Math.pow(2,14),W9=Math.pow(2,21),K9=Math.pow(2,28),G9=Math.pow(2,35),J9=Math.pow(2,42),Y9=Math.pow(2,49),Z9=Math.pow(2,56),X9=Math.pow(2,63),Q9=function(r){return r<z9?1:r<V9?2:r<W9?3:r<K9?4:r<G9?5:r<J9?6:r<Y9?7:r<Z9?8:r<X9?9:10},eN={encode:F9,decode:q9,encodingLength:Q9},tN=eN,wa=tN});var va,Ws,Ks,Hl=M(()=>{bb();va=(r,e=0)=>[wa.decode(r,e),wa.decode.bytes],Ws=(r,e,t=0)=>(wa.encode(r,e,t),e),Ks=r=>wa.encodingLength(r)});var Vn,_b,xb,ba,Ea=M(()=>{tn();Hl();Vn=(r,e)=>{let t=e.byteLength,i=Ks(r),n=i+Ks(t),o=new Uint8Array(n+t);return Ws(r,o,0),Ws(t,o,i),o.set(e,n),new ba(r,t,e,o)},_b=r=>{let e=Si(r),[t,i]=va(e),[n,o]=va(e.subarray(i)),c=e.subarray(i+o);if(c.byteLength!==n)throw new Error("Incorrect length");return new ba(t,n,c,e)},xb=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Qv(r.bytes,e.bytes),ba=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var sp,Sb,op=M(()=>{Ea();sp=({name:r,code:e,encode:t})=>new Sb(r,e,t),Sb=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Vn(this.code,t):t.then(i=>Vn(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var ap={};nt(ap,{sha256:()=>rN,sha512:()=>iN});var Ab,rN,iN,Db=M(()=>{op();Ab=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),rN=sp({name:"sha2-256",code:18,encode:Ab("SHA-256")}),iN=sp({name:"sha2-512",code:19,encode:Ab("SHA-512")})});var cp={};nt(cp,{identity:()=>oN});var Ob,nN,Rb,sN,oN,Pb=M(()=>{tn();Ea();Ob=0,nN="identity",Rb=Si,sN=r=>Vn(Ob,Rb(r)),oN={code:Ob,name:nN,encode:Rb,digest:sN}});var Tb=M(()=>{tn()});var dK,pK,Nb=M(()=>{dK=new TextEncoder,pK=new TextDecoder});var Nt,lN,uN,hN,_a,fN,Lb,Ub,zl,Vl,dN,pN,gN,Mb=M(()=>{Hl();Ea();tp();Xd();tn();Nt=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Vl,byteLength:Vl,code:zl,version:zl,multihash:zl,bytes:zl,_baseCache:Vl,asCID:Vl})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==_a)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==fN)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Nt.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=Vn(e,t);return Nt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&xb(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return uN(t,n,e||Qr.encoder);default:return hN(t,n,e||Vs.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return pN(/^0\.0/,gN),!!(e&&(e[Ub]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Nt)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:o}=e;return new Nt(t,i,n,o||Lb(t,i,n.bytes))}else if(e!=null&&e[Ub]===!0){let{version:t,multihash:i,code:n}=e,o=_b(i);return Nt.create(t,n,o)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==_a)throw new Error(`Version 0 CID must use dag-pb (code: ${_a}) block encoding`);return new Nt(e,t,i,i.bytes)}case 1:{let n=Lb(e,t,i.bytes);return new Nt(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Nt.create(0,_a,e)}static createV1(e,t){return Nt.create(1,e,t)}static decode(e){let[t,i]=Nt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Nt.inspectBytes(e),i=t.size-t.multihashSize,n=Si(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),c=new ba(t.multihashCode,t.digestSize,o,n);return[t.version===0?Nt.createV0(c):Nt.createV1(t.codec,c),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[y,b]=va(e.subarray(t));return t+=b,y},n=i(),o=_a;if(n===18?(n=0,t=0):n===1&&(o=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let c=t,u=i(),f=i(),d=t+f,m=d-c;return{version:n,codec:o,multihashCode:u,digestSize:f,multihashSize:m,size:d}}static parse(e,t){let[i,n]=lN(e,t),o=Nt.decode(n);return o._baseCache.set(i,e),o}},lN=(r,e)=>{switch(r[0]){case"Q":{let t=e||Qr;return[Qr.prefix,t.decode(`${Qr.prefix}${r}`)]}case Qr.prefix:{let t=e||Qr;return[Qr.prefix,t.decode(r)]}case Vs.prefix:{let t=e||Vs;return[Vs.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},uN=(r,e,t)=>{let{prefix:i}=t;if(i!==Qr.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let o=t.encode(r).slice(1);return e.set(i,o),o}else return n},hN=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let o=t.encode(r);return e.set(i,o),o}else return n},_a=112,fN=18,Lb=(r,e,t)=>{let i=Ks(r),n=i+Ks(e),o=new Uint8Array(n+t.byteLength);return Ws(r,o,0),Ws(e,o,i),o.set(t,n),o},Ub=Symbol.for("@ipld/js-cid/CID"),zl={writable:!1,configurable:!1,enumerable:!0},Vl={writable:!1,enumerable:!1,configurable:!1},dN="0.0.0-dev",pN=(r,e)=>{if(r.test(dN))console.warn(e);else throw new Error(e)},gN=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var jb=M(()=>{Mb();Hl();tn();op();Ea()});var lp,IK,Fb=M(()=>{cb();lb();ub();hb();fb();Xd();db();tp();pb();mb();Db();Pb();Tb();Nb();jb();lp={...Wd,...Kd,...Gd,...Jd,...Yd,...Zd,...Qd,...ep,...rp,...ip},IK={...ap,...cp}});function $b(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var Bb,up,mN,Wl,hp=M(()=>{Fb();kl();Bb=$b("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),up=$b("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=Hs(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),mN={utf8:Bb,"utf-8":Bb,hex:lp.base16,latin1:up,ascii:up,binary:up,...lp},Wl=mN});function ei(r,e="utf8"){let t=Wl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?en(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var fp=M(()=>{hp();ya()});function Ci(r,e="utf8"){let t=Wl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var dp=M(()=>{hp()});function kb(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=Hs(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return en(t)}var qb=M(()=>{kl();ya()});var pp={};nt(pp,{compare:()=>Kv,concat:()=>ql,equals:()=>Jv,fromString:()=>ei,toString:()=>Ci,xor:()=>kb});var gp=M(()=>{Gv();Vd();Yv();fp();dp();qb()});var e2=Z(ht=>{"use strict";var Hb=ht&&ht.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ht,"__esModule",{value:!0});ht.getNodeVersion=ht.detectOS=ht.parseUserAgent=ht.browserName=ht.detect=ht.ReactNativeInfo=ht.BotInfo=ht.SearchBotDeviceInfo=ht.NodeInfo=ht.BrowserInfo=void 0;var zb=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();ht.BrowserInfo=zb;var Vb=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}();ht.NodeInfo=Vb;var Wb=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();ht.SearchBotDeviceInfo=Wb;var Kb=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();ht.BotInfo=Kb;var Gb=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();ht.ReactNativeInfo=Gb;var yN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Jb=3,vN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",yN]],Yb=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function bN(r){return r?mp(r):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Gb:typeof navigator!="undefined"?mp(navigator.userAgent):Qb()}ht.detect=bN;function Zb(r){return r!==""&&vN.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var o=n.exec(r);return!!o&&[i,o]},!1)}function EN(r){var e=Zb(r);return e?e[0]:null}ht.browserName=EN;function mp(r){var e=Zb(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new Kb;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Jb&&(n=Hb(Hb([],n,!0),_N(Jb-n.length),!0)):n=[];var o=n.join("."),c=Xb(r),u=wN.exec(r);return u&&u[1]?new Wb(t,o,c,u[1]):new zb(t,o,c)}ht.parseUserAgent=mp;function Xb(r){for(var e=0,t=Yb.length;e<t;e++){var i=Yb[e],n=i[0],o=i[1],c=o.exec(r);if(c)return n}return null}ht.detectOS=Xb;function Qb(){var r=typeof process!="undefined"&&process.version;return r?new Vb(process.version.slice(1)):null}ht.getNodeVersion=Qb;function _N(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var yr={};nt(yr,{__assign:()=>wp,__asyncDelegator:()=>UN,__asyncGenerator:()=>LN,__asyncValues:()=>MN,__await:()=>xa,__awaiter:()=>DN,__classPrivateFieldGet:()=>BN,__classPrivateFieldSet:()=>kN,__createBinding:()=>RN,__decorate:()=>SN,__exportStar:()=>PN,__extends:()=>xN,__generator:()=>ON,__importDefault:()=>$N,__importStar:()=>FN,__makeTemplateObject:()=>jN,__metadata:()=>AN,__param:()=>CN,__read:()=>t2,__rest:()=>IN,__spread:()=>TN,__spreadArrays:()=>NN,__values:()=>vp});function xN(r,e){yp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function IN(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function SN(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(o=(n<3?c(o):n>3?c(e,t,o):c(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o}function CN(r,e){return function(t,i){e(t,i,r)}}function AN(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function DN(r,e,t,i){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function u(m){try{d(i.next(m))}catch(y){c(y)}}function f(m){try{d(i.throw(m))}catch(y){c(y)}}function d(m){m.done?o(m.value):n(m.value).then(u,f)}d((i=i.apply(r,e||[])).next())})}function ON(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(d){return function(m){return f([d,m])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=d[0]&2?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(m){d=[6,m],n=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function RN(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function PN(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function vp(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function t2(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(u){c={error:u}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return o}function TN(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(t2(arguments[e]));return r}function NN(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,n++)i[n]=o[c];return i}function xa(r){return this instanceof xa?(this.v=r,this):new xa(r)}function LN(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,o=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(b){i[b]&&(n[b]=function(v){return new Promise(function(_,S){o.push([b,v,_,S])>1||u(b,v)})})}function u(b,v){try{f(i[b](v))}catch(_){y(o[0][3],_)}}function f(b){b.value instanceof xa?Promise.resolve(b.value.v).then(d,m):y(o[0][2],b)}function d(b){u("next",b)}function m(b){u("throw",b)}function y(b,v){b(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function UN(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,o){e[n]=r[n]?function(c){return(t=!t)?{value:xa(r[n](c)),done:n==="return"}:o?o(c):c}:o}}function MN(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof vp=="function"?vp(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(c){return new Promise(function(u,f){c=r[o](c),n(u,f,c.done,c.value)})}}function n(o,c,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},c)}}function jN(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function FN(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function $N(r){return r&&r.__esModule?r:{default:r}}function BN(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function kN(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var yp,wp,wr=M(()=>{yp=function(r,e){return yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},yp(r,e)};wp=function(){return wp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},wp.apply(this,arguments)}});var r2=Z(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.delay=void 0;function qN(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}Kl.delay=qN});var i2=Z(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ONE_THOUSAND=Gs.ONE_HUNDRED=void 0;Gs.ONE_HUNDRED=100;Gs.ONE_THOUSAND=1e3});var n2=Z(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.ONE_YEAR=ie.FOUR_WEEKS=ie.THREE_WEEKS=ie.TWO_WEEKS=ie.ONE_WEEK=ie.THIRTY_DAYS=ie.SEVEN_DAYS=ie.FIVE_DAYS=ie.THREE_DAYS=ie.ONE_DAY=ie.TWENTY_FOUR_HOURS=ie.TWELVE_HOURS=ie.SIX_HOURS=ie.THREE_HOURS=ie.ONE_HOUR=ie.SIXTY_MINUTES=ie.THIRTY_MINUTES=ie.TEN_MINUTES=ie.FIVE_MINUTES=ie.ONE_MINUTE=ie.SIXTY_SECONDS=ie.THIRTY_SECONDS=ie.TEN_SECONDS=ie.FIVE_SECONDS=ie.ONE_SECOND=void 0;ie.ONE_SECOND=1;ie.FIVE_SECONDS=5;ie.TEN_SECONDS=10;ie.THIRTY_SECONDS=30;ie.SIXTY_SECONDS=60;ie.ONE_MINUTE=ie.SIXTY_SECONDS;ie.FIVE_MINUTES=ie.ONE_MINUTE*5;ie.TEN_MINUTES=ie.ONE_MINUTE*10;ie.THIRTY_MINUTES=ie.ONE_MINUTE*30;ie.SIXTY_MINUTES=ie.ONE_MINUTE*60;ie.ONE_HOUR=ie.SIXTY_MINUTES;ie.THREE_HOURS=ie.ONE_HOUR*3;ie.SIX_HOURS=ie.ONE_HOUR*6;ie.TWELVE_HOURS=ie.ONE_HOUR*12;ie.TWENTY_FOUR_HOURS=ie.ONE_HOUR*24;ie.ONE_DAY=ie.TWENTY_FOUR_HOURS;ie.THREE_DAYS=ie.ONE_DAY*3;ie.FIVE_DAYS=ie.ONE_DAY*5;ie.SEVEN_DAYS=ie.ONE_DAY*7;ie.THIRTY_DAYS=ie.ONE_DAY*30;ie.ONE_WEEK=ie.SEVEN_DAYS;ie.TWO_WEEKS=ie.ONE_WEEK*2;ie.THREE_WEEKS=ie.ONE_WEEK*3;ie.FOUR_WEEKS=ie.ONE_WEEK*4;ie.ONE_YEAR=ie.ONE_DAY*365});var bp=Z(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});var s2=(wr(),yr);s2.__exportStar(i2(),Gl);s2.__exportStar(n2(),Gl)});var a2=Z(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.fromMiliseconds=Js.toMiliseconds=void 0;var o2=bp();function HN(r){return r*o2.ONE_THOUSAND}Js.toMiliseconds=HN;function zN(r){return Math.floor(r/o2.ONE_THOUSAND)}Js.fromMiliseconds=zN});var l2=Z(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var c2=(wr(),yr);c2.__exportStar(r2(),Jl);c2.__exportStar(a2(),Jl)});var u2=Z(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Watch=void 0;var Ep=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed!="undefined")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t=="undefined")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};Ia.Watch=Ep;Ia.default=Ep});var f2=Z(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.IWatch=void 0;var h2=class{};Yl.IWatch=h2});var d2=Z(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});var VN=(wr(),yr);VN.__exportStar(f2(),_p)});var Wn=Z(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var Zl=(wr(),yr);Zl.__exportStar(l2(),Ys);Zl.__exportStar(u2(),Ys);Zl.__exportStar(d2(),Ys);Zl.__exportStar(bp(),Ys)});var xp=Z(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.getLocalStorage=st.getLocalStorageOrThrow=st.getCrypto=st.getCryptoOrThrow=st.getLocation=st.getLocationOrThrow=st.getNavigator=st.getNavigatorOrThrow=st.getDocument=st.getDocumentOrThrow=st.getFromWindowOrThrow=st.getFromWindow=void 0;function Kn(r){let e;return typeof window!="undefined"&&typeof window[r]!="undefined"&&(e=window[r]),e}st.getFromWindow=Kn;function Zs(r){let e=Kn(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}st.getFromWindowOrThrow=Zs;function WN(){return Zs("document")}st.getDocumentOrThrow=WN;function KN(){return Kn("document")}st.getDocument=KN;function GN(){return Zs("navigator")}st.getNavigatorOrThrow=GN;function JN(){return Kn("navigator")}st.getNavigator=JN;function YN(){return Zs("location")}st.getLocationOrThrow=YN;function ZN(){return Kn("location")}st.getLocation=ZN;function XN(){return Zs("crypto")}st.getCryptoOrThrow=XN;function QN(){return Kn("crypto")}st.getCrypto=QN;function eL(){return Zs("localStorage")}st.getLocalStorageOrThrow=eL;function tL(){return Kn("localStorage")}st.getLocalStorage=tL});var g2=Z(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.getWindowMetadata=void 0;var p2=xp();function rL(){let r,e;try{r=p2.getDocumentOrThrow(),e=p2.getLocationOrThrow()}catch{return null}function t(){let y=r.getElementsByTagName("link"),b=[];for(let v=0;v<y.length;v++){let _=y[v],S=_.getAttribute("rel");if(S&&S.toLowerCase().indexOf("icon")>-1){let R=_.getAttribute("href");if(R)if(R.toLowerCase().indexOf("https:")===-1&&R.toLowerCase().indexOf("http:")===-1&&R.indexOf("//")!==0){let P=e.protocol+"//"+e.host;if(R.indexOf("/")===0)P+=R;else{let H=e.pathname.split("/");H.pop(),P+=H.join("/")+"/"+R}b.push(P)}else if(R.indexOf("//")===0){let P=e.protocol+R;b.push(P)}else b.push(R)}}return b}function i(...y){let b=r.getElementsByTagName("meta");for(let v=0;v<b.length;v++){let _=b[v],S=["itemprop","property","name"].map(R=>_.getAttribute(R)).filter(R=>R?y.includes(R):!1);if(S.length&&S){let R=_.getAttribute("content");if(R)return R}}return""}function n(){let y=i("name","og:site_name","og:title","twitter:title");return y||(y=r.title),y}function o(){return i("description","og:description","twitter:description","keywords")}let c=n(),u=o(),f=e.origin,d=t();return{description:u,url:f,icons:d,name:c}}Xl.getWindowMetadata=rL});var y2=Z((rG,m2)=>{"use strict";m2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var _2=Z((iG,E2)=>{"use strict";var w2="%[a-f0-9]{2}",v2=new RegExp("("+w2+")|([^%]+?)","gi"),b2=new RegExp("("+w2+")+","gi");function Ip(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],Ip(t),Ip(i))}function iL(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(v2)||[],t=1;t<e.length;t++)r=Ip(e,t).join(""),e=r.match(v2)||[];return r}}function nL(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=b2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=iL(t[0]);i!==t[0]&&(e[t[0]]=i)}t=b2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),o=0;o<n.length;o++){var c=n[o];r=r.replace(new RegExp(c,"g"),e[c])}return r}E2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return nL(r)}}});var I2=Z((nG,x2)=>{"use strict";x2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var C2=Z((sG,S2)=>{"use strict";S2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),o=0;o<i.length;o++){var c=i[o],u=r[c];(n?e.indexOf(c)!==-1:e(c,u,r))&&(t[c]=u)}return t}});var L2=Z(ar=>{"use strict";var sL=y2(),oL=_2(),A2=I2(),aL=C2(),cL=r=>r==null,Sp=Symbol("encodeFragmentIdentifier");function lL(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),"[",n,"]"].join("")]:[...t,[xt(e,r),"[",xt(n,r),"]=",xt(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),"[]"].join("")]:[...t,[xt(e,r),"[]=",xt(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[xt(e,r),":list="].join("")]:[...t,[xt(e,r),":list=",xt(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[xt(t,r),e,xt(n,r)].join("")]:[[i,xt(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,xt(e,r)]:[...t,[xt(e,r),"=",xt(i,r)].join("")]}}function uL(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let o=typeof i=="string"&&i.includes(r.arrayFormatSeparator),c=typeof i=="string"&&!o&&Ai(i,r).includes(r.arrayFormatSeparator);i=c?Ai(i,r):i;let u=o||c?i.split(r.arrayFormatSeparator).map(f=>Ai(f,r)):i===null?i:Ai(i,r);n[t]=u};case"bracket-separator":return(t,i,n)=>{let o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o){n[t]=i&&Ai(i,r);return}let c=i===null?[]:i.split(r.arrayFormatSeparator).map(u=>Ai(u,r));if(n[t]===void 0){n[t]=c;return}n[t]=[].concat(n[t],c)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function D2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function xt(r,e){return e.encode?e.strict?sL(r):encodeURIComponent(r):r}function Ai(r,e){return e.decode?oL(r):r}function O2(r){return Array.isArray(r)?r.sort():typeof r=="object"?O2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function R2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function hL(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function P2(r){r=R2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function T2(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function N2(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),D2(e.arrayFormatSeparator);let t=uL(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[o,c]=A2(e.decode?n.replace(/\+/g," "):n,"=");c=c===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?c:Ai(c,e),t(Ai(o,e),c,i)}for(let n of Object.keys(i)){let o=i[n];if(typeof o=="object"&&o!==null)for(let c of Object.keys(o))o[c]=T2(o[c],e);else i[n]=T2(o,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,o)=>{let c=i[o];return Boolean(c)&&typeof c=="object"&&!Array.isArray(c)?n[o]=O2(c):n[o]=c,n},Object.create(null))}ar.extract=P2;ar.parse=N2;ar.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),D2(e.arrayFormatSeparator);let t=c=>e.skipNull&&cL(r[c])||e.skipEmptyString&&r[c]==="",i=lL(e),n={};for(let c of Object.keys(r))t(c)||(n[c]=r[c]);let o=Object.keys(n);return e.sort!==!1&&o.sort(e.sort),o.map(c=>{let u=r[c];return u===void 0?"":u===null?xt(c,e):Array.isArray(u)?u.length===0&&e.arrayFormat==="bracket-separator"?xt(c,e)+"[]":u.reduce(i(c),[]).join("&"):xt(c,e)+"="+xt(u,e)}).filter(c=>c.length>0).join("&")};ar.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=A2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:N2(P2(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Ai(i,e)}:{})};ar.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[Sp]:!0},e);let t=R2(r.url).split("?")[0]||"",i=ar.extract(r.url),n=ar.parse(i,{sort:!1}),o=Object.assign(n,r.query),c=ar.stringify(o,e);c&&(c=`?${c}`);let u=hL(r.url);return r.fragmentIdentifier&&(u=`#${e[Sp]?xt(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${c}${u}`};ar.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[Sp]:!1},t);let{url:i,query:n,fragmentIdentifier:o}=ar.parseUrl(r,t);return ar.stringifyUrl({url:i,query:aL(n,e),fragmentIdentifier:o},t)};ar.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,o)=>!e(n,o);return ar.pick(r,i,t)}});var U2=M(()=>{});function nn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function fL(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function dL(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function pL(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function Sa(r,e,t){return(!t.length?dL(r,e.length):pL(r,e.length))?fL(r,e):!1}function Ca(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var Cp=M(()=>{});function gL(r){return Ql(r.method)&&eu(r.params)}function Ql(r){return Ca(r,"subscribe")}function eu(r){return Sa(r,["topic"],[])}function mL(r){return tu(r.method)&&ru(r.params)}function tu(r){return Ca(r,"publish")}function ru(r){return Sa(r,["message","topic","ttl"],["prompt","tag"])}function yL(r){return iu(r.method)&&nu(r.params)}function iu(r){return Ca(r,"unsubscribe")}function nu(r){return Sa(r,["id","topic"],[])}function wL(r){return su(r.method)&&ou(r.params)}function su(r){return Ca(r,"subscription")}function ou(r){return Sa(r,["id","data"],[])}var Ap=M(()=>{Cp()});function vL(r){if(!Ql(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!eu(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return nn(e,"topic"),e}function bL(r){if(!tu(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!ru(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return nn(e,"topic"),nn(e,"message"),nn(e,"ttl","number"),e}function EL(r){if(!iu(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!nu(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return nn(e,"id"),e}function _L(r){if(!su(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!ou(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return nn(e,"id"),nn(e,"data"),e}var M2=M(()=>{Cp();Ap()});var xL,j2=M(()=>{xL={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var F2={};nt(F2,{RELAY_JSONRPC:()=>xL,isPublishMethod:()=>tu,isPublishParams:()=>ru,isPublishRequest:()=>mL,isSubscribeMethod:()=>Ql,isSubscribeParams:()=>eu,isSubscribeRequest:()=>gL,isSubscriptionMethod:()=>su,isSubscriptionParams:()=>ou,isSubscriptionRequest:()=>wL,isUnsubscribeMethod:()=>iu,isUnsubscribeParams:()=>nu,isUnsubscribeRequest:()=>yL,parsePublishRequest:()=>bL,parseSubscribeRequest:()=>vL,parseSubscriptionRequest:()=>_L,parseUnsubscribeRequest:()=>EL});var $2=M(()=>{U2();M2();j2();Ap()});var Ra=Z(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});var B2=xv(),IL=Ov(),k2=pa(),Dp=qv(),SL=Wv(),ft=(gp(),pp),CL=e2(),Xs=Wn(),Aa=xp(),AL=g2(),DL=L2(),OL=($2(),F2);function q2(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var H2=q2(SL),au=q2(DL),cu=":";function z2(r){let[e,t]=r.split(cu);return{namespace:e,reference:t}}function V2(r){let{namespace:e,reference:t}=r;return[e,t].join(cu)}function Op(r){let[e,t,i]=r.split(cu);return{namespace:e,reference:t,address:i}}function W2(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(cu)}function Rp(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function K2(r){let{address:e}=Op(r);return e}function G2(r){let{namespace:e,reference:t}=Op(r);return V2({namespace:e,reference:t})}function RL(r,e){let{namespace:t,reference:i}=z2(e);return W2({namespace:t,reference:i,address:r})}function PL(r){return Rp(r,K2)}function J2(r){return Rp(r,G2)}function TL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function NL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...J2(n.accounts))}),t}function LL(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...lu(i,n))}),t}function lu(r,e){return r.includes(":")?[r]:e.chains||[]}var uu=r=>r?.split(":"),Y2=r=>{let e=r&&uu(r);if(e)return e[3]},UL=r=>{let e=r&&uu(r);if(e)return e[2]+":"+e[3]},Z2=r=>{let e=r&&uu(r);if(e)return e.pop()},ML=(r,e)=>{let t=`${r.domain} wants you to sign in with your Ethereum account:`,i=Z2(e),n=r.statement,o=`URI: ${r.aud}`,c=`Version: ${r.version}`,u=`Chain ID: ${Y2(e)}`,f=`Nonce: ${r.nonce}`,d=`Issued At: ${r.iat}`,m=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(y=>`- ${y}`).join(`
`)}`:void 0;return[t,i,"",n,"",o,c,u,f,d,m].filter(y=>y!=null).join(`
`)},Pp="base10",Zt="base16",hu="base64pad",fu="utf8",Tp=0,Qs=1,jL=0,X2=1,Np=12,Lp=32;function FL(){let r=H2.generateKeyPair();return{privateKey:ft.toString(r.secretKey,Zt),publicKey:ft.toString(r.publicKey,Zt)}}function $L(){let r=k2.randomBytes(Lp);return ft.toString(r,Zt)}function BL(r,e){let t=H2.sharedKey(ft.fromString(r,Zt),ft.fromString(e,Zt)),i=new IL.HKDF(Dp.SHA256,t).expand(Lp);return ft.toString(i,Zt)}function kL(r){let e=Dp.hash(ft.fromString(r,Zt));return ft.toString(e,Zt)}function qL(r){let e=Dp.hash(ft.fromString(r,fu));return ft.toString(e,Zt)}function Q2(r){return ft.fromString(`${r}`,Pp)}function Da(r){return Number(ft.toString(r,Pp))}function HL(r){let e=Q2(typeof r.type<"u"?r.type:Tp);if(Da(e)===Qs&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?ft.fromString(r.senderPublicKey,Zt):void 0,i=typeof r.iv<"u"?ft.fromString(r.iv,Zt):k2.randomBytes(Np),n=new B2.ChaCha20Poly1305(ft.fromString(r.symKey,Zt)).seal(i,ft.fromString(r.message,fu));return eE({type:e,sealed:n,iv:i,senderPublicKey:t})}function zL(r){let e=new B2.ChaCha20Poly1305(ft.fromString(r.symKey,Zt)),{sealed:t,iv:i}=Up(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return ft.toString(n,fu)}function eE(r){if(Da(r.type)===Qs){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ft.toString(ft.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),hu)}return ft.toString(ft.concat([r.type,r.iv,r.sealed]),hu)}function Up(r){let e=ft.fromString(r,hu),t=e.slice(jL,X2),i=X2;if(Da(t)===Qs){let u=i+Lp,f=u+Np,d=e.slice(i,u),m=e.slice(u,f),y=e.slice(f);return{type:t,sealed:y,iv:m,senderPublicKey:d}}let n=i+Np,o=e.slice(i,n),c=e.slice(n);return{type:t,sealed:c,iv:o}}function VL(r,e){let t=Up(r);return tE({type:Da(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?ft.toString(t.senderPublicKey,Zt):void 0,receiverPublicKey:e?.receiverPublicKey})}function tE(r){let e=r?.type||Tp;if(e===Qs){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function WL(r){return r.type===Qs&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var KL=Object.defineProperty,rE=Object.getOwnPropertySymbols,GL=Object.prototype.hasOwnProperty,JL=Object.prototype.propertyIsEnumerable,iE=(r,e,t)=>e in r?KL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nE=(r,e)=>{for(var t in e||(e={}))GL.call(e,t)&&iE(r,t,e[t]);if(rE)for(var t of rE(e))JL.call(e,t)&&iE(r,t,e[t]);return r},sE="ReactNative",sn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},du=" ",YL=":",oE="/",Mp=2,ZL=1e3,aE="js";function jp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function cE(){return!Aa.getDocument()&&!!Aa.getNavigator()&&navigator.product===sE}function lE(){return!jp()&&!!Aa.getNavigator()}function pu(){return cE()?sn.reactNative:jp()?sn.node:lE()?sn.browser:sn.unknown}function uE(r,e){let t=au.parse(r);return t=nE(nE({},t),e),r=au.stringify(t),r}function XL(){return AL.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function QL(r,e){var t;let i=pu(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=Aa.getLocation())==null?void 0:t.host)||"unknown"),n}function hE(){if(typeof(global==null?void 0:global.Platform)<"u"){let{OS:t,Version:i}=global.Platform;return[t,i].join("-")}let r=CL.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function fE(){var r;let e=pu();return e===sn.browser?[e,((r=Aa.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function dE(r,e,t){let i=hE(),n=fE();return[[r,e].join("-"),[aE,t].join("-"),i,n].join("/")}function eU({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:o,useOnCloseEvent:c}){let u=t.split("?"),f=dE(r,e,i),d={auth:n,ua:f,projectId:o,useOnCloseEvent:c||void 0},m=uE(u[1]||"",d);return u[0]+"?"+m}function tU(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function rU(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function pE(r,e=Mp){return gE(r.split(oE),e)}function iU(r){return pE(r).join(du)}function on(r,e){return r.filter(t=>e.includes(t)).length===r.length}function gE(r,e=Mp){return r.slice(Math.max(r.length-e,0))}function nU(r){return Object.fromEntries(r.entries())}function sU(r){return new Map(Object.entries(r))}function oU(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var aU=r=>r;function mE(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function cU(r){return r.split(du).map(e=>mE(e)).join(du)}function lU(r=Xs.FIVE_MINUTES,e){let t=Xs.toMiliseconds(r||Xs.FIVE_MINUTES),i,n,o;return{resolve:c=>{o&&i&&(clearTimeout(o),i(c))},reject:c=>{o&&n&&(clearTimeout(o),n(c))},done:()=>new Promise((c,u)=>{o=setTimeout(()=>{u(new Error(e))},t),i=c,n=u})}}function uU(r,e,t){return new Promise(async(i,n)=>{let o=setTimeout(()=>n(new Error(t)),e);try{let c=await r;i(c)}catch(c){n(c)}clearTimeout(o)})}function Fp(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function hU(r){return Fp("topic",r)}function fU(r){return Fp("id",r)}function dU(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function pU(r,e){return Xs.fromMiliseconds((e||Date.now())+Xs.toMiliseconds(r))}function gU(r){return Date.now()>=Xs.toMiliseconds(r)}function mU(r,e){return`${r}${e?`:${e}`:""}`}function an(r=[],e=[]){return[...new Set([...r,...e])]}async function yU({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let n=(typeof t=="string"?JSON.parse(t):t)?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));let o=`${n}/wc?requestId=${r}&sessionTopic=${e}`,c=pu();c===sn.browser?window.open(o,"_self","noreferrer noopener"):c===sn.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}var yE="irn";function wU(r){return r?.relay||{protocol:yE}}function vU(r){let e=OL.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var bU=Object.defineProperty,wE=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,_U=Object.prototype.propertyIsEnumerable,vE=(r,e,t)=>e in r?bU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xU=(r,e)=>{for(var t in e||(e={}))EU.call(e,t)&&vE(r,t,e[t]);if(wE)for(var t of wE(e))_U.call(e,t)&&vE(r,t,e[t]);return r};function bE(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let o=n.replace(i,""),c=r[n];t[o]=c}}),t}function IU(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),o=typeof t<"u"?r.substring(t):"",c=au.parse(o);return{protocol:i,topic:EE(n[0]),version:parseInt(n[1],10),symKey:c.symKey,relay:bE(c)}}function EE(r){return r.startsWith("//")?r.substring(2):r}function _E(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let o=t+e+n;r[n]&&(i[o]=r[n])}),i}function SU(r){return`${r.protocol}:${r.topic}@${r.version}?`+au.stringify(xU({symKey:r.symKey},_E(r.relay)))}var CU=Object.defineProperty,AU=Object.defineProperties,DU=Object.getOwnPropertyDescriptors,xE=Object.getOwnPropertySymbols,OU=Object.prototype.hasOwnProperty,RU=Object.prototype.propertyIsEnumerable,IE=(r,e,t)=>e in r?CU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,PU=(r,e)=>{for(var t in e||(e={}))OU.call(e,t)&&IE(r,t,e[t]);if(xE)for(var t of xE(e))RU.call(e,t)&&IE(r,t,e[t]);return r},TU=(r,e)=>AU(r,DU(e));function Gn(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function SE(r){let e=[];return Object.values(r).forEach(t=>{e.push(...Gn(t.accounts))}),e}function CE(r,e){let t=[];return Object.values(r).forEach(i=>{Gn(i.accounts).includes(e)&&t.push(...i.methods)}),t}function AE(r,e){let t=[];return Object.values(r).forEach(i=>{Gn(i.accounts).includes(e)&&t.push(...i.events)}),t}function NU(r,e){let t=UE(r,e);if(t)throw new Error(t.message);let i={};for(let[n,o]of Object.entries(r))i[n]={methods:o.methods,events:o.events,chains:o.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return i}function LU(r){let{proposal:{requiredNamespaces:e,optionalNamespaces:t={}},supportedNamespaces:i}=r,n=Bp(e),o=Bp(t),c={};Object.keys(i).forEach(d=>{let m=i[d].chains,y=i[d].methods,b=i[d].events,v=i[d].accounts;c[d]={chains:m,methods:y,events:b,accounts:v}});let u=jE(e,c,"approve()");if(u)throw new Error(u.message);let f={};return Object.keys(n).forEach(d=>{let m=i[d].chains.filter(_=>{var S,R;return(R=(S=n[d])==null?void 0:S.chains)==null?void 0:R.includes(_)}),y=i[d].methods.filter(_=>{var S,R;return(R=(S=n[d])==null?void 0:S.methods)==null?void 0:R.includes(_)}),b=i[d].events.filter(_=>{var S,R;return(R=(S=n[d])==null?void 0:S.events)==null?void 0:R.includes(_)}),v=m.map(_=>i[d].accounts.filter(S=>S.includes(`${_}:`))).flat();f[d]={chains:m,methods:y,events:b,accounts:v}}),Object.keys(o).forEach(d=>{var m,y,b,v,_,S;if(!i[d])return;let R=(y=(m=o[d])==null?void 0:m.chains)==null?void 0:y.filter(N=>i[d].chains.includes(N)),P=i[d].methods.filter(N=>{var k,W;return(W=(k=o[d])==null?void 0:k.methods)==null?void 0:W.includes(N)}),H=i[d].events.filter(N=>{var k,W;return(W=(k=o[d])==null?void 0:k.events)==null?void 0:W.includes(N)}),U=R?.map(N=>i[d].accounts.filter(k=>k.includes(N))).flat();f[d]={chains:an((b=f[d])==null?void 0:b.chains,R),methods:an((v=f[d])==null?void 0:v.methods,P),events:an((_=f[d])==null?void 0:_.events,H),accounts:an((S=f[d])==null?void 0:S.accounts,U)}}),f}function $p(r){return r.includes(":")}function DE(r){return $p(r)?r.split(":")[0]:r}function Bp(r){var e,t,i;let n={};if(!gu(r))return n;for(let[o,c]of Object.entries(r)){let u=$p(o)?[o]:c.chains,f=c.methods||[],d=c.events||[],m=DE(o);n[m]=TU(PU({},n[m]),{chains:an(u,(e=n[m])==null?void 0:e.chains),methods:an(f,(t=n[m])==null?void 0:t.methods),events:an(d,(i=n[m])==null?void 0:i.events)})}return n}var UU={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},MU={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Di(r,e){let{message:t,code:i}=MU[r];return{message:e?`${t} ${e}`:t,code:i}}function Jn(r,e){let{message:t,code:i}=UU[r];return{message:e?`${t} ${e}`:t,code:i}}function Oa(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function gu(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function cn(r){return typeof r>"u"}function vr(r,e){return e&&cn(r)?!0:typeof r=="string"&&!!r.trim().length}function mu(r,e){return e&&cn(r)?!0:typeof r=="number"&&!isNaN(r)}function jU(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),o=!0;return on(n,i)?(i.forEach(c=>{let{accounts:u,methods:f,events:d}=r.namespaces[c],m=Gn(u),y=t[c];(!on(lu(c,y),m)||!on(y.methods,f)||!on(y.events,d))&&(o=!1)}),o):!1}function yu(r){return vr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function OE(r){if(vr(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&yu(t)}}return!1}function FU(r){if(vr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function $U(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function BU(r){return r?.topic}function kU(r,e){let t=null;return vr(r?.publicKey,!1)||(t=Di("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function kp(r){let e=!0;return Oa(r)?r.length&&(e=r.every(t=>vr(t,!1))):e=!1,e}function RE(r,e,t){let i=null;return Oa(e)?e.forEach(n=>{i||(!yu(n)||!n.includes(r))&&(i=Jn("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=Jn("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function PE(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let o=RE(i,lu(i,n),`${e} requiredNamespace`);o&&(t=o)}),t}function TE(r,e){let t=null;return Oa(r)?r.forEach(i=>{t||OE(i)||(t=Jn("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Jn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function NE(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=TE(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function LE(r,e){let t=null;return kp(r?.methods)?kp(r?.events)||(t=Jn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Jn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function qp(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=LE(i,`${e}, namespace`);n&&(t=n)}),t}function qU(r,e,t){let i=null;if(r&&gu(r)){let n=qp(r,e);n&&(i=n);let o=PE(r,e);o&&(i=o)}else i=Di("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function UE(r,e){let t=null;if(r&&gu(r)){let i=qp(r,e);i&&(t=i);let n=NE(r,e);n&&(t=n)}else t=Di("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function ME(r){return vr(r.protocol,!0)}function HU(r,e){let t=!1;return e&&!r?t=!0:r&&Oa(r)&&r.length&&r.forEach(i=>{t=ME(i)}),t}function zU(r){return typeof r=="number"}function VU(r){return typeof r<"u"&&typeof r!==null}function WU(r){return!(!r||typeof r!="object"||!r.code||!mu(r.code,!1)||!r.message||!vr(r.message,!1))}function KU(r){return!(cn(r)||!vr(r.method,!1))}function GU(r){return!(cn(r)||cn(r.result)&&cn(r.error)||!mu(r.id,!1)||!vr(r.jsonrpc,!1))}function JU(r){return!(cn(r)||!vr(r.name,!1))}function YU(r,e){return!(!yu(e)||!SE(r).includes(e))}function ZU(r,e,t){return vr(t,!1)?CE(r,e).includes(t):!1}function XU(r,e,t){return vr(t,!1)?AE(r,e).includes(t):!1}function jE(r,e,t){let i=null,n=QU(r),o=eM(e),c=Object.keys(n),u=Object.keys(o),f=FE(Object.keys(r)),d=FE(Object.keys(e)),m=f.filter(y=>!d.includes(y));return m.length&&(i=Di("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${m.toString()}
      Received: ${Object.keys(e).toString()}`)),on(c,u)||(i=Di("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(y=>{if(!y.includes(":")||i)return;let b=Gn(e[y].accounts);b.includes(y)||(i=Di("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${y}
        Required: ${y}
        Approved: ${b.toString()}`))}),c.forEach(y=>{i||(on(n[y].methods,o[y].methods)?on(n[y].events,o[y].events)||(i=Di("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${y}`)):i=Di("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${y}`))}),i}function QU(r){let e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function FE(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function eM(r){let e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:Gn(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(o=>o.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function tM(r,e){return mu(r,!1)&&r<=e.max&&r>=e.min}F.BASE10=Pp,F.BASE16=Zt,F.BASE64=hu,F.COLON=YL,F.DEFAULT_DEPTH=Mp,F.EMPTY_SPACE=du,F.ENV_MAP=sn,F.ONE_THOUSAND=ZL,F.REACT_NATIVE_PRODUCT=sE,F.RELAYER_DEFAULT_PROTOCOL=yE,F.SDK_TYPE=aE,F.SLASH=oE,F.TYPE_0=Tp,F.TYPE_1=Qs,F.UTF8=fu,F.appendToQueryString=uE,F.assertType=rU,F.buildApprovedNamespaces=LU,F.calcExpiry=pU,F.capitalize=cU,F.capitalizeWord=mE,F.createDelayedPromise=lU,F.createExpiringPromise=uU,F.decodeTypeByte=Da,F.decrypt=zL,F.deriveSymKey=BL,F.deserialize=Up,F.encodeTypeByte=Q2,F.encrypt=HL,F.engineEvent=mU,F.enumify=aU,F.formatAccountId=W2,F.formatAccountWithChain=RL,F.formatChainId=V2,F.formatExpirerTarget=Fp,F.formatIdTarget=fU,F.formatMessage=ML,F.formatMessageContext=iU,F.formatRelayParams=_E,F.formatRelayRpcUrl=eU,F.formatTopicTarget=hU,F.formatUA=dE,F.formatUri=SU,F.generateKeyPair=FL,F.generateRandomBytes32=$L,F.getAccountsChains=Gn,F.getAccountsFromNamespaces=TL,F.getAddressFromAccount=K2,F.getAddressesFromAccounts=PL,F.getAppMetadata=XL,F.getChainFromAccount=G2,F.getChainsFromAccounts=J2,F.getChainsFromNamespace=lu,F.getChainsFromNamespaces=NL,F.getChainsFromRequiredNamespaces=LL,F.getDidAddress=Z2,F.getDidAddressSegments=uu,F.getDidChainId=Y2,F.getEnvironment=pu,F.getHttpUrl=tU,F.getInternalError=Di,F.getJavascriptID=fE,F.getJavascriptOS=hE,F.getLastItems=gE,F.getNamespacedDidChainId=UL,F.getNamespacesChains=SE,F.getNamespacesEventsForChainId=AE,F.getNamespacesMethodsForChainId=CE,F.getRelayClientMetadata=QL,F.getRelayProtocolApi=vU,F.getRelayProtocolName=wU,F.getRequiredNamespacesFromNamespaces=NU,F.getSdkError=Jn,F.getUniqueValues=Rp,F.handleDeeplinkRedirect=yU,F.hasOverlap=on,F.hashKey=kL,F.hashMessage=qL,F.isBrowser=lE,F.isCaipNamespace=$p,F.isConformingNamespaces=jE,F.isExpired=gU,F.isNode=jp,F.isProposalStruct=$U,F.isReactNative=cE,F.isSessionCompatible=jU,F.isSessionStruct=BU,F.isTypeOneEnvelope=WL,F.isUndefined=cn,F.isValidAccountId=OE,F.isValidAccounts=TE,F.isValidActions=LE,F.isValidArray=Oa,F.isValidChainId=yu,F.isValidChains=RE,F.isValidController=kU,F.isValidErrorReason=WU,F.isValidEvent=JU,F.isValidId=zU,F.isValidNamespaceAccounts=NE,F.isValidNamespaceActions=qp,F.isValidNamespaceChains=PE,F.isValidNamespaceMethodsOrEvents=kp,F.isValidNamespaces=UE,F.isValidNamespacesChainId=YU,F.isValidNamespacesEvent=XU,F.isValidNamespacesRequest=ZU,F.isValidNumber=mu,F.isValidObject=gu,F.isValidParams=VU,F.isValidRelay=ME,F.isValidRelays=HU,F.isValidRequest=KU,F.isValidRequestExpiry=tM,F.isValidRequiredNamespaces=qU,F.isValidResponse=GU,F.isValidString=vr,F.isValidUrl=FU,F.mapEntries=oU,F.mapToObj=nU,F.mergeArrays=an,F.normalizeNamespaces=Bp,F.objToMap=sU,F.parseAccountId=Op,F.parseChainId=z2,F.parseContextNames=pE,F.parseExpirerTarget=dU,F.parseNamespaceKey=DE,F.parseRelayParams=bE,F.parseTopic=EE,F.parseUri=IU,F.serialize=eE,F.validateDecoding=VL,F.validateEncoding=tE});var Hp=Z(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});function rM(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}wu.safeJsonParse=rM;function iM(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t=="undefined"?null:t)}wu.safeJsonStringify=iM});var $E=Z((EG,vu)=>{"use strict";(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global!="undefined"&&global.localStorage?vu.exports=global.localStorage:typeof window!="undefined"&&window.localStorage?vu.exports=window.localStorage:vu.exports=new e})()});var kE=Z(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.IKeyValueStorage=void 0;var BE=class{};bu.IKeyValueStorage=BE});var qE=Z(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.parseEntry=void 0;var nM=Hp();function sM(r){var e;return[r[0],nM.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}Eu.parseEntry=sM});var zE=Z(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});var HE=(wr(),yr);HE.__exportStar(kE(),_u);HE.__exportStar(qE(),_u)});var WE=Z(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.KeyValueStorage=void 0;var eo=(wr(),yr),VE=Hp(),oM=eo.__importDefault($E()),aM=zE(),zp=class{constructor(){this.localStorage=oM.default}getKeys(){return eo.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return eo.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(aM.parseEntry)})}getItem(e){return eo.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return VE.safeJsonParse(t)})}setItem(e,t){return eo.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,VE.safeJsonStringify(t))})}removeItem(e){return eo.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Pa.KeyValueStorage=zp;Pa.default=zp});var KE,GE=M(()=>{KE=class{}});var Vp={};nt(Vp,{IEvents:()=>KE});var Wp=M(()=>{GE()});var YE=Z(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.IHeartBeat=void 0;var cM=(Wp(),Vp),JE=class extends cM.IEvents{constructor(e){super()}};xu.IHeartBeat=JE});var Gp=Z(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var lM=(wr(),yr);lM.__exportStar(YE(),Kp)});var ZE=Z(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.HEARTBEAT_EVENTS=to.HEARTBEAT_INTERVAL=void 0;var uM=Wn();to.HEARTBEAT_INTERVAL=uM.FIVE_SECONDS;to.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var Yp=Z(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var hM=(wr(),yr);hM.__exportStar(ZE(),Jp)});var XE=Z(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.HeartBeat=void 0;var Zp=(wr(),yr),fM=Yr(),dM=Wn(),pM=Gp(),Xp=Yp(),Iu=class extends pM.IHeartBeat{constructor(e){super(e);this.events=new fM.EventEmitter,this.interval=Xp.HEARTBEAT_INTERVAL,this.interval=(e==null?void 0:e.interval)||Xp.HEARTBEAT_INTERVAL}static init(e){return Zp.__awaiter(this,void 0,void 0,function*(){let t=new Iu(e);return yield t.init(),t})}init(){return Zp.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return Zp.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),dM.toMiliseconds(this.interval))})}pulse(){this.events.emit(Xp.HEARTBEAT_EVENTS.pulse)}};Su.HeartBeat=Iu});var QE=Z(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var Qp=(wr(),yr);Qp.__exportStar(XE(),Ta);Qp.__exportStar(Gp(),Ta);Qp.__exportStar(Yp(),Ta)});var t_=Z((LG,e_)=>{"use strict";function gM(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}e_.exports=mM;function mM(r,e,t){var i=t&&t.stringify||gM,n=1;if(typeof r=="object"&&r!==null){var o=e.length+n;if(o===1)return r;var c=new Array(o);c[0]=i(r);for(var u=1;u<o;u++)c[u]=i(e[u]);return c.join(" ")}if(typeof r!="string")return r;var f=e.length;if(f===0)return r;for(var d="",m=1-n,y=-1,b=r&&r.length||0,v=0;v<b;){if(r.charCodeAt(v)===37&&v+1<b){switch(y=y>-1?y:0,r.charCodeAt(v+1)){case 100:case 102:if(m>=f||e[m]==null)break;y<v&&(d+=r.slice(y,v)),d+=Number(e[m]),y=v+2,v++;break;case 105:if(m>=f||e[m]==null)break;y<v&&(d+=r.slice(y,v)),d+=Math.floor(Number(e[m])),y=v+2,v++;break;case 79:case 111:case 106:if(m>=f||e[m]===void 0)break;y<v&&(d+=r.slice(y,v));var _=typeof e[m];if(_==="string"){d+="'"+e[m]+"'",y=v+2,v++;break}if(_==="function"){d+=e[m].name||"<anonymous>",y=v+2,v++;break}d+=i(e[m]),y=v+2,v++;break;case 115:if(m>=f)break;y<v&&(d+=r.slice(y,v)),d+=String(e[m]),y=v+2,v++;break;case 37:y<v&&(d+=r.slice(y,v)),d+="%",y=v+2,v++,m--;break}++m}++v}return y===-1?r:(y<b&&(d+=r.slice(y)),d)}});var o_=Z((UG,s_)=>{"use strict";var r_=t_();s_.exports=ti;var Na=CM().console||{},yM={mapHttpRequest:Au,mapHttpResponse:Au,wrapRequestSerializer:t0,wrapResponseSerializer:t0,wrapErrorSerializer:t0,req:Au,res:Au,err:_M};function wM(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function ti(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||Na;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=wM(r.browser.serialize,i),o=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let c=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let u=r.level||"info",f=Object.create(t);f.log||(f.log=La),Object.defineProperty(f,"levelVal",{get:m}),Object.defineProperty(f,"level",{get:y,set:b});let d={transmit:e,serialize:n,asObject:r.browser.asObject,levels:c,timestamp:xM(r)};f.levels=ti.levels,f.level=u,f.setMaxListeners=f.getMaxListeners=f.emit=f.addListener=f.on=f.prependListener=f.once=f.prependOnceListener=f.removeListener=f.removeAllListeners=f.listeners=f.listenerCount=f.eventNames=f.write=f.flush=La,f.serializers=i,f._serialize=n,f._stdErrSerialize=o,f.child=v,e&&(f._logEvent=e0());function m(){return this.level==="silent"?1/0:this.levels.values[this.level]}function y(){return this._level}function b(_){if(_!=="silent"&&!this.levels.values[_])throw Error("unknown level "+_);this._level=_,ro(d,f,"error","log"),ro(d,f,"fatal","error"),ro(d,f,"warn","error"),ro(d,f,"info","log"),ro(d,f,"debug","log"),ro(d,f,"trace","log")}function v(_,S){if(!_)throw new Error("missing bindings for child Pino");S=S||{},n&&_.serializers&&(S.serializers=_.serializers);let R=S.serializers;if(n&&R){var P=Object.assign({},i,R),H=r.browser.serialize===!0?Object.keys(P):n;delete _.serializers,Cu([_],H,P,this._stdErrSerialize)}function U(N){this._childLevel=(N._childLevel|0)+1,this.error=io(N,_,"error"),this.fatal=io(N,_,"fatal"),this.warn=io(N,_,"warn"),this.info=io(N,_,"info"),this.debug=io(N,_,"debug"),this.trace=io(N,_,"trace"),P&&(this.serializers=P,this._serialize=H),e&&(this._logEvent=e0([].concat(N._logEvent.bindings,_)))}return U.prototype=this,new U(this)}return f}ti.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ti.stdSerializers=yM;ti.stdTimeFunctions=Object.assign({},{nullTime:i_,epochTime:n_,unixTime:IM,isoTime:SM});function ro(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?La:n[t]?n[t]:Na[t]||Na[i]||La,vM(r,e,t)}function vM(r,e,t){!r.transmit&&e[t]===La||(e[t]=function(i){return function(){let o=r.timestamp(),c=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Na?Na:this;for(var f=0;f<c.length;f++)c[f]=arguments[f];if(r.serialize&&!r.asObject&&Cu(c,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(u,bM(this,t,c,o)):i.apply(u,c),r.transmit){let d=r.transmit.level||e.level,m=ti.levels.values[d],y=ti.levels.values[t];if(y<m)return;EM(this,{ts:o,methodLevel:t,methodValue:y,transmitLevel:d,transmitValue:ti.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},c)}}}(e[t]))}function bM(r,e,t,i){r._serialize&&Cu(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),o=n[0],c={};i&&(c.time=i),c.level=ti.levels.values[e];let u=(r._childLevel|0)+1;if(u<1&&(u=1),o!==null&&typeof o=="object"){for(;u--&&typeof n[0]=="object";)Object.assign(c,n.shift());o=n.length?r_(n.shift(),n):void 0}else typeof o=="string"&&(o=r_(n.shift(),n));return o!==void 0&&(c.msg=o),c}function Cu(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=ti.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let o in r[n])e&&e.indexOf(o)>-1&&o in t&&(r[n][o]=t[o](r[n][o]))}function io(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function EM(r,e,t){let i=e.send,n=e.ts,o=e.methodLevel,c=e.methodValue,u=e.val,f=r._logEvent.bindings;Cu(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(d){return f.indexOf(d)===-1}),r._logEvent.level.label=o,r._logEvent.level.value=c,i(o,r._logEvent,u),r._logEvent=e0(f)}function e0(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function _M(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function xM(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?i_:n_}function Au(){return{}}function t0(r){return r}function La(){}function i_(){return!1}function n_(){return Date.now()}function IM(){return Math.round(Date.now()/1e3)}function SM(){return new Date(Date.now()).toISOString()}function CM(){function r(e){return typeof e!="undefined"&&e}try{return typeof globalThis!="undefined"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var r0=Z(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.PINO_CUSTOM_CONTEXT_KEY=no.PINO_LOGGER_DEFAULTS=void 0;no.PINO_LOGGER_DEFAULTS={level:"info"};no.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var h_=Z(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.generateChildLogger=cr.formatChildLoggerContext=cr.getLoggerContext=cr.setBrowserLoggerContext=cr.getBrowserLoggerContext=cr.getDefaultLoggerOptions=void 0;var so=r0();function AM(r){return Object.assign(Object.assign({},r),{level:(r==null?void 0:r.level)||so.PINO_LOGGER_DEFAULTS.level})}cr.getDefaultLoggerOptions=AM;function a_(r,e=so.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}cr.getBrowserLoggerContext=a_;function c_(r,e,t=so.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}cr.setBrowserLoggerContext=c_;function l_(r,e=so.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings=="undefined"?t=a_(r,e):t=r.bindings().context||"",t}cr.getLoggerContext=l_;function u_(r,e,t=so.PINO_CUSTOM_CONTEXT_KEY){let i=l_(r,t);return i.trim()?`${i}/${e}`:e}cr.formatChildLoggerContext=u_;function DM(r,e,t=so.PINO_CUSTOM_CONTEXT_KEY){let i=u_(r,e,t),n=r.child({context:i});return c_(n,i,t)}cr.generateChildLogger=DM});var Du=Z(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.pino=void 0;var i0=(wr(),yr),OM=i0.__importDefault(o_());Object.defineProperty(oo,"pino",{enumerable:!0,get:function(){return OM.default}});i0.__exportStar(r0(),oo);i0.__exportStar(h_(),oo)});var n0=Z(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var ao=(Wp(),Vp),f_=Yr();function RM(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var PM=RM(f_),d_=class extends ao.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},p_=class{constructor(e,t,i){this.core=e,this.logger=t}},g_=class extends ao.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},m_=class{constructor(e,t){this.logger=e,this.core=t}},y_=class extends ao.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},w_=class extends ao.IEvents{constructor(e){super()}},v_=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},b_=class{constructor(){this.map=new Map}},E_=class extends ao.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},__=class{constructor(e,t){this.core=e,this.logger=t}},x_=class extends ao.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},I_=class{constructor(e,t){this.logger=e,this.core=t}},S_=class{constructor(e,t){this.projectId=e,this.logger=t}},C_=class extends PM.default{constructor(){super()}},A_=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},D_=class extends f_.EventEmitter{constructor(){super()}},O_=class{constructor(e){this.client=e}};Rt.ICore=d_,Rt.ICrypto=p_,Rt.IEngine=O_,Rt.IEngineEvents=D_,Rt.IExpirer=x_,Rt.IJsonRpcHistory=g_,Rt.IKeyChain=__,Rt.IMessageTracker=m_,Rt.IPairing=I_,Rt.IPublisher=y_,Rt.IRelayer=w_,Rt.ISignClient=A_,Rt.ISignClientEvents=C_,Rt.IStore=v_,Rt.ISubscriber=E_,Rt.ISubscriberTopicMap=b_,Rt.IVerify=S_});var R_={};nt(R_,{safeJsonParse:()=>Yn,safeJsonStringify:()=>ln});function Yn(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return NM(r)}catch{return r}}function ln(r){return typeof r=="string"?r:TM(r)||""}var TM,NM,Ua=M(()=>{TM=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),NM=r=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)}});var N_=Z(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var co=ks(),lo=Rr();Oi.DIGEST_LENGTH=64;Oi.BLOCK_SIZE=128;var P_=function(){function r(){this.digestLength=Oi.DIGEST_LENGTH,this.blockSize=Oi.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){lo.wipe(this._buffer),lo.wipe(this._tempHi),lo.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<Oi.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(s0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=s0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,o=t<<3,c=t%128<112?128:256;this._buffer[i]=128;for(var u=i+1;u<c-8;u++)this._buffer[u]=0;co.writeUint32BE(n,this._buffer,c-8),co.writeUint32BE(o,this._buffer,c-4),s0(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,c),this._finished=!0}for(var u=0;u<this.digestLength/8;u++)co.writeUint32BE(this._stateHi[u],e,u*8),co.writeUint32BE(this._stateLo[u],e,u*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){lo.wipe(e.stateHi),lo.wipe(e.stateLo),e.buffer&&lo.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Oi.SHA512=P_;var T_=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s0(r,e,t,i,n,o,c){for(var u=t[0],f=t[1],d=t[2],m=t[3],y=t[4],b=t[5],v=t[6],_=t[7],S=i[0],R=i[1],P=i[2],H=i[3],U=i[4],N=i[5],k=i[6],W=i[7],C,D,V,E,I,L,B,G;c>=128;){for(var Q=0;Q<16;Q++){var ne=8*Q+o;r[Q]=co.readUint32BE(n,ne),e[Q]=co.readUint32BE(n,ne+4)}for(var Q=0;Q<80;Q++){var ee=u,oe=f,Ye=d,ue=m,ae=y,me=b,ye=v,ge=_,he=S,fe=R,we=P,Se=H,De=U,je=N,Pe=k,Oe=W;if(C=_,D=W,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=(y>>>14|U<<32-14)^(y>>>18|U<<32-18)^(U>>>41-32|y<<32-(41-32)),D=(U>>>14|y<<32-14)^(U>>>18|y<<32-18)^(y>>>41-32|U<<32-(41-32)),I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,C=y&b^~y&v,D=U&N^~U&k,I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,C=T_[Q*2],D=T_[Q*2+1],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,C=r[Q%16],D=e[Q%16],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,V=B&65535|G<<16,E=I&65535|L<<16,C=V,D=E,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=(u>>>28|S<<32-28)^(S>>>34-32|u<<32-(34-32))^(S>>>39-32|u<<32-(39-32)),D=(S>>>28|u<<32-28)^(u>>>34-32|S<<32-(34-32))^(u>>>39-32|S<<32-(39-32)),I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,C=u&f^u&d^f&d,D=S&R^S&P^R&P,I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,ge=B&65535|G<<16,Oe=I&65535|L<<16,C=ue,D=Se,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=V,D=E,I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,ue=B&65535|G<<16,Se=I&65535|L<<16,f=ee,d=oe,m=Ye,y=ue,b=ae,v=me,_=ye,u=ge,R=he,P=fe,H=we,U=Se,N=De,k=je,W=Pe,S=Oe,Q%16==15)for(var ne=0;ne<16;ne++)C=r[ne],D=e[ne],I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=r[(ne+9)%16],D=e[(ne+9)%16],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,V=r[(ne+1)%16],E=e[(ne+1)%16],C=(V>>>1|E<<32-1)^(V>>>8|E<<32-8)^V>>>7,D=(E>>>1|V<<32-1)^(E>>>8|V<<32-8)^(E>>>7|V<<32-7),I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,V=r[(ne+14)%16],E=e[(ne+14)%16],C=(V>>>19|E<<32-19)^(E>>>61-32|V<<32-(61-32))^V>>>6,D=(E>>>19|V<<32-19)^(V>>>61-32|E<<32-(61-32))^(E>>>6|V<<32-6),I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,r[ne]=B&65535|G<<16,e[ne]=I&65535|L<<16}C=u,D=S,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[0],D=i[0],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[0]=u=B&65535|G<<16,i[0]=S=I&65535|L<<16,C=f,D=R,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[1],D=i[1],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[1]=f=B&65535|G<<16,i[1]=R=I&65535|L<<16,C=d,D=P,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[2],D=i[2],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[2]=d=B&65535|G<<16,i[2]=P=I&65535|L<<16,C=m,D=H,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[3],D=i[3],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[3]=m=B&65535|G<<16,i[3]=H=I&65535|L<<16,C=y,D=U,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[4],D=i[4],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[4]=y=B&65535|G<<16,i[4]=U=I&65535|L<<16,C=b,D=N,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[5],D=i[5],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[5]=b=B&65535|G<<16,i[5]=N=I&65535|L<<16,C=v,D=k,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[6],D=i[6],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[6]=v=B&65535|G<<16,i[6]=k=I&65535|L<<16,C=_,D=W,I=D&65535,L=D>>>16,B=C&65535,G=C>>>16,C=t[7],D=i[7],I+=D&65535,L+=D>>>16,B+=C&65535,G+=C>>>16,L+=I>>>16,B+=L>>>16,G+=B>>>16,t[7]=_=B&65535|G<<16,i[7]=W=I&65535|L<<16,o+=128,c-=128}return o}function LM(r){var e=new P_;e.update(r);var t=e.digest();return e.clean(),t}Oi.hash=LM});var K_=Z(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.convertSecretKeyToX25519=Ke.convertPublicKeyToX25519=Ke.verify=Ke.sign=Ke.extractPublicKeyFromSecretKey=Ke.generateKeyPair=Ke.generateKeyPairFromSeed=Ke.SEED_LENGTH=Ke.SECRET_KEY_LENGTH=Ke.PUBLIC_KEY_LENGTH=Ke.SIGNATURE_LENGTH=void 0;var UM=pa(),Ma=N_(),L_=Rr();Ke.SIGNATURE_LENGTH=64;Ke.PUBLIC_KEY_LENGTH=32;Ke.SECRET_KEY_LENGTH=64;Ke.SEED_LENGTH=32;function de(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var MM=new Uint8Array(32);MM[0]=9;var o0=de(),uo=de([1]),jM=de([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),FM=de([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),U_=de([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),M_=de([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),$M=de([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function un(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function a0(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function j_(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let o=i&(r[n]^e[n]);r[n]^=o,e[n]^=o}}function ja(r,e){let t=de(),i=de();for(let n=0;n<16;n++)i[n]=e[n];a0(i),a0(i),a0(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let c=1;c<15;c++)t[c]=i[c]-65535-(t[c-1]>>16&1),t[c-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,j_(i,t,1-o)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function F_(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function $_(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return ja(t,r),ja(i,e),F_(t,i)}function B_(r){let e=new Uint8Array(32);return ja(e,r),e[0]&1}function BM(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Zn(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Xn(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Qe(r,e,t){let i,n,o=0,c=0,u=0,f=0,d=0,m=0,y=0,b=0,v=0,_=0,S=0,R=0,P=0,H=0,U=0,N=0,k=0,W=0,C=0,D=0,V=0,E=0,I=0,L=0,B=0,G=0,Q=0,ne=0,ee=0,oe=0,Ye=0,ue=t[0],ae=t[1],me=t[2],ye=t[3],ge=t[4],he=t[5],fe=t[6],we=t[7],Se=t[8],De=t[9],je=t[10],Pe=t[11],Oe=t[12],$e=t[13],_e=t[14],Le=t[15];i=e[0],o+=i*ue,c+=i*ae,u+=i*me,f+=i*ye,d+=i*ge,m+=i*he,y+=i*fe,b+=i*we,v+=i*Se,_+=i*De,S+=i*je,R+=i*Pe,P+=i*Oe,H+=i*$e,U+=i*_e,N+=i*Le,i=e[1],c+=i*ue,u+=i*ae,f+=i*me,d+=i*ye,m+=i*ge,y+=i*he,b+=i*fe,v+=i*we,_+=i*Se,S+=i*De,R+=i*je,P+=i*Pe,H+=i*Oe,U+=i*$e,N+=i*_e,k+=i*Le,i=e[2],u+=i*ue,f+=i*ae,d+=i*me,m+=i*ye,y+=i*ge,b+=i*he,v+=i*fe,_+=i*we,S+=i*Se,R+=i*De,P+=i*je,H+=i*Pe,U+=i*Oe,N+=i*$e,k+=i*_e,W+=i*Le,i=e[3],f+=i*ue,d+=i*ae,m+=i*me,y+=i*ye,b+=i*ge,v+=i*he,_+=i*fe,S+=i*we,R+=i*Se,P+=i*De,H+=i*je,U+=i*Pe,N+=i*Oe,k+=i*$e,W+=i*_e,C+=i*Le,i=e[4],d+=i*ue,m+=i*ae,y+=i*me,b+=i*ye,v+=i*ge,_+=i*he,S+=i*fe,R+=i*we,P+=i*Se,H+=i*De,U+=i*je,N+=i*Pe,k+=i*Oe,W+=i*$e,C+=i*_e,D+=i*Le,i=e[5],m+=i*ue,y+=i*ae,b+=i*me,v+=i*ye,_+=i*ge,S+=i*he,R+=i*fe,P+=i*we,H+=i*Se,U+=i*De,N+=i*je,k+=i*Pe,W+=i*Oe,C+=i*$e,D+=i*_e,V+=i*Le,i=e[6],y+=i*ue,b+=i*ae,v+=i*me,_+=i*ye,S+=i*ge,R+=i*he,P+=i*fe,H+=i*we,U+=i*Se,N+=i*De,k+=i*je,W+=i*Pe,C+=i*Oe,D+=i*$e,V+=i*_e,E+=i*Le,i=e[7],b+=i*ue,v+=i*ae,_+=i*me,S+=i*ye,R+=i*ge,P+=i*he,H+=i*fe,U+=i*we,N+=i*Se,k+=i*De,W+=i*je,C+=i*Pe,D+=i*Oe,V+=i*$e,E+=i*_e,I+=i*Le,i=e[8],v+=i*ue,_+=i*ae,S+=i*me,R+=i*ye,P+=i*ge,H+=i*he,U+=i*fe,N+=i*we,k+=i*Se,W+=i*De,C+=i*je,D+=i*Pe,V+=i*Oe,E+=i*$e,I+=i*_e,L+=i*Le,i=e[9],_+=i*ue,S+=i*ae,R+=i*me,P+=i*ye,H+=i*ge,U+=i*he,N+=i*fe,k+=i*we,W+=i*Se,C+=i*De,D+=i*je,V+=i*Pe,E+=i*Oe,I+=i*$e,L+=i*_e,B+=i*Le,i=e[10],S+=i*ue,R+=i*ae,P+=i*me,H+=i*ye,U+=i*ge,N+=i*he,k+=i*fe,W+=i*we,C+=i*Se,D+=i*De,V+=i*je,E+=i*Pe,I+=i*Oe,L+=i*$e,B+=i*_e,G+=i*Le,i=e[11],R+=i*ue,P+=i*ae,H+=i*me,U+=i*ye,N+=i*ge,k+=i*he,W+=i*fe,C+=i*we,D+=i*Se,V+=i*De,E+=i*je,I+=i*Pe,L+=i*Oe,B+=i*$e,G+=i*_e,Q+=i*Le,i=e[12],P+=i*ue,H+=i*ae,U+=i*me,N+=i*ye,k+=i*ge,W+=i*he,C+=i*fe,D+=i*we,V+=i*Se,E+=i*De,I+=i*je,L+=i*Pe,B+=i*Oe,G+=i*$e,Q+=i*_e,ne+=i*Le,i=e[13],H+=i*ue,U+=i*ae,N+=i*me,k+=i*ye,W+=i*ge,C+=i*he,D+=i*fe,V+=i*we,E+=i*Se,I+=i*De,L+=i*je,B+=i*Pe,G+=i*Oe,Q+=i*$e,ne+=i*_e,ee+=i*Le,i=e[14],U+=i*ue,N+=i*ae,k+=i*me,W+=i*ye,C+=i*ge,D+=i*he,V+=i*fe,E+=i*we,I+=i*Se,L+=i*De,B+=i*je,G+=i*Pe,Q+=i*Oe,ne+=i*$e,ee+=i*_e,oe+=i*Le,i=e[15],N+=i*ue,k+=i*ae,W+=i*me,C+=i*ye,D+=i*ge,V+=i*he,E+=i*fe,I+=i*we,L+=i*Se,B+=i*De,G+=i*je,Q+=i*Pe,ne+=i*Oe,ee+=i*$e,oe+=i*_e,Ye+=i*Le,o+=38*k,c+=38*W,u+=38*C,f+=38*D,d+=38*V,m+=38*E,y+=38*I,b+=38*L,v+=38*B,_+=38*G,S+=38*Q,R+=38*ne,P+=38*ee,H+=38*oe,U+=38*Ye,n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=U+n+65535,n=Math.floor(i/65536),U=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,o+=n-1+37*(n-1),r[0]=o,r[1]=c,r[2]=u,r[3]=f,r[4]=d,r[5]=m,r[6]=y,r[7]=b,r[8]=v,r[9]=_,r[10]=S,r[11]=R,r[12]=P,r[13]=H,r[14]=U,r[15]=N}function Qn(r,e){Qe(r,e,e)}function k_(r,e){let t=de(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)Qn(t,t),i!==2&&i!==4&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function kM(r,e){let t=de(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)Qn(t,t),i!==1&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function c0(r,e){let t=de(),i=de(),n=de(),o=de(),c=de(),u=de(),f=de(),d=de(),m=de();Xn(t,r[1],r[0]),Xn(m,e[1],e[0]),Qe(t,t,m),Zn(i,r[0],r[1]),Zn(m,e[0],e[1]),Qe(i,i,m),Qe(n,r[3],e[3]),Qe(n,n,FM),Qe(o,r[2],e[2]),Zn(o,o,o),Xn(c,i,t),Xn(u,o,n),Zn(f,o,n),Zn(d,i,t),Qe(r[0],c,u),Qe(r[1],d,f),Qe(r[2],f,u),Qe(r[3],c,d)}function q_(r,e,t){for(let i=0;i<4;i++)j_(r[i],e[i],t)}function l0(r,e){let t=de(),i=de(),n=de();k_(n,e[2]),Qe(t,e[0],n),Qe(i,e[1],n),ja(r,i),r[31]^=B_(t)<<7}function H_(r,e,t){un(r[0],o0),un(r[1],uo),un(r[2],uo),un(r[3],o0);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;q_(r,e,n),c0(e,r),c0(r,r),q_(r,e,n)}}function u0(r,e){let t=[de(),de(),de(),de()];un(t[0],U_),un(t[1],M_),un(t[2],uo),Qe(t[3],U_,M_),H_(r,t,e)}function z_(r){if(r.length!==Ke.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Ke.SEED_LENGTH} bytes`);let e=(0,Ma.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[de(),de(),de(),de()];u0(i,e),l0(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}Ke.generateKeyPairFromSeed=z_;function qM(r){let e=(0,UM.randomBytes)(32,r),t=z_(e);return(0,L_.wipe)(e),t}Ke.generateKeyPair=qM;function HM(r){if(r.length!==Ke.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Ke.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}Ke.extractPublicKeyFromSecretKey=HM;var h0=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V_(r,e){let t,i,n,o;for(i=63;i>=32;--i){for(t=0,n=i-32,o=i-12;n<o;++n)e[n]+=t-16*e[i]*h0[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*h0[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*h0[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function f0(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;V_(r,e)}function zM(r,e){let t=new Float64Array(64),i=[de(),de(),de(),de()],n=(0,Ma.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let o=new Uint8Array(64);o.set(n.subarray(32),32);let c=new Ma.SHA512;c.update(o.subarray(32)),c.update(e);let u=c.digest();c.clean(),f0(u),u0(i,u),l0(o,i),c.reset(),c.update(o.subarray(0,32)),c.update(r.subarray(32)),c.update(e);let f=c.digest();f0(f);for(let d=0;d<32;d++)t[d]=u[d];for(let d=0;d<32;d++)for(let m=0;m<32;m++)t[d+m]+=f[d]*n[m];return V_(o.subarray(32),t),o}Ke.sign=zM;function W_(r,e){let t=de(),i=de(),n=de(),o=de(),c=de(),u=de(),f=de();return un(r[2],uo),BM(r[1],e),Qn(n,r[1]),Qe(o,n,jM),Xn(n,n,r[2]),Zn(o,r[2],o),Qn(c,o),Qn(u,c),Qe(f,u,c),Qe(t,f,n),Qe(t,t,o),kM(t,t),Qe(t,t,n),Qe(t,t,o),Qe(t,t,o),Qe(r[0],t,o),Qn(i,r[0]),Qe(i,i,o),$_(i,n)&&Qe(r[0],r[0],$M),Qn(i,r[0]),Qe(i,i,o),$_(i,n)?-1:(B_(r[0])===e[31]>>7&&Xn(r[0],o0,r[0]),Qe(r[3],r[0],r[1]),0)}function VM(r,e,t){let i=new Uint8Array(32),n=[de(),de(),de(),de()],o=[de(),de(),de(),de()];if(t.length!==Ke.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Ke.SIGNATURE_LENGTH} bytes`);if(W_(o,r))return!1;let c=new Ma.SHA512;c.update(t.subarray(0,32)),c.update(r),c.update(e);let u=c.digest();return f0(u),H_(n,o,u),u0(o,t.subarray(32)),c0(n,o),l0(i,n),!F_(t,i)}Ke.verify=VM;function WM(r){let e=[de(),de(),de(),de()];if(W_(e,r))throw new Error("Ed25519: invalid public key");let t=de(),i=de(),n=e[1];Zn(t,uo,n),Xn(i,uo,n),k_(i,i),Qe(t,t,i);let o=new Uint8Array(32);return ja(o,t),o}Ke.convertPublicKeyToX25519=WM;function KM(r){let e=(0,Ma.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,L_.wipe)(e),t}Ke.convertSecretKeyToX25519=KM});var Ou,Ru,es,ho,Pu,Fa,Tu,Nu,Lu,fo,Uu,Mu,d0,p0,ju=M(()=>{Ou="EdDSA",Ru="JWT",es=".",ho="base64url",Pu="utf8",Fa="utf8",Tu=":",Nu="did",Lu="key",fo="base58btc",Uu="z",Mu="K36",d0=32,p0=32});function $a(r){return Yn(Ci(ei(r,ho),Pu))}function Ba(r){return Ci(ei(ln(r),Pu),ho)}function g0(r){let e=ei(Mu,fo),t=Uu+Ci(ql([e,r]),fo);return[Nu,Lu,t].join(Tu)}function m0(r){let[e,t,i]=r.split(Tu);if(e!==Nu||t!==Lu)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Uu)throw new Error("Issuer must be a key in mulicodec format");let o=ei(i.slice(1),fo);if(Ci(o.slice(0,2),fo)!==Mu)throw new Error('Issuer must be a public key with type "Ed25519"');let u=o.slice(2);if(u.length!==d0)throw new Error("Issuer must be a public key with length 32 bytes");return u}function G_(r){return Ci(r,ho)}function J_(r){return ei(r,ho)}function y0(r){return ei([Ba(r.header),Ba(r.payload)].join(es),Fa)}function GM(r){let e=Ci(r,Fa).split(es),t=$a(e[0]),i=$a(e[1]);return{header:t,payload:i}}function w0(r){return[Ba(r.header),Ba(r.payload),G_(r.signature)].join(es)}function v0(r){let e=r.split(es),t=$a(e[0]),i=$a(e[1]),n=J_(e[2]),o=ei(e.slice(0,2).join(es),Fa);return{header:t,payload:i,signature:n,data:o}}var b0=M(()=>{Vd();dp();fp();Ua();ju()});function JM(r=(0,Y_.randomBytes)(p0)){return po.generateKeyPairFromSeed(r)}async function YM(r,e,t,i,n=(0,Z_.fromMiliseconds)(Date.now())){let o={alg:Ou,typ:Ru},c=g0(i.publicKey),u=n+t,f={iss:c,sub:r,aud:e,iat:n,exp:u},d=y0({header:o,payload:f}),m=po.sign(i.secretKey,d);return w0({header:o,payload:f,signature:m})}async function ZM(r){let{header:e,payload:t,data:i,signature:n}=v0(r);if(e.alg!==Ou||e.typ!==Ru)throw new Error("JWT must use EdDSA algorithm");let o=m0(t.iss);return po.verify(o,i,n)}var po,Y_,Z_,X_=M(()=>{po=Or(K_()),Y_=Or(pa()),Z_=Or(Wn());ju();b0()});var Q_=M(()=>{});var e3={};nt(e3,{DATA_ENCODING:()=>Fa,DID_DELIMITER:()=>Tu,DID_METHOD:()=>Lu,DID_PREFIX:()=>Nu,JSON_ENCODING:()=>Pu,JWT_DELIMITER:()=>es,JWT_ENCODING:()=>ho,JWT_IRIDIUM_ALG:()=>Ou,JWT_IRIDIUM_TYP:()=>Ru,KEY_PAIR_SEED_LENGTH:()=>p0,MULTICODEC_ED25519_BASE:()=>Uu,MULTICODEC_ED25519_ENCODING:()=>fo,MULTICODEC_ED25519_HEADER:()=>Mu,MULTICODEC_ED25519_LENGTH:()=>d0,decodeData:()=>GM,decodeIss:()=>m0,decodeJSON:()=>$a,decodeJWT:()=>v0,decodeSig:()=>J_,encodeData:()=>y0,encodeIss:()=>g0,encodeJSON:()=>Ba,encodeJWT:()=>w0,encodeSig:()=>G_,generateKeyPair:()=>JM,signJWT:()=>YM,verifyJWT:()=>ZM});var t3=M(()=>{X_();ju();Q_();b0()});var r3,i3,n3,s3,Fu,ka,E0,$u,hn,qa,Bu=M(()=>{r3="PARSE_ERROR",i3="INVALID_REQUEST",n3="METHOD_NOT_FOUND",s3="INVALID_PARAMS",Fu="INTERNAL_ERROR",ka="SERVER_ERROR",E0=[-32700,-32600,-32601,-32602,-32603],$u=[-32e3,-32099],hn={[r3]:{code:-32700,message:"Parse error"},[i3]:{code:-32600,message:"Invalid Request"},[n3]:{code:-32601,message:"Method not found"},[s3]:{code:-32602,message:"Invalid params"},[Fu]:{code:-32603,message:"Internal error"},[ka]:{code:-32e3,message:"Server error"}},qa=ka});function XM(r){return r<=$u[0]&&r>=$u[1]}function ku(r){return E0.includes(r)}function o3(r){return typeof r=="number"}function qu(r){return Object.keys(hn).includes(r)?hn[r]:hn[qa]}function Hu(r){let e=Object.values(hn).find(t=>t.code===r);return e||hn[qa]}function QM(r){if(typeof r.error.code=="undefined")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message=="undefined")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!o3(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(ku(r.error.code)){let e=Hu(r.error.code);if(e.message!==hn[qa].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function Ha(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var _0=M(()=>{Bu()});var c3=Z(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isBrowserCryptoAvailable=fn.getSubtleCrypto=fn.getBrowerCrypto=void 0;function x0(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}fn.getBrowerCrypto=x0;function a3(){let r=x0();return r.subtle||r.webkitSubtle}fn.getSubtleCrypto=a3;function ej(){return!!x0()&&!!a3()}fn.isBrowserCryptoAvailable=ej});var h3=Z(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.isBrowser=dn.isNode=dn.isReactNative=void 0;function l3(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}dn.isReactNative=l3;function u3(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}dn.isNode=u3;function tj(){return!l3()&&!u3()}dn.isBrowser=tj});var I0=Z(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var f3=(wr(),yr);f3.__exportStar(c3(),zu);f3.__exportStar(h3(),zu)});var Vt={};nt(Vt,{isNodeJs:()=>p3});var d3,p3,g3=M(()=>{d3=Or(I0());qt(Vt,Or(I0()));p3=d3.isNode});function S0(r=3){let e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function C0(r=6){return BigInt(S0(r))}function A0(r,e,t){return{id:t||S0(),jsonrpc:"2.0",method:r,params:e}}function rj(r,e){return{id:r,jsonrpc:"2.0",result:e}}function za(r,e,t){return{id:r,jsonrpc:"2.0",error:m3(e,t)}}function m3(r,e){return typeof r=="undefined"?qu(Fu):(typeof r=="string"&&(r=Object.assign(Object.assign({},qu(ka)),{message:r})),typeof e!="undefined"&&(r.data=e),ku(r.code)&&(r=Hu(r.code)),r)}var y3=M(()=>{_0();Bu()});function ij(r){return r.includes("*")?Wu(r):!/\W/g.test(r)}function Vu(r){return r==="*"}function Wu(r){return Vu(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function nj(r){return!Vu(r)&&Wu(r)&&!r.split("*")[0].trim()}function sj(r){return!Vu(r)&&Wu(r)&&!r.split("*")[1].trim()}var w3=M(()=>{});var v3=M(()=>{});var Va,D0=M(()=>{Va=class{}});var b3,O0,Ku,E3=M(()=>{D0();b3=class extends Va{constructor(e){super()}},O0=class extends Va{constructor(){super()}},Ku=class extends O0{constructor(e){super()}}});var _3=M(()=>{});var x3=M(()=>{v3();D0();E3();_3()});var I3=M(()=>{x3()});function cj(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function S3(r,e){let t=cj(r);return typeof t=="undefined"?!1:new RegExp(e).test(t)}function Gu(r){return S3(r,oj)}function Ju(r){return S3(r,aj)}function R0(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var oj,aj,C3=M(()=>{oj="^https?:",aj="^wss?:"});function P0(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function lj(r){return P0(r)&&"method"in r}function T0(r){return P0(r)&&(A3(r)||Yu(r))}function A3(r){return"result"in r}function Yu(r){return"error"in r}function uj(r){return"error"in r&&r.valid===!1}var D3=M(()=>{});var Xt={};nt(Xt,{DEFAULT_ERROR:()=>qa,IBaseJsonRpcProvider:()=>O0,IEvents:()=>Va,IJsonRpcConnection:()=>b3,IJsonRpcProvider:()=>Ku,INTERNAL_ERROR:()=>Fu,INVALID_PARAMS:()=>s3,INVALID_REQUEST:()=>i3,METHOD_NOT_FOUND:()=>n3,PARSE_ERROR:()=>r3,RESERVED_ERROR_CODES:()=>E0,SERVER_ERROR:()=>ka,SERVER_ERROR_CODE_RANGE:()=>$u,STANDARD_ERROR_MAP:()=>hn,formatErrorMessage:()=>m3,formatJsonRpcError:()=>za,formatJsonRpcRequest:()=>A0,formatJsonRpcResult:()=>rj,getBigIntRpcId:()=>C0,getError:()=>qu,getErrorByCode:()=>Hu,isHttpUrl:()=>Gu,isJsonRpcError:()=>Yu,isJsonRpcPayload:()=>P0,isJsonRpcRequest:()=>lj,isJsonRpcResponse:()=>T0,isJsonRpcResult:()=>A3,isJsonRpcValidationInvalid:()=>uj,isLocalhostUrl:()=>R0,isNodeJs:()=>p3,isReservedErrorCode:()=>ku,isServerErrorCode:()=>XM,isValidDefaultRoute:()=>Vu,isValidErrorCode:()=>o3,isValidLeadingWildcardRoute:()=>nj,isValidRoute:()=>ij,isValidTrailingWildcardRoute:()=>sj,isValidWildcardRoute:()=>Wu,isWsUrl:()=>Ju,parseConnectionError:()=>Ha,payloadId:()=>S0,validateJsonRpcError:()=>QM});var go=M(()=>{Bu();_0();g3();qt(Xt,Vt);y3();w3();I3();C3();D3()});var O3,N0,R3,L0=M(()=>{O3=Or(Yr());go();N0=class extends Ku{constructor(e){super(e);this.events=new O3.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(A0(e.method,e.params||[],e.id||C0().toString()),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(o){n(o)}this.events.on(`${e.id}`,o=>{Yu(o)?n(o.error):i(o.result)});try{await this.connection.send(e,t)}catch(o){n(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),T0(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},R3=N0});var U0={};nt(U0,{JsonRpcProvider:()=>N0,default:()=>hj});var hj,M0=M(()=>{L0();L0();hj=R3});var T3=Z((BJ,P3)=>{"use strict";P3.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var N3,L3,fj,dj,pj,j0,U3,F0=M(()=>{N3=Or(Yr());Ua();go();L3=10,fj=()=>typeof global!="undefined"&&typeof global.WebSocket!="undefined"?global.WebSocket:typeof window!="undefined"&&typeof window.WebSocket!="undefined"?window.WebSocket:T3(),dj=()=>typeof window!="undefined",pj=fj(),j0=class{constructor(e){if(this.url=e,this.events=new N3.EventEmitter,this.registering=!1,!Ju(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket!="undefined"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket=="undefined"){t(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e,t){typeof this.socket=="undefined"&&(this.socket=await this.register());try{this.socket.send(ln(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!Ju(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket=="undefined")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,Xt.isReactNative)()?void 0:{rejectUnauthorized:!R0(e)},o=new pj(e,[],n);dj()?o.onerror=c=>{let u=c;i(this.emitError(u.error))}:o.on("error",c=>{i(this.emitError(c))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data=="undefined")return;let t=typeof e.data=="string"?Yn(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),o=za(e,n);this.events.emit("payload",o)}parseError(e,t=this.url){return Ha(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>L3&&this.events.setMaxListeners(L3)}emitError(e){let t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},U3=j0});var M3={};nt(M3,{WsConnection:()=>j0,default:()=>gj});var gj,j3=M(()=>{F0();F0();gj=U3});var w5=Z((Ya,wo)=>{var mj=200,$0="__lodash_hash_undefined__",Zu=1,F3=2,$3=9007199254740991,Xu="[object Arguments]",B0="[object Array]",yj="[object AsyncFunction]",B3="[object Boolean]",k3="[object Date]",q3="[object Error]",H3="[object Function]",wj="[object GeneratorFunction]",Qu="[object Map]",z3="[object Number]",vj="[object Null]",mo="[object Object]",V3="[object Promise]",bj="[object Proxy]",W3="[object RegExp]",eh="[object Set]",K3="[object String]",Ej="[object Symbol]",_j="[object Undefined]",k0="[object WeakMap]",G3="[object ArrayBuffer]",th="[object DataView]",xj="[object Float32Array]",Ij="[object Float64Array]",Sj="[object Int8Array]",Cj="[object Int16Array]",Aj="[object Int32Array]",Dj="[object Uint8Array]",Oj="[object Uint8ClampedArray]",Rj="[object Uint16Array]",Pj="[object Uint32Array]",Tj=/[\\^$.*+?()[\]{}|]/g,Nj=/^\[object .+?Constructor\]$/,Lj=/^(?:0|[1-9]\d*)$/,ct={};ct[xj]=ct[Ij]=ct[Sj]=ct[Cj]=ct[Aj]=ct[Dj]=ct[Oj]=ct[Rj]=ct[Pj]=!0;ct[Xu]=ct[B0]=ct[G3]=ct[B3]=ct[th]=ct[k3]=ct[q3]=ct[H3]=ct[Qu]=ct[z3]=ct[mo]=ct[W3]=ct[eh]=ct[K3]=ct[k0]=!1;var J3=typeof global=="object"&&global&&global.Object===Object&&global,Uj=typeof self=="object"&&self&&self.Object===Object&&self,Ri=J3||Uj||Function("return this")(),Y3=typeof Ya=="object"&&Ya&&!Ya.nodeType&&Ya,Z3=Y3&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,X3=Z3&&Z3.exports===Y3,q0=X3&&J3.process,Q3=function(){try{return q0&&q0.binding&&q0.binding("util")}catch{}}(),e5=Q3&&Q3.isTypedArray;function Mj(r,e){for(var t=-1,i=r==null?0:r.length,n=0,o=[];++t<i;){var c=r[t];e(c,t,r)&&(o[n++]=c)}return o}function jj(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function Fj(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function $j(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function Bj(r){return function(e){return r(e)}}function kj(r,e){return r.has(e)}function qj(r,e){return r==null?void 0:r[e]}function Hj(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function zj(r,e){return function(t){return r(e(t))}}function Vj(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var Wj=Array.prototype,Kj=Function.prototype,rh=Object.prototype,H0=Ri["__core-js_shared__"],t5=Kj.toString,ri=rh.hasOwnProperty,r5=function(){var r=/[^.]+$/.exec(H0&&H0.keys&&H0.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),i5=rh.toString,Gj=RegExp("^"+t5.call(ri).replace(Tj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),n5=X3?Ri.Buffer:void 0,ih=Ri.Symbol,s5=Ri.Uint8Array,o5=rh.propertyIsEnumerable,Jj=Wj.splice,ts=ih?ih.toStringTag:void 0,a5=Object.getOwnPropertySymbols,Yj=n5?n5.isBuffer:void 0,Zj=zj(Object.keys,Object),z0=yo(Ri,"DataView"),Wa=yo(Ri,"Map"),V0=yo(Ri,"Promise"),W0=yo(Ri,"Set"),K0=yo(Ri,"WeakMap"),Ka=yo(Object,"create"),Xj=ns(z0),Qj=ns(Wa),eF=ns(V0),tF=ns(W0),rF=ns(K0),c5=ih?ih.prototype:void 0,G0=c5?c5.valueOf:void 0;function rs(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function iF(){this.__data__=Ka?Ka(null):{},this.size=0}function nF(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function sF(r){var e=this.__data__;if(Ka){var t=e[r];return t===$0?void 0:t}return ri.call(e,r)?e[r]:void 0}function oF(r){var e=this.__data__;return Ka?e[r]!==void 0:ri.call(e,r)}function aF(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Ka&&e===void 0?$0:e,this}rs.prototype.clear=iF;rs.prototype.delete=nF;rs.prototype.get=sF;rs.prototype.has=oF;rs.prototype.set=aF;function Pi(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function cF(){this.__data__=[],this.size=0}function lF(r){var e=this.__data__,t=sh(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Jj.call(e,t,1),--this.size,!0}function uF(r){var e=this.__data__,t=sh(e,r);return t<0?void 0:e[t][1]}function hF(r){return sh(this.__data__,r)>-1}function fF(r,e){var t=this.__data__,i=sh(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}Pi.prototype.clear=cF;Pi.prototype.delete=lF;Pi.prototype.get=uF;Pi.prototype.has=hF;Pi.prototype.set=fF;function is(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function dF(){this.size=0,this.__data__={hash:new rs,map:new(Wa||Pi),string:new rs}}function pF(r){var e=oh(this,r).delete(r);return this.size-=e?1:0,e}function gF(r){return oh(this,r).get(r)}function mF(r){return oh(this,r).has(r)}function yF(r,e){var t=oh(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}is.prototype.clear=dF;is.prototype.delete=pF;is.prototype.get=gF;is.prototype.has=mF;is.prototype.set=yF;function nh(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new is;++e<t;)this.add(r[e])}function wF(r){return this.__data__.set(r,$0),this}function vF(r){return this.__data__.has(r)}nh.prototype.add=nh.prototype.push=wF;nh.prototype.has=vF;function pn(r){var e=this.__data__=new Pi(r);this.size=e.size}function bF(){this.__data__=new Pi,this.size=0}function EF(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function _F(r){return this.__data__.get(r)}function xF(r){return this.__data__.has(r)}function IF(r,e){var t=this.__data__;if(t instanceof Pi){var i=t.__data__;if(!Wa||i.length<mj-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new is(i)}return t.set(r,e),this.size=t.size,this}pn.prototype.clear=bF;pn.prototype.delete=EF;pn.prototype.get=_F;pn.prototype.has=xF;pn.prototype.set=IF;function SF(r,e){var t=ah(r),i=!t&&BF(r),n=!t&&!i&&J0(r),o=!t&&!i&&!n&&y5(r),c=t||i||n||o,u=c?$j(r.length,String):[],f=u.length;for(var d in r)(e||ri.call(r,d))&&!(c&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||UF(d,f)))&&u.push(d);return u}function sh(r,e){for(var t=r.length;t--;)if(d5(r[t][0],e))return t;return-1}function CF(r,e,t){var i=e(r);return ah(r)?i:jj(i,t(r))}function Ga(r){return r==null?r===void 0?_j:vj:ts&&ts in Object(r)?NF(r):$F(r)}function l5(r){return Ja(r)&&Ga(r)==Xu}function u5(r,e,t,i,n){return r===e?!0:r==null||e==null||!Ja(r)&&!Ja(e)?r!==r&&e!==e:AF(r,e,t,i,u5,n)}function AF(r,e,t,i,n,o){var c=ah(r),u=ah(e),f=c?B0:gn(r),d=u?B0:gn(e);f=f==Xu?mo:f,d=d==Xu?mo:d;var m=f==mo,y=d==mo,b=f==d;if(b&&J0(r)){if(!J0(e))return!1;c=!0,m=!1}if(b&&!m)return o||(o=new pn),c||y5(r)?h5(r,e,t,i,n,o):PF(r,e,f,t,i,n,o);if(!(t&Zu)){var v=m&&ri.call(r,"__wrapped__"),_=y&&ri.call(e,"__wrapped__");if(v||_){var S=v?r.value():r,R=_?e.value():e;return o||(o=new pn),n(S,R,t,i,o)}}return b?(o||(o=new pn),TF(r,e,t,i,n,o)):!1}function DF(r){if(!m5(r)||jF(r))return!1;var e=p5(r)?Gj:Nj;return e.test(ns(r))}function OF(r){return Ja(r)&&g5(r.length)&&!!ct[Ga(r)]}function RF(r){if(!FF(r))return Zj(r);var e=[];for(var t in Object(r))ri.call(r,t)&&t!="constructor"&&e.push(t);return e}function h5(r,e,t,i,n,o){var c=t&Zu,u=r.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var d=o.get(r);if(d&&o.get(e))return d==e;var m=-1,y=!0,b=t&F3?new nh:void 0;for(o.set(r,e),o.set(e,r);++m<u;){var v=r[m],_=e[m];if(i)var S=c?i(_,v,m,e,r,o):i(v,_,m,r,e,o);if(S!==void 0){if(S)continue;y=!1;break}if(b){if(!Fj(e,function(R,P){if(!kj(b,P)&&(v===R||n(v,R,t,i,o)))return b.push(P)})){y=!1;break}}else if(!(v===_||n(v,_,t,i,o))){y=!1;break}}return o.delete(r),o.delete(e),y}function PF(r,e,t,i,n,o,c){switch(t){case th:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case G3:return!(r.byteLength!=e.byteLength||!o(new s5(r),new s5(e)));case B3:case k3:case z3:return d5(+r,+e);case q3:return r.name==e.name&&r.message==e.message;case W3:case K3:return r==e+"";case Qu:var u=Hj;case eh:var f=i&Zu;if(u||(u=Vj),r.size!=e.size&&!f)return!1;var d=c.get(r);if(d)return d==e;i|=F3,c.set(r,e);var m=h5(u(r),u(e),i,n,o,c);return c.delete(r),m;case Ej:if(G0)return G0.call(r)==G0.call(e)}return!1}function TF(r,e,t,i,n,o){var c=t&Zu,u=f5(r),f=u.length,d=f5(e),m=d.length;if(f!=m&&!c)return!1;for(var y=f;y--;){var b=u[y];if(!(c?b in e:ri.call(e,b)))return!1}var v=o.get(r);if(v&&o.get(e))return v==e;var _=!0;o.set(r,e),o.set(e,r);for(var S=c;++y<f;){b=u[y];var R=r[b],P=e[b];if(i)var H=c?i(P,R,b,e,r,o):i(R,P,b,r,e,o);if(!(H===void 0?R===P||n(R,P,t,i,o):H)){_=!1;break}S||(S=b=="constructor")}if(_&&!S){var U=r.constructor,N=e.constructor;U!=N&&"constructor"in r&&"constructor"in e&&!(typeof U=="function"&&U instanceof U&&typeof N=="function"&&N instanceof N)&&(_=!1)}return o.delete(r),o.delete(e),_}function f5(r){return CF(r,HF,LF)}function oh(r,e){var t=r.__data__;return MF(e)?t[typeof e=="string"?"string":"hash"]:t.map}function yo(r,e){var t=qj(r,e);return DF(t)?t:void 0}function NF(r){var e=ri.call(r,ts),t=r[ts];try{r[ts]=void 0;var i=!0}catch{}var n=i5.call(r);return i&&(e?r[ts]=t:delete r[ts]),n}var LF=a5?function(r){return r==null?[]:(r=Object(r),Mj(a5(r),function(e){return o5.call(r,e)}))}:zF,gn=Ga;(z0&&gn(new z0(new ArrayBuffer(1)))!=th||Wa&&gn(new Wa)!=Qu||V0&&gn(V0.resolve())!=V3||W0&&gn(new W0)!=eh||K0&&gn(new K0)!=k0)&&(gn=function(r){var e=Ga(r),t=e==mo?r.constructor:void 0,i=t?ns(t):"";if(i)switch(i){case Xj:return th;case Qj:return Qu;case eF:return V3;case tF:return eh;case rF:return k0}return e});function UF(r,e){return e=e??$3,!!e&&(typeof r=="number"||Lj.test(r))&&r>-1&&r%1==0&&r<e}function MF(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function jF(r){return!!r5&&r5 in r}function FF(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||rh;return r===t}function $F(r){return i5.call(r)}function ns(r){if(r!=null){try{return t5.call(r)}catch{}try{return r+""}catch{}}return""}function d5(r,e){return r===e||r!==r&&e!==e}var BF=l5(function(){return arguments}())?l5:function(r){return Ja(r)&&ri.call(r,"callee")&&!o5.call(r,"callee")},ah=Array.isArray;function kF(r){return r!=null&&g5(r.length)&&!p5(r)}var J0=Yj||VF;function qF(r,e){return u5(r,e)}function p5(r){if(!m5(r))return!1;var e=Ga(r);return e==H3||e==wj||e==yj||e==bj}function g5(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=$3}function m5(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Ja(r){return r!=null&&typeof r=="object"}var y5=e5?Bj(e5):OF;function HF(r){return kF(r)?SF(r):RF(r)}function zF(){return[]}function VF(){return!1}wo.exports=qF});var Rx=Z(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});var ss=Yr(),WF=WE(),ch=QE(),et=Du(),Ti=n0(),v5=(Ua(),R_),KF=(t3(),e3),X=Ra(),GF=(gp(),pp),rt=Wn(),JF=(M0(),U0),br=(go(),Xt),YF=(j3(),M3),ZF=w5();function lh(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function XF(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var QF=lh(ss),e$=lh(WF),uh=XF(KF),t$=lh(YF),r$=lh(ZF);function i$(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),c=o.charCodeAt(0);if(t[c]!==255)throw new TypeError(o+" is ambiguous");t[c]=n}var u=r.length,f=r.charAt(0),d=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function y(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var S=0,R=0,P=0,H=_.length;P!==H&&_[P]===0;)P++,S++;for(var U=(H-P)*m+1>>>0,N=new Uint8Array(U);P!==H;){for(var k=_[P],W=0,C=U-1;(k!==0||W<R)&&C!==-1;C--,W++)k+=256*N[C]>>>0,N[C]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");R=W,P++}for(var D=U-R;D!==U&&N[D]===0;)D++;for(var V=f.repeat(S);D<U;++D)V+=r.charAt(N[D]);return V}function b(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var S=0;if(_[S]!==" "){for(var R=0,P=0;_[S]===f;)R++,S++;for(var H=(_.length-S)*d+1>>>0,U=new Uint8Array(H);_[S];){var N=t[_.charCodeAt(S)];if(N===255)return;for(var k=0,W=H-1;(N!==0||k<P)&&W!==-1;W--,k++)N+=u*U[W]>>>0,U[W]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");P=k,S++}if(_[S]!==" "){for(var C=H-P;C!==H&&U[C]===0;)C++;for(var D=new Uint8Array(R+(H-C)),V=R;C!==H;)D[V++]=U[C++];return D}}}function v(_){var S=b(_);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:v}}var n$=i$,s$=n$,b5=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},o$=r=>new TextEncoder().encode(r),a$=r=>new TextDecoder().decode(r),E5=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_5=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return I5(this,e)}},x5=class{constructor(e){this.decoders=e}or(e){return I5(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},I5=(r,e)=>new x5({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),S5=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new E5(e,t,i),this.decoder=new _5(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},hh=({name:r,prefix:e,encode:t,decode:i})=>new S5(r,e,t,i),Za=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=s$(t,e);return hh({prefix:r,name:e,encode:i,decode:o=>b5(n(o))})},c$=(r,e,t,i)=>{let n={};for(let m=0;m<e.length;++m)n[e[m]]=m;let o=r.length;for(;r[o-1]==="=";)--o;let c=new Uint8Array(o*t/8|0),u=0,f=0,d=0;for(let m=0;m<o;++m){let y=n[r[m]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<t|y,u+=t,u>=8&&(u-=8,c[d++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},l$=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,o="",c=0,u=0;for(let f=0;f<r.length;++f)for(u=u<<8|r[f],c+=8;c>t;)c-=t,o+=e[n&u>>c];if(c&&(o+=e[n&u<<t-c]),i)for(;o.length*t&7;)o+="=";return o},Ft=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>hh({prefix:e,name:r,encode(n){return l$(n,i,t)},decode(n){return c$(n,i,t,r)}}),u$=hh({prefix:"\0",name:"identity",encode:r=>a$(r),decode:r=>o$(r)}),h$=Object.freeze({__proto__:null,identity:u$}),f$=Ft({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d$=Object.freeze({__proto__:null,base2:f$}),p$=Ft({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),g$=Object.freeze({__proto__:null,base8:p$}),m$=Za({prefix:"9",name:"base10",alphabet:"0123456789"}),y$=Object.freeze({__proto__:null,base10:m$}),w$=Ft({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v$=Ft({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),b$=Object.freeze({__proto__:null,base16:w$,base16upper:v$}),E$=Ft({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_$=Ft({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),x$=Ft({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),I$=Ft({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),S$=Ft({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),C$=Ft({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),A$=Ft({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),D$=Ft({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),O$=Ft({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),R$=Object.freeze({__proto__:null,base32:E$,base32upper:_$,base32pad:x$,base32padupper:I$,base32hex:S$,base32hexupper:C$,base32hexpad:A$,base32hexpadupper:D$,base32z:O$}),P$=Za({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),T$=Za({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),N$=Object.freeze({__proto__:null,base36:P$,base36upper:T$}),L$=Za({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),U$=Za({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),M$=Object.freeze({__proto__:null,base58btc:L$,base58flickr:U$}),j$=Ft({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),F$=Ft({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$$=Ft({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),B$=Ft({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),k$=Object.freeze({__proto__:null,base64:j$,base64pad:F$,base64url:$$,base64urlpad:B$}),C5=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),q$=C5.reduce((r,e,t)=>(r[t]=e,r),[]),H$=C5.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function z$(r){return r.reduce((e,t)=>(e+=q$[t],e),"")}function V$(r){let e=[];for(let t of r){let i=H$[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var W$=hh({prefix:"\u{1F680}",name:"base256emoji",encode:z$,decode:V$}),K$=Object.freeze({__proto__:null,base256emoji:W$}),G$=D5,A5=128,J$=127,Y$=~J$,Z$=Math.pow(2,31);function D5(r,e,t){e=e||[],t=t||0;for(var i=t;r>=Z$;)e[t++]=r&255|A5,r/=128;for(;r&Y$;)e[t++]=r&255|A5,r>>>=7;return e[t]=r|0,D5.bytes=t-i+1,e}var X$=Y0,Q$=128,O5=127;function Y0(r,e){var t=0,e=e||0,i=0,n=e,o,c=r.length;do{if(n>=c)throw Y0.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=i<28?(o&O5)<<i:(o&O5)*Math.pow(2,i),i+=7}while(o>=Q$);return Y0.bytes=n-e,t}var eB=Math.pow(2,7),tB=Math.pow(2,14),rB=Math.pow(2,21),iB=Math.pow(2,28),nB=Math.pow(2,35),sB=Math.pow(2,42),oB=Math.pow(2,49),aB=Math.pow(2,56),cB=Math.pow(2,63),lB=function(r){return r<eB?1:r<tB?2:r<rB?3:r<iB?4:r<nB?5:r<sB?6:r<oB?7:r<aB?8:r<cB?9:10},uB={encode:G$,decode:X$,encodingLength:lB},R5=uB,P5=(r,e,t=0)=>(R5.encode(r,e,t),e),T5=r=>R5.encodingLength(r),Z0=(r,e)=>{let t=e.byteLength,i=T5(r),n=i+T5(t),o=new Uint8Array(n+t);return P5(r,o,0),P5(t,o,i),o.set(e,n),new N5(r,t,e,o)},N5=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},L5=({name:r,code:e,encode:t})=>new U5(r,e,t),U5=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Z0(this.code,t):t.then(i=>Z0(this.code,i))}else throw Error("Unknown type, must be binary type")}},M5=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),hB=L5({name:"sha2-256",code:18,encode:M5("SHA-256")}),fB=L5({name:"sha2-512",code:19,encode:M5("SHA-512")}),dB=Object.freeze({__proto__:null,sha256:hB,sha512:fB}),j5=0,pB="identity",F5=b5,gB=r=>Z0(j5,F5(r)),mB={code:j5,name:pB,encode:F5,digest:gB},yB=Object.freeze({__proto__:null,identity:mB});new TextEncoder,new TextDecoder;var $5={...h$,...d$,...g$,...y$,...b$,...R$,...N$,...M$,...k$,...K$};({...dB,...yB});function B5(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function wB(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?B5(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function k5(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var q5=k5("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),X0=k5("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=wB(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),vB={utf8:q5,"utf-8":q5,hex:$5.base16,latin1:X0,ascii:X0,binary:X0,...$5};function bB(r,e="utf8"){let t=vB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?B5(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var Q0="wc",H5=2,fh="core",Ni=`${Q0}@2:${fh}:`,z5={name:fh,logger:"error"},V5={database:":memory:"},W5="crypto",eg="client_ed25519_seed",K5=rt.ONE_DAY,G5="keychain",J5="0.3",Y5="messages",Z5="0.3",X5=rt.SIX_HOURS,Q5="publisher",ex="irn",tx="error",tg="wss://relay.walletconnect.com",rx="relayer",Pt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ix="_subscription",vo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nx=rt.ONE_SECOND/2,EB={database:":memory:"},sx="2.8.2",ox=1e4,ax="0.3",cx="WALLETCONNECT_CLIENT_ID",Vr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},_B=rt.THIRTY_DAYS,lx="subscription",ux="0.3",hx=rt.FIVE_SECONDS*1e3,fx="pairing",dx="0.3",xB=rt.THIRTY_DAYS,bo={wc_pairingDelete:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:rt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:rt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:rt.ONE_DAY,prompt:!1,tag:0},res:{ttl:rt.ONE_DAY,prompt:!1,tag:0}}},Wr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},px="history",gx="0.3",mx="expirer",Pr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},yx="0.3",IB=rt.ONE_DAY,dh="verify-api",rg="https://verify.walletconnect.com",ig=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=G5,this.version=J5,this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:o}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(o)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,X.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ng=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=W5,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),o=uh.generateKeyPair(n);return uh.encodeIss(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=X.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let o=await this.getClientSeed(),c=uh.generateKeyPair(o),u=X.generateRandomBytes32(),f=K5;return await uh.signJWT(u,n,f,c)},this.generateSharedKey=(n,o,c)=>{this.isInitialized();let u=this.getPrivateKey(n),f=X.deriveSymKey(u,o);return this.setSymKey(f,c)},this.setSymKey=async(n,o)=>{this.isInitialized();let c=o||X.hashKey(n);return await this.keychain.set(c,n),c},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,o,c)=>{this.isInitialized();let u=X.validateEncoding(c),f=v5.safeJsonStringify(o);if(X.isTypeOneEnvelope(u)){let b=u.senderPublicKey,v=u.receiverPublicKey;n=await this.generateSharedKey(b,v)}let d=this.getSymKey(n),{type:m,senderPublicKey:y}=u;return X.encrypt({type:m,symKey:d,message:f,senderPublicKey:y})},this.decode=async(n,o,c)=>{this.isInitialized();let u=X.validateDecoding(o,c);if(X.isTypeOneEnvelope(u)){let m=u.receiverPublicKey,y=u.senderPublicKey;n=await this.generateSharedKey(m,y)}let f=this.getSymKey(n),d=X.decrypt({symKey:f,encoded:o});return v5.safeJsonParse(d)},this.getPayloadType=n=>{let o=X.deserialize(n);return X.decodeTypeByte(o.type)},this.getPayloadSenderPublicKey=n=>{let o=X.deserialize(n);return o.senderPublicKey?GF.toString(o.senderPublicKey,X.BASE16):void 0},this.core=e,this.logger=et.generateChildLogger(t,this.name),this.keychain=i||new ig(this.core,this.logger)}get context(){return et.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(eg)}catch{e=X.generateRandomBytes32(),await this.keychain.set(eg,e)}return bB(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},sg=class extends Ti.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=Y5,this.version=Z5,this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let o=X.hashMessage(n),c=this.messages.get(i);return typeof c>"u"&&(c={}),typeof c[o]<"u"||(c[o]=n,this.messages.set(i,c),await this.persist()),o},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let o=this.get(i),c=X.hashMessage(n);return typeof o[c]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=et.generateChildLogger(e,this.name),this.core=t}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,X.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},wx=class extends Ti.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new ss.EventEmitter,this.name=Q5,this.queue=new Map,this.publishTimeout=rt.toMiliseconds(rt.TEN_SECONDS),this.queueTimeout=rt.toMiliseconds(rt.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(i,n,o)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:o}});try{let c=o?.ttl||X5,u=X.getRelayProtocolName(o),f=o?.prompt||!1,d=o?.tag||0,m=o?.id||br.getBigIntRpcId().toString(),y={topic:i,message:n,opts:{ttl:c,relay:u,prompt:f,tag:d,id:m}},b=setTimeout(()=>this.queue.set(m,y),this.queueTimeout);try{await await X.createExpiringPromise(this.rpcPublish(i,n,c,u,f,d,m),this.publishTimeout),clearTimeout(b),this.relayer.events.emit(Pt.publish,y)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:o}})}catch(c){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(c),c}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=et.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return et.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,o,c,u){var f,d,m,y;let b={method:X.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:o,tag:c},id:u};return X.isUndefined((f=b.params)==null?void 0:f.prompt)&&((d=b.params)==null||delete d.prompt),X.isUndefined((m=b.params)==null?void 0:m.tag)&&((y=b.params)==null||delete y.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b}),this.relayer.request(b)}onPublish(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:n}=e;await this.publish(t,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(ch.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Pt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Pt.message_ack,e=>{this.onPublish(e.id.toString())})}},vx=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(o=>o!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},SB=Object.defineProperty,CB=Object.defineProperties,AB=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,OB=Object.prototype.propertyIsEnumerable,Ex=(r,e,t)=>e in r?SB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xa=(r,e)=>{for(var t in e||(e={}))DB.call(e,t)&&Ex(r,t,e[t]);if(bx)for(var t of bx(e))OB.call(e,t)&&Ex(r,t,e[t]);return r},og=(r,e)=>CB(r,AB(e)),ag=class extends Ti.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new vx,this.events=new ss.EventEmitter,this.name=lx,this.version=ux,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ni,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let o=X.getRelayProtocolName(n),c={topic:i,relay:o};this.pending.set(i,c);let u=await this.rpcSubscribe(i,o);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),u}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,o)=>{let c=new rt.Watch;c.start(this.pendingSubscriptionWatchLabel);let u=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),n(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=hx&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=et.generateChildLogger(t,this.name),this.clientId=""}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=X.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let o=X.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:X.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await X.createExpiringPromise(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Pt.connection_stalled)}return X.hashMessage(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,i={method:X.getRelayProtocolApi(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await X.createExpiringPromise(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Pt.connection_stalled)}}rpcUnsubscribe(e,t,i){let n={method:X.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,og(Xa({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Xa({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Xa({},t)),this.topicMap.set(t.topic,e),this.events.emit(Vr.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Vr.deleted,og(Xa({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Vr.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Vr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);X.isValidArray(t)&&this.onBatchSubscribe(t.map((i,n)=>og(Xa({},e[n]),{id:i})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ch.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Pt.connect,async()=>{await this.onConnect()}),this.relayer.on(Pt.disconnect,()=>{this.onDisconnect()}),this.events.on(Vr.created,async e=>{let t=Vr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Vr.deleted,async e=>{let t=Vr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}},RB=Object.defineProperty,_x=Object.getOwnPropertySymbols,PB=Object.prototype.hasOwnProperty,TB=Object.prototype.propertyIsEnumerable,xx=(r,e,t)=>e in r?RB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NB=(r,e)=>{for(var t in e||(e={}))PB.call(e,t)&&xx(r,t,e[t]);if(_x)for(var t of _x(e))TB.call(e,t)&&xx(r,t,e[t]);return r},cg=class extends Ti.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ss.EventEmitter,this.name=rx,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?et.generateChildLogger(e.logger,this.name):et.pino(et.getDefaultLoggerOptions({level:e.logger||tx})),this.messages=new sg(this.logger,e.core),this.subscriber=new ag(this,this.logger),this.publisher=new wx(this,this.logger),this.relayUrl=e?.relayUrl||tg,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},ox)}get context(){return et.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"";return n||(await Promise.all([new Promise(o=>{this.subscriber.once(Vr.created,c=>{c.topic===e&&o()})}),new Promise(async o=>{n=await this.subscriber.subscribe(e,t),o()})]),n)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(Pt.transport_closed))}async transportOpen(e){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=e||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(Vr.resubscribed,()=>{t()})}),await Promise.race([new Promise(async(t,i)=>{await X.createExpiringPromise(this.provider.connect(),5e3,"socket stalled").catch(n=>i(n)).then(()=>t()).finally(()=>this.removeListener(Pt.transport_closed,this.rejectTransportOpen))}),new Promise(t=>this.once(Pt.transport_closed,this.rejectTransportOpen))])])}catch(t){this.logger.error(t);let i=t;if(!this.isConnectionStalled(i.message))throw t;this.events.emit(Pt.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=e||this.relayUrl,this.connected&&await Promise.all([new Promise(t=>{this.provider.once(vo.disconnect,()=>{t()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JF.JsonRpcProvider(new t$.default(X.formatRelayRpcUrl({sdkVersion:sx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),br.isJsonRpcRequest(e)){if(!e.method.endsWith(ix))return;let t=e.params,{topic:i,message:n,publishedAt:o}=t.data,c={topic:i,message:n,publishedAt:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(NB({type:"event",event:t.id},c)),this.events.emit(t.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else br.isJsonRpcResponse(e)&&this.events.emit(Pt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Pt.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=br.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerProviderListeners(){this.provider.on(vo.payload,e=>this.onProviderPayload(e)),this.provider.on(vo.connect,()=>{this.events.emit(Pt.connect)}),this.provider.on(vo.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(vo.error,e=>{this.logger.error(e),this.events.emit(Pt.error,e)})}registerEventListeners(){this.events.on(Pt.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(Pt.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},rt.toMiliseconds(nx))}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},LB=Object.defineProperty,Ix=Object.getOwnPropertySymbols,UB=Object.prototype.hasOwnProperty,MB=Object.prototype.propertyIsEnumerable,Sx=(r,e,t)=>e in r?LB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cx=(r,e)=>{for(var t in e||(e={}))UB.call(e,t)&&Sx(r,t,e[t]);if(Ix)for(var t of Ix(e))MB.call(e,t)&&Sx(r,t,e[t]);return r},lg=class extends Ti.IStore{constructor(e,t,i,n=Ni,o=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=ax,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!X.isUndefined(c)?this.map.set(this.getKey(c),c):X.isProposalStruct(c)?this.map.set(c.id,c):X.isSessionStruct(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>r$.default(u[f],c[f]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});let f=Cx(Cx({},this.getData(c)),u);this.map.set(c,f),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=et.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=o}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ug=class{constructor(e,t){this.core=e,this.logger=t,this.name=fx,this.version=dx,this.events=new QF.default,this.initialized=!1,this.storagePrefix=Ni,this.ignoredPayloadTypes=[X.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=X.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),o=X.calcExpiry(rt.FIVE_MINUTES),c={protocol:ex},u={topic:n,expiry:o,relay:c,active:!1},f=X.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:c});return await this.pairings.set(n,u),await this.core.relayer.subscribe(n),this.core.expirer.set(n,o),{topic:n,uri:f}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:o,relay:c}=X.parseUri(i.uri);if(this.pairings.keys.includes(n))throw new Error(`Pairing already exists: ${n}`);if(this.core.crypto.hasKeys(n))throw new Error(`Keychain already exists: ${n}`);let u=X.calcExpiry(rt.FIVE_MINUTES),f={topic:n,relay:c,expiry:u,active:!1};return await this.pairings.set(n,f),await this.core.crypto.setSymKey(o,n),await this.core.relayer.subscribe(n,{relay:c}),this.core.expirer.set(n,u),i.activatePairing&&await this.activate({topic:n}),f},this.activate=async({topic:i})=>{this.isInitialized();let n=X.calcExpiry(rt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let o=await this.sendRequest(n,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=X.createDelayedPromise();this.events.once(X.engineEvent("pairing_ping",o),({error:d})=>{d?f(d):u()}),await c()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",X.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,o)=>{let c=br.formatJsonRpcRequest(n,o),u=await this.core.crypto.encode(i,c),f=bo[n].req;return this.core.history.set(i,c),this.core.relayer.publish(i,u,f),c.id},this.sendResult=async(i,n,o)=>{let c=br.formatJsonRpcResult(i,o),u=await this.core.crypto.encode(n,c),f=await this.core.history.get(n,i),d=bo[f.request.method].res;await this.core.relayer.publish(n,u,d),await this.core.history.resolve(c)},this.sendError=async(i,n,o)=>{let c=br.formatJsonRpcError(i,o),u=await this.core.crypto.encode(n,c),f=await this.core.history.get(n,i),d=bo[f.request.method]?bo[f.request.method].res:bo.unregistered_method.res;await this.core.relayer.publish(n,u,d),await this.core.history.resolve(c)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,X.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>X.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:o}=i,c=o.method;if(this.pairings.keys.includes(n))switch(c){case"wc_pairingPing":return this.onPairingPingRequest(n,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,o);default:return this.onUnknownRpcMethodRequest(n,o)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:o}=i,c=(await this.core.history.get(n,o.id)).request.method;if(this.pairings.keys.includes(n))switch(c){case"wc_pairingPing":return this.onPairingPingResponse(n,o);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(i,n)=>{let{id:o}=n;try{this.isValidPing({topic:i}),await this.sendResult(o,i,!0),this.events.emit("pairing_ping",{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onPairingPingResponse=(i,n)=>{let{id:o}=n;setTimeout(()=>{br.isJsonRpcResult(n)?this.events.emit(X.engineEvent("pairing_ping",o),{}):br.isJsonRpcError(n)&&this.events.emit(X.engineEvent("pairing_ping",o),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:o}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit("pairing_delete",{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:o,method:c}=n;try{if(this.registeredMethods.includes(c))return;let u=X.getSdkError("WC_METHOD_UNSUPPORTED",c);await this.sendError(o,i,u),this.logger.error(u)}catch(u){await this.sendError(o,i,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(X.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!X.isValidParams(i)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!X.isValidUrl(i.uri)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!X.isValidParams(i)){let{message:o}=X.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(o)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!X.isValidParams(i)){let{message:o}=X.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(o)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!X.isValidString(i,!1)){let{message:n}=X.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=X.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(X.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=X.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=et.generateChildLogger(t,this.name),this.pairings=new lg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return et.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Pt.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);br.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):br.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Pr.expired,async e=>{let{topic:t}=X.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},hg=class extends Ti.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new ss.EventEmitter,this.name=px,this.version=gx,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:o}),this.records.has(n.id))return;let c={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:o};this.records.set(c.id,c),this.events.emit(Wr.created,c)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=br.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Wr.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(o=>{if(o.topic===i){if(typeof n<"u"&&o.id!==n)return;this.records.delete(o.id),this.events.emit(Wr.deleted,o)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:br.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Wr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Wr.created,e=>{let t=Wr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Wr.updated,e=>{let t=Wr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Wr.deleted,e=>{let t=Wr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},fg=class extends Ti.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new ss.EventEmitter,this.name=mx,this.version=yx,this.cached=[],this.initialized=!1,this.storagePrefix=Ni,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let o=this.formatTarget(i),c={target:o,expiry:n};this.expirations.set(o,c),this.checkExpiry(o,c),this.events.emit(Pr.created,{target:o,expiration:c})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){let n=this.formatTarget(i),o=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Pr.deleted,{target:n,expiration:o})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=et.generateChildLogger(t,this.name)}get context(){return et.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return X.formatTopicTarget(e);if(typeof e=="number")return X.formatIdTarget(e);let{message:t}=X.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Pr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=X.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=X.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;rt.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Pr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ch.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Pr.created,e=>{let t=Pr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Pr.expired,e=>{let t=Pr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Pr.deleted,e=>{let t=Pr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=X.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},dg=class extends Ti.IVerify{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=dh,this.initialized=!1,this.init=async i=>{X.isReactNative()||!X.isBrowser()||(this.verifyUrl=i?.verifyUrl||rg,await this.createIframe())},this.register=async i=>{var n;if(this.initialized||await this.init(),!!this.iframe)try{(n=this.iframe.contentWindow)==null||n.postMessage(i.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${i.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async i=>{var n;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${i.attestationId}`);let o=this.startAbortTimer(rt.FIVE_SECONDS),c=await fetch(`${this.verifyUrl}/attestation/${i.attestationId}`,{signal:this.abortController.signal});return clearTimeout(o),c.status===200?(n=await c.json())==null?void 0:n.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((i,n)=>{if(document.getElementById(dh))return i();let o=document.createElement("iframe");o.setAttribute("id",dh),o.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),o.style.display="none",o.addEventListener("load",()=>{this.initialized=!0,i()}),o.addEventListener("error",c=>{n(c)}),document.body.append(o),this.iframe=o}),new Promise(i=>{setTimeout(()=>i("iframe load timeout"),rt.toMiliseconds(rt.ONE_SECOND/2))})])}catch(i){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(i)}},this.logger=et.generateChildLogger(t,this.name),this.verifyUrl=rg,this.abortController=new AbortController,this.isDevEnv=X.isNode()&&process.env.IS_VITEST}get context(){return et.getLoggerContext(this.logger)}startAbortTimer(e){return setTimeout(()=>this.abortController.abort(),rt.toMiliseconds(e))}},jB=Object.defineProperty,Ax=Object.getOwnPropertySymbols,FB=Object.prototype.hasOwnProperty,$B=Object.prototype.propertyIsEnumerable,Dx=(r,e,t)=>e in r?jB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ox=(r,e)=>{for(var t in e||(e={}))FB.call(e,t)&&Dx(r,t,e[t]);if(Ax)for(var t of Ax(e))$B.call(e,t)&&Dx(r,t,e[t]);return r},Qa=class extends Ti.ICore{constructor(e){super(e),this.protocol=Q0,this.version=H5,this.name=fh,this.events=new ss.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tg;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:et.pino(et.getDefaultLoggerOptions({level:e?.logger||z5.logger}));this.logger=et.generateChildLogger(t,this.name),this.heartbeat=new ch.HeartBeat,this.crypto=new ng(this,this.logger,e?.keychain),this.history=new hg(this,this.logger),this.expirer=new fg(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new e$.default(Ox(Ox({},V5),e?.storageOptions)),this.relayer=new cg({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ug(this,this.logger),this.verify=new dg(this.projectId||"",this.logger)}static async init(e){let t=new Qa(e);await t.initialize();let i=await t.crypto.getClientId();return await t.storage.setItem(cx,i),t}get context(){return et.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},BB=Qa;le.CORE_CONTEXT=fh,le.CORE_DEFAULT=z5,le.CORE_PROTOCOL=Q0,le.CORE_STORAGE_OPTIONS=V5,le.CORE_STORAGE_PREFIX=Ni,le.CORE_VERSION=H5,le.CRYPTO_CLIENT_SEED=eg,le.CRYPTO_CONTEXT=W5,le.CRYPTO_JWT_TTL=K5,le.Core=BB,le.Crypto=ng,le.EXPIRER_CONTEXT=mx,le.EXPIRER_DEFAULT_TTL=IB,le.EXPIRER_EVENTS=Pr,le.EXPIRER_STORAGE_VERSION=yx,le.Expirer=fg,le.HISTORY_CONTEXT=px,le.HISTORY_EVENTS=Wr,le.HISTORY_STORAGE_VERSION=gx,le.JsonRpcHistory=hg,le.KEYCHAIN_CONTEXT=G5,le.KEYCHAIN_STORAGE_VERSION=J5,le.KeyChain=ig,le.MESSAGES_CONTEXT=Y5,le.MESSAGES_STORAGE_VERSION=Z5,le.MessageTracker=sg,le.PAIRING_CONTEXT=fx,le.PAIRING_DEFAULT_TTL=xB,le.PAIRING_RPC_OPTS=bo,le.PAIRING_STORAGE_VERSION=dx,le.PENDING_SUB_RESOLUTION_TIMEOUT=hx,le.PUBLISHER_CONTEXT=Q5,le.PUBLISHER_DEFAULT_TTL=X5,le.Pairing=ug,le.RELAYER_CONTEXT=rx,le.RELAYER_DEFAULT_LOGGER=tx,le.RELAYER_DEFAULT_PROTOCOL=ex,le.RELAYER_DEFAULT_RELAY_URL=tg,le.RELAYER_EVENTS=Pt,le.RELAYER_PROVIDER_EVENTS=vo,le.RELAYER_RECONNECT_TIMEOUT=nx,le.RELAYER_SDK_VERSION=sx,le.RELAYER_STORAGE_OPTIONS=EB,le.RELAYER_SUBSCRIBER_SUFFIX=ix,le.RELAYER_TRANSPORT_CUTOFF=ox,le.Relayer=cg,le.STORE_STORAGE_VERSION=ax,le.SUBSCRIBER_CONTEXT=lx,le.SUBSCRIBER_DEFAULT_TTL=_B,le.SUBSCRIBER_EVENTS=Vr,le.SUBSCRIBER_STORAGE_VERSION=ux,le.Store=lg,le.Subscriber=ag,le.VERIFY_CONTEXT=dh,le.VERIFY_SERVER=rg,le.Verify=dg,le.WALLETCONNECT_CLIENT_ID=cx,le.default=Qa});var Wx=Z(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var ii=Rx(),ph=Du(),Px=n0(),$=Ra(),Tx=Yr(),mt=Wn(),St=(go(),Xt);function kB(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var qB=kB(Tx),pg="wc",gg=2,mg="client",gh=`${pg}@${gg}:${mg}:`,mh={name:mg,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},HB={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},zB={database:":memory:"},Nx="WALLETCONNECT_DEEPLINK_CHOICE",VB={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},WB="history",KB="0.3",Lx="proposal",GB=mt.THIRTY_DAYS,Ux="Proposal expired",Mx="session",ec=mt.SEVEN_DAYS,jx="engine",Eo={wc_sessionPropose:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:mt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:mt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:mt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:mt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:mt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:mt.THIRTY_SECONDS,prompt:!1,tag:1115}}},yh={min:mt.FIVE_MINUTES,max:mt.SEVEN_DAYS},Fx="request",$x=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],JB=Object.defineProperty,YB=Object.defineProperties,ZB=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,XB=Object.prototype.hasOwnProperty,QB=Object.prototype.propertyIsEnumerable,kx=(r,e,t)=>e in r?JB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tr=(r,e)=>{for(var t in e||(e={}))XB.call(e,t)&&kx(r,t,e[t]);if(Bx)for(var t of Bx(e))QB.call(e,t)&&kx(r,t,e[t]);return r},yg=(r,e)=>YB(r,ZB(e)),qx=class extends Px.IEngine{constructor(e){super(e),this.name=jx,this.events=new qB.default,this.initialized=!1,this.ignoredPayloadTypes=[$.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Eo)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();let i=yg(Tr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);let{pairingTopic:n,requiredNamespaces:o,optionalNamespaces:c,sessionProperties:u,relays:f}=i,d=n,m,y=!1;if(d&&(y=this.client.core.pairing.pairings.get(d).active),!d||!y){let{topic:U,uri:N}=await this.client.core.pairing.create();d=U,m=N}let b=await this.client.core.crypto.generateKeyPair(),v=Tr({requiredNamespaces:o,optionalNamespaces:c,relays:f??[{protocol:ii.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:b,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:_,resolve:S,done:R}=$.createDelayedPromise(mt.FIVE_MINUTES,Ux);if(this.events.once($.engineEvent("session_connect"),async({error:U,session:N})=>{if(U)_(U);else if(N){N.self.publicKey=b;let k=yg(Tr({},N),{requiredNamespaces:N.requiredNamespaces,optionalNamespaces:N.optionalNamespaces});await this.client.session.set(N.topic,k),await this.setExpiry(N.topic,N.expiry),d&&await this.client.core.pairing.updateMetadata({topic:d,metadata:N.peer.metadata}),S(k)}}),!d){let{message:U}=$.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(U)}let P=await this.sendRequest(d,"wc_sessionPropose",v),H=$.calcExpiry(mt.FIVE_MINUTES);return await this.setProposal(P,Tr({id:P,expiry:H},v)),{uri:m,approval:R}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:o,sessionProperties:c}=t,u=this.client.proposal.get(i),{pairingTopic:f,proposer:d,requiredNamespaces:m,optionalNamespaces:y}=u;f=f||"",$.isValidObject(m)||(m=$.getRequiredNamespacesFromNamespaces(o,"approve()"));let b=await this.client.core.crypto.generateKeyPair(),v=d.publicKey,_=await this.client.core.crypto.generateSharedKey(b,v);f&&i&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:d.metadata}),await this.sendResult(i,f,{relay:{protocol:n??"irn"},responderPublicKey:b}),await this.client.proposal.delete(i,$.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));let S=Tr({relay:{protocol:n??"irn"},namespaces:o,requiredNamespaces:m,optionalNamespaces:y,pairingTopic:f,controller:{publicKey:b,metadata:this.client.metadata},expiry:$.calcExpiry(ec)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(_),await this.sendRequest(_,"wc_sessionSettle",S);let R=yg(Tr({},S),{topic:_,pairingTopic:f,acknowledged:!1,self:S.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:b});return await this.client.session.set(_,R),await this.setExpiry(_,$.calcExpiry(ec)),{topic:_,acknowledged:()=>new Promise(P=>setTimeout(()=>P(this.client.session.get(_)),500))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:o}=this.client.proposal.get(i);o&&(await this.sendError(i,o,n),await this.client.proposal.delete(i,$.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,o=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:c,resolve:u,reject:f}=$.createDelayedPromise();return this.events.once($.engineEvent("session_update",o),({error:d})=>{d?f(d):u()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:c}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:o,resolve:c,reject:u}=$.createDelayedPromise();return this.events.once($.engineEvent("session_extend",n),({error:f})=>{f?u(f):c()}),await this.setExpiry(i,$.calcExpiry(ec)),{acknowledged:o}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:o,expiry:c}=t,u=await this.sendRequest(o,"wc_sessionRequest",{request:n,chainId:i},c),{done:f,resolve:d,reject:m}=$.createDelayedPromise(c);this.events.once($.engineEvent("session_request",u),({error:b,result:v})=>{b?m(b):d(v)}),this.client.events.emit("session_request_sent",{topic:o,request:n,chainId:i,id:u});let y=await this.client.core.storage.getItem(Nx);return $.handleDeeplinkRedirect({id:u,topic:o,wcDeepLink:y}),await f()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:o}=n;St.isJsonRpcResult(n)?await this.sendResult(o,i,n.result):St.isJsonRpcError(n)&&await this.sendError(o,i,n.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:o,resolve:c,reject:u}=$.createDelayedPromise();this.events.once($.engineEvent("session_ping",n),({error:f})=>{f?u(f):c()}),await o()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:o}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:o})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=St.getBigIntRpcId().toString(),o,c=u=>{u?.id.toString()===n&&(this.client.core.relayer.events.removeListener(ii.RELAYER_EVENTS.message_ack,c),o())};await Promise.all([new Promise(u=>{o=u,this.client.core.relayer.on(ii.RELAYER_EVENTS.message_ack,c)}),this.sendRequest(i,"wc_sessionDelete",$.getSdkError("USER_DISCONNECTED"),void 0,n)]),await this.deleteSession(i)}else await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>$.isSessionCompatible(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(o=>{var c,u;return((c=o.peerMetadata)==null?void 0:c.url)&&((u=o.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&o.topic&&o.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,$.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(n.publicKey)&&await this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),i||this.client.core.expirer.del(t)},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,$.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=Eo.wc_sessionRequest.req.ttl,{id:n,topic:o,params:c}=t;await this.client.pendingRequest.set(n,{id:n,topic:o,params:c}),i&&this.client.core.expirer.set(n,$.calcExpiry(i))},this.sendRequest=async(t,i,n,o,c)=>{let u=St.formatJsonRpcRequest(i,n);if($.isBrowser()&&$x.includes(i)){let m=$.hashMessage(JSON.stringify(u));await this.client.core.verify.register({attestationId:m})}let f=await this.client.core.crypto.encode(t,u),d=Eo[i].req;return o&&(d.ttl=o),c&&(d.id=c),this.client.core.history.set(t,u),this.client.core.relayer.publish(t,f,d),u.id},this.sendResult=async(t,i,n)=>{let o=St.formatJsonRpcResult(t,n),c=await this.client.core.crypto.encode(i,o),u=await this.client.core.history.get(i,t),f=Eo[u.request.method].res;this.client.core.relayer.publish(i,c,f),await this.client.core.history.resolve(o)},this.sendError=async(t,i,n)=>{let o=St.formatJsonRpcError(t,n),c=await this.client.core.crypto.encode(i,o),u=await this.client.core.history.get(i,t),f=Eo[u.request.method].res;this.client.core.relayer.publish(i,c,f),await this.client.core.history.resolve(o)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{$.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{$.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,o=n.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,o=(await this.client.core.history.get(i,n.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:i}=t,{message:n}=$.getInternalError("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:o}=i;try{this.isValidConnect(Tr({},i.params));let c=$.calcExpiry(mt.FIVE_MINUTES),u=Tr({id:o,pairingTopic:t,expiry:c},n);await this.setProposal(o,u);let f=$.hashMessage(JSON.stringify(i)),d=await this.getVerifyContext(f,u.proposer.metadata);this.client.events.emit("session_proposal",{id:o,params:u,verifyContext:d})}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(St.isJsonRpcResult(i)){let{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});let c=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});let u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});let f=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});let d=await this.client.core.crypto.generateSharedKey(u,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:d});let m=await this.client.core.relayer.subscribe(d);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:t})}else St.isJsonRpcError(i)&&(await this.client.proposal.delete(n,$.getSdkError("USER_DISCONNECTED")),this.events.emit($.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidSessionSettleRequest(o);let{relay:c,controller:u,expiry:f,namespaces:d,requiredNamespaces:m,optionalNamespaces:y,sessionProperties:b,pairingTopic:v}=i.params,_=Tr({topic:t,relay:c,expiry:f,namespaces:d,acknowledged:!0,pairingTopic:v,requiredNamespaces:m,optionalNamespaces:y,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},b&&{sessionProperties:b});await this.sendResult(i.id,t,!0),this.events.emit($.engineEvent("session_connect"),{session:_}),this.cleanupDuplicatePairings(_)}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit($.engineEvent("session_approve",n),{})):St.isJsonRpcError(i)&&(await this.client.session.delete(t,$.getSdkError("USER_DISCONNECTED")),this.events.emit($.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:o}=i;try{this.isValidUpdate(Tr({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(o,t,!0),this.client.events.emit("session_update",{id:o,topic:t,params:n})}catch(c){await this.sendError(o,t,c),this.client.logger.error(c)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_update",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,$.calcExpiry(ec)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_extend",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_ping",n),{}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(ii.RELAYER_EVENTS.publish,async()=>{o(await this.deleteSession(t))})}),this.sendResult(n,t,!0)]),this.client.events.emit("session_delete",{id:n,topic:t})}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidRequest(Tr({topic:t},o)),await this.setPendingSessionRequest({id:n,topic:t,params:o});let c=$.hashMessage(JSON.stringify(i)),u=this.client.session.get(t),f=await this.getVerifyContext(c,u.peer.metadata);this.client.events.emit("session_request",{id:n,topic:t,params:o,verifyContext:f})}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;St.isJsonRpcResult(i)?this.events.emit($.engineEvent("session_request",n),{result:i.result}):St.isJsonRpcError(i)&&this.events.emit($.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:o}=i;try{this.isValidEmit(Tr({topic:t},o)),this.client.events.emit("session_event",{id:n,topic:t,params:o})}catch(c){await this.sendError(n,t,c),this.client.logger.error(c)}},this.isValidConnect=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(f)}let{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:o,sessionProperties:c,relays:u}=t;if($.isUndefined(i)||await this.isValidPairingTopic(i),!$.isValidRelays(u,!0)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}!$.isUndefined(n)&&$.isValidObject(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!$.isUndefined(o)&&$.isValidObject(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),$.isUndefined(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(t,i)=>{let n=$.isValidRequiredNamespaces(t,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async t=>{if(!$.isValidParams(t))throw new Error($.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:o,sessionProperties:c}=t;await this.isValidProposalId(i);let u=this.client.proposal.get(i),f=$.isValidNamespaces(n,"approve()");if(f)throw new Error(f.message);let d=$.isConformingNamespaces(u.requiredNamespaces,n,"approve()");if(d)throw new Error(d.message);if(!$.isValidString(o,!0)){let{message:m}=$.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(m)}$.isUndefined(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async t=>{if(!$.isValidParams(t)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(o)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!$.isValidErrorReason(n)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(o)}},this.isValidSessionSettleRequest=t=>{if(!$.isValidParams(t)){let{message:d}=$.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(d)}let{relay:i,controller:n,namespaces:o,expiry:c}=t;if(!$.isValidRelay(i)){let{message:d}=$.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}let u=$.isValidController(n,"onSessionSettleRequest()");if(u)throw new Error(u.message);let f=$.isValidNamespaces(o,"onSessionSettleRequest()");if(f)throw new Error(f.message);if($.isExpired(c)){let{message:d}=$.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(d)}},this.isValidUpdate=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(f)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let o=this.client.session.get(i),c=$.isValidNamespaces(n,"update()");if(c)throw new Error(c.message);let u=$.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!$.isValidParams(t)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(f)}let{topic:i,request:n,chainId:o,expiry:c}=t;await this.isValidSessionTopic(i);let{namespaces:u}=this.client.session.get(i);if(!$.isValidNamespacesChainId(u,o)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(f)}if(!$.isValidRequest(n)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(f)}if(!$.isValidNamespacesRequest(u,o,n.method)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(f)}if(c&&!$.isValidRequestExpiry(c,yh)){let{message:f}=$.getInternalError("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${yh.min} and ${yh.max}`);throw new Error(f)}},this.isValidRespond=async t=>{if(!$.isValidParams(t)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!$.isValidResponse(n)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(o)}},this.isValidPing=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!$.isValidParams(t)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}let{topic:i,event:n,chainId:o}=t;await this.isValidSessionTopic(i);let{namespaces:c}=this.client.session.get(i);if(!$.isValidNamespacesChainId(c,o)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(u)}if(!$.isValidEvent(n)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(u)}if(!$.isValidNamespacesEvent(c,o,n.name)){let{message:u}=$.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(u)}},this.isValidDisconnect=async t=>{if(!$.isValidParams(t)){let{message:n}=$.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.getVerifyContext=async(t,i)=>{let n={verified:{verifyUrl:i.verifyUrl||"",validation:"UNKNOWN",origin:i.url||""}};try{let o=await this.client.core.verify.resolve({attestationId:t,verifyUrl:i.verifyUrl});o&&(n.verified.origin=o,n.verified.validation=o===i.url?"VALID":"INVALID")}catch(o){this.client.logger.error(o)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(n=>{if(!$.isValidString(n,!1)){let{message:o}=$.getInternalError("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(o)}})}}isInitialized(){if(!this.initialized){let{message:e}=$.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(ii.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);St.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):St.isJsonRpcResponse(n)?(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n})):this.onRelayEventUnknownPayload({topic:t,payload:n})})}registerExpirerEvents(){this.client.core.expirer.on(ii.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=$.parseExpirerTarget(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,$.getInternalError("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}isValidPairingTopic(e){if(!$.isValidString(e,!1)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=$.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!$.isValidString(e,!1)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=$.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if($.isValidString(e,!1)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=$.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!$.isValidId(e)){let{message:t}=$.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=$.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if($.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=$.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},Hx=class extends ii.Store{constructor(e,t){super(e,t,Lx,gh),this.core=e,this.logger=t}},zx=class extends ii.Store{constructor(e,t){super(e,t,Mx,gh),this.core=e,this.logger=t}},Vx=class extends ii.Store{constructor(e,t){super(e,t,Fx,gh,i=>i.id),this.core=e,this.logger=t}},tc=class extends Px.ISignClient{constructor(e){super(e),this.protocol=pg,this.version=gg,this.name=mh.name,this.events=new Tx.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||mh.name,this.metadata=e?.metadata||$.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:ph.pino(ph.getDefaultLoggerOptions({level:e?.logger||mh.logger}));this.core=e?.core||new ii.Core(e),this.logger=ph.generateChildLogger(t,this.name),this.session=new zx(this.core,this.logger),this.proposal=new Hx(this.core,this.logger),this.pendingRequest=new Vx(this.core,this.logger),this.engine=new qx(this)}static async init(e){let t=new tc(e);return await t.initialize(),t}get context(){return ph.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},ek=tc;lt.ENGINE_CONTEXT=jx,lt.ENGINE_RPC_OPTS=Eo,lt.HISTORY_CONTEXT=WB,lt.HISTORY_EVENTS=VB,lt.HISTORY_STORAGE_VERSION=KB,lt.METHODS_TO_VERIFY=$x,lt.PROPOSAL_CONTEXT=Lx,lt.PROPOSAL_EXPIRY=GB,lt.PROPOSAL_EXPIRY_MESSAGE=Ux,lt.REQUEST_CONTEXT=Fx,lt.SESSION_CONTEXT=Mx,lt.SESSION_EXPIRY=ec,lt.SESSION_REQUEST_EXPIRY_BOUNDARIES=yh,lt.SIGN_CLIENT_CONTEXT=mg,lt.SIGN_CLIENT_DEFAULT=mh,lt.SIGN_CLIENT_EVENTS=HB,lt.SIGN_CLIENT_PROTOCOL=pg,lt.SIGN_CLIENT_STORAGE_OPTIONS=zB,lt.SIGN_CLIENT_STORAGE_PREFIX=gh,lt.SIGN_CLIENT_VERSION=gg,lt.SignClient=ek,lt.WALLETCONNECT_DEEPLINK_CHOICE=Nx,lt.default=tc});var Jx=Z((Li,Gx)=>{var Kx=typeof self!="undefined"?self:Li,wh=function(){function r(){this.fetch=!1,this.DOMException=Kx.DOMException}return r.prototype=Kx,new r}();(function(r){var e=function(t){var i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function n(E){return E&&DataView.prototype.isPrototypeOf(E)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(E){return E&&o.indexOf(Object.prototype.toString.call(E))>-1};function u(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function f(E){return typeof E!="string"&&(E=String(E)),E}function d(E){var I={next:function(){var L=E.shift();return{done:L===void 0,value:L}}};return i.iterable&&(I[Symbol.iterator]=function(){return I}),I}function m(E){this.map={},E instanceof m?E.forEach(function(I,L){this.append(L,I)},this):Array.isArray(E)?E.forEach(function(I){this.append(I[0],I[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(I){this.append(I,E[I])},this)}m.prototype.append=function(E,I){E=u(E),I=f(I);var L=this.map[E];this.map[E]=L?L+", "+I:I},m.prototype.delete=function(E){delete this.map[u(E)]},m.prototype.get=function(E){return E=u(E),this.has(E)?this.map[E]:null},m.prototype.has=function(E){return this.map.hasOwnProperty(u(E))},m.prototype.set=function(E,I){this.map[u(E)]=f(I)},m.prototype.forEach=function(E,I){for(var L in this.map)this.map.hasOwnProperty(L)&&E.call(I,this.map[L],L,this)},m.prototype.keys=function(){var E=[];return this.forEach(function(I,L){E.push(L)}),d(E)},m.prototype.values=function(){var E=[];return this.forEach(function(I){E.push(I)}),d(E)},m.prototype.entries=function(){var E=[];return this.forEach(function(I,L){E.push([L,I])}),d(E)},i.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function b(E){return new Promise(function(I,L){E.onload=function(){I(E.result)},E.onerror=function(){L(E.error)}})}function v(E){var I=new FileReader,L=b(I);return I.readAsArrayBuffer(E),L}function _(E){var I=new FileReader,L=b(I);return I.readAsText(E),L}function S(E){for(var I=new Uint8Array(E),L=new Array(I.length),B=0;B<I.length;B++)L[B]=String.fromCharCode(I[B]);return L.join("")}function R(E){if(E.slice)return E.slice(0);var I=new Uint8Array(E.byteLength);return I.set(new Uint8Array(E)),I.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(E){this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:i.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:i.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():i.arrayBuffer&&i.blob&&n(E)?(this._bodyArrayBuffer=R(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||c(E))?this._bodyArrayBuffer=R(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(E){var I=E.toUpperCase();return H.indexOf(I)>-1?I:E}function N(E,I){I=I||{};var L=I.body;if(E instanceof N){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,I.headers||(this.headers=new m(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!L&&E._bodyInit!=null&&(L=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new m(I.headers)),this.method=U(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function k(E){var I=new FormData;return E.trim().split("&").forEach(function(L){if(L){var B=L.split("="),G=B.shift().replace(/\+/g," "),Q=B.join("=").replace(/\+/g," ");I.append(decodeURIComponent(G),decodeURIComponent(Q))}}),I}function W(E){var I=new m,L=E.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(B){var G=B.split(":"),Q=G.shift().trim();if(Q){var ne=G.join(":").trim();I.append(Q,ne)}}),I}P.call(N.prototype);function C(E,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new m(I.headers),this.url=I.url||"",this._initBody(E)}P.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},C.error=function(){var E=new C(null,{status:0,statusText:""});return E.type="error",E};var D=[301,302,303,307,308];C.redirect=function(E,I){if(D.indexOf(I)===-1)throw new RangeError("Invalid status code");return new C(null,{status:I,headers:{location:E}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(I,L){this.message=I,this.name=L;var B=Error(I);this.stack=B.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function V(E,I){return new Promise(function(L,B){var G=new N(E,I);if(G.signal&&G.signal.aborted)return B(new t.DOMException("Aborted","AbortError"));var Q=new XMLHttpRequest;function ne(){Q.abort()}Q.onload=function(){var ee={status:Q.status,statusText:Q.statusText,headers:W(Q.getAllResponseHeaders()||"")};ee.url="responseURL"in Q?Q.responseURL:ee.headers.get("X-Request-URL");var oe="response"in Q?Q.response:Q.responseText;L(new C(oe,ee))},Q.onerror=function(){B(new TypeError("Network request failed"))},Q.ontimeout=function(){B(new TypeError("Network request failed"))},Q.onabort=function(){B(new t.DOMException("Aborted","AbortError"))},Q.open(G.method,G.url,!0),G.credentials==="include"?Q.withCredentials=!0:G.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&i.blob&&(Q.responseType="blob"),G.headers.forEach(function(ee,oe){Q.setRequestHeader(oe,ee)}),G.signal&&(G.signal.addEventListener("abort",ne),Q.onreadystatechange=function(){Q.readyState===4&&G.signal.removeEventListener("abort",ne)}),Q.send(typeof G._bodyInit=="undefined"?null:G._bodyInit)})}return V.polyfill=!0,r.fetch||(r.fetch=V,r.Headers=m,r.Request=N,r.Response=C),t.Headers=m,t.Request=N,t.Response=C,t.fetch=V,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(wh);wh.fetch.ponyfill=!0;delete wh.fetch.polyfill;var _o=wh;Li=_o.fetch;Li.default=_o.fetch;Li.fetch=_o.fetch;Li.Headers=_o.Headers;Li.Request=_o.Request;Li.Response=_o.Response;Gx.exports=Li});var Yx,wg,tk,rk,Zx,Xx,vg,Qx,bg=M(()=>{Yx=Or(Yr()),wg=Or(Jx());Ua();go();tk={Accept:"application/json","Content-Type":"application/json"},rk="POST",Zx={headers:tk,method:rk},Xx=10,vg=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Yx.EventEmitter,this.isAvailable=!1,this.registering=!1,!Gu(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{let i=ln(e),o=await(await(0,wg.default)(this.url,Object.assign(Object.assign({},Zx),{body:i}))).json();this.onPayload({data:o})}catch(i){this.onError(e.id,i)}}async register(e=this.url){if(!Gu(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable=="undefined")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=ln({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,wg.default)(e,Object.assign(Object.assign({},Zx),{body:t}))}this.onOpen()}catch(t){let i=this.parseError(t);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data=="undefined")return;let t=typeof e.data=="string"?Yn(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),o=za(e,n);this.events.emit("payload",o)}parseError(e,t=this.url){return Ha(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Xx&&this.events.setMaxListeners(Xx)}},Qx=vg});var e6={};nt(e6,{HttpConnection:()=>vg,default:()=>ik});var ik,t6=M(()=>{bg();bg();ik=Qx});var b6=Z(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var r6=Wx(),Nr=Ra(),i6=Du(),n6=(t6(),e6),os=(M0(),U0),nk=Yr();function Eg(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var sk=Eg(r6),xo=Eg(n6),ok=Eg(nk),s6="error",ak="wss://relay.walletconnect.com",ck="wc",lk="universal_provider",o6=`${ck}@2:${lk}:`,uk="https://rpc.walletconnect.com/v1",mn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_g={exports:{}};(function(r,e){(function(){var t,i="4.17.21",n=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,m="__lodash_placeholder__",y=1,b=2,v=4,_=1,S=2,R=1,P=2,H=4,U=8,N=16,k=32,W=64,C=128,D=256,V=512,E=30,I="...",L=800,B=16,G=1,Q=2,ne=3,ee=1/0,oe=9007199254740991,Ye=17976931348623157e292,ue=0/0,ae=4294967295,me=ae-1,ye=ae>>>1,ge=[["ary",C],["bind",R],["bindKey",P],["curry",U],["curryRight",N],["flip",V],["partial",k],["partialRight",W],["rearg",D]],he="[object Arguments]",fe="[object Array]",we="[object AsyncFunction]",Se="[object Boolean]",De="[object Date]",je="[object DOMException]",Pe="[object Error]",Oe="[object Function]",$e="[object GeneratorFunction]",_e="[object Map]",Le="[object Number]",sS="[object Null]",fi="[object Object]",xm="[object Promise]",oS="[object Proxy]",Ko="[object RegExp]",$r="[object Set]",Go="[object String]",Mc="[object Symbol]",aS="[object Undefined]",Jo="[object WeakMap]",cS="[object WeakSet]",Yo="[object ArrayBuffer]",Ss="[object DataView]",hf="[object Float32Array]",ff="[object Float64Array]",df="[object Int8Array]",pf="[object Int16Array]",gf="[object Int32Array]",mf="[object Uint8Array]",yf="[object Uint8ClampedArray]",wf="[object Uint16Array]",vf="[object Uint32Array]",lS=/\b__p \+= '';/g,uS=/\b(__p \+=) '' \+/g,hS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Im=/&(?:amp|lt|gt|quot|#39);/g,Sm=/[&<>"']/g,fS=RegExp(Im.source),dS=RegExp(Sm.source),pS=/<%-([\s\S]+?)%>/g,gS=/<%([\s\S]+?)%>/g,Cm=/<%=([\s\S]+?)%>/g,mS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yS=/^\w*$/,wS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bf=/[\\^$.*+?()[\]{}|]/g,vS=RegExp(bf.source),Ef=/^\s+/,bS=/\s/,ES=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_S=/\{\n\/\* \[wrapped with (.+)\] \*/,xS=/,? & /,IS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,SS=/[()=,{}\[\]\/\s]/,CS=/\\(\\)?/g,AS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Am=/\w*$/,DS=/^[-+]0x[0-9a-f]+$/i,OS=/^0b[01]+$/i,RS=/^\[object .+?Constructor\]$/,PS=/^0o[0-7]+$/i,TS=/^(?:0|[1-9]\d*)$/,NS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jc=/($^)/,LS=/['\n\r\u2028\u2029\\]/g,Fc="\\ud800-\\udfff",US="\\u0300-\\u036f",MS="\\ufe20-\\ufe2f",jS="\\u20d0-\\u20ff",Dm=US+MS+jS,Om="\\u2700-\\u27bf",Rm="a-z\\xdf-\\xf6\\xf8-\\xff",FS="\\xac\\xb1\\xd7\\xf7",$S="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",BS="\\u2000-\\u206f",kS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pm="A-Z\\xc0-\\xd6\\xd8-\\xde",Tm="\\ufe0e\\ufe0f",Nm=FS+$S+BS+kS,_f="['\u2019]",qS="["+Fc+"]",Lm="["+Nm+"]",$c="["+Dm+"]",Um="\\d+",HS="["+Om+"]",Mm="["+Rm+"]",jm="[^"+Fc+Nm+Um+Om+Rm+Pm+"]",xf="\\ud83c[\\udffb-\\udfff]",zS="(?:"+$c+"|"+xf+")",Fm="[^"+Fc+"]",If="(?:\\ud83c[\\udde6-\\uddff]){2}",Sf="[\\ud800-\\udbff][\\udc00-\\udfff]",Cs="["+Pm+"]",$m="\\u200d",Bm="(?:"+Mm+"|"+jm+")",VS="(?:"+Cs+"|"+jm+")",km="(?:"+_f+"(?:d|ll|m|re|s|t|ve))?",qm="(?:"+_f+"(?:D|LL|M|RE|S|T|VE))?",Hm=zS+"?",zm="["+Tm+"]?",WS="(?:"+$m+"(?:"+[Fm,If,Sf].join("|")+")"+zm+Hm+")*",KS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vm=zm+Hm+WS,JS="(?:"+[HS,If,Sf].join("|")+")"+Vm,YS="(?:"+[Fm+$c+"?",$c,If,Sf,qS].join("|")+")",ZS=RegExp(_f,"g"),XS=RegExp($c,"g"),Cf=RegExp(xf+"(?="+xf+")|"+YS+Vm,"g"),QS=RegExp([Cs+"?"+Mm+"+"+km+"(?="+[Lm,Cs,"$"].join("|")+")",VS+"+"+qm+"(?="+[Lm,Cs+Bm,"$"].join("|")+")",Cs+"?"+Bm+"+"+km,Cs+"+"+qm,GS,KS,Um,JS].join("|"),"g"),eC=RegExp("["+$m+Fc+Dm+Tm+"]"),tC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],iC=-1,at={};at[hf]=at[ff]=at[df]=at[pf]=at[gf]=at[mf]=at[yf]=at[wf]=at[vf]=!0,at[he]=at[fe]=at[Yo]=at[Se]=at[Ss]=at[De]=at[Pe]=at[Oe]=at[_e]=at[Le]=at[fi]=at[Ko]=at[$r]=at[Go]=at[Jo]=!1;var it={};it[he]=it[fe]=it[Yo]=it[Ss]=it[Se]=it[De]=it[hf]=it[ff]=it[df]=it[pf]=it[gf]=it[_e]=it[Le]=it[fi]=it[Ko]=it[$r]=it[Go]=it[Mc]=it[mf]=it[yf]=it[wf]=it[vf]=!0,it[Pe]=it[Oe]=it[Jo]=!1;var nC={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},sC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oC={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},aC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cC=parseFloat,lC=parseInt,Wm=typeof rc=="object"&&rc&&rc.Object===Object&&rc,uC=typeof self=="object"&&self&&self.Object===Object&&self,Mt=Wm||uC||Function("return this")(),Af=e&&!e.nodeType&&e,Mn=Af&&!0&&r&&!r.nodeType&&r,Km=Mn&&Mn.exports===Af,Df=Km&&Wm.process,Er=function(){try{var O=Mn&&Mn.require&&Mn.require("util").types;return O||Df&&Df.binding&&Df.binding("util")}catch{}}(),Gm=Er&&Er.isArrayBuffer,Jm=Er&&Er.isDate,Ym=Er&&Er.isMap,Zm=Er&&Er.isRegExp,Xm=Er&&Er.isSet,Qm=Er&&Er.isTypedArray;function ur(O,z,j){switch(j.length){case 0:return O.call(z);case 1:return O.call(z,j[0]);case 2:return O.call(z,j[0],j[1]);case 3:return O.call(z,j[0],j[1],j[2])}return O.apply(z,j)}function hC(O,z,j,se){for(var xe=-1,Ve=O==null?0:O.length;++xe<Ve;){var Dt=O[xe];z(se,Dt,j(Dt),O)}return se}function _r(O,z){for(var j=-1,se=O==null?0:O.length;++j<se&&z(O[j],j,O)!==!1;);return O}function fC(O,z){for(var j=O==null?0:O.length;j--&&z(O[j],j,O)!==!1;);return O}function ey(O,z){for(var j=-1,se=O==null?0:O.length;++j<se;)if(!z(O[j],j,O))return!1;return!0}function zi(O,z){for(var j=-1,se=O==null?0:O.length,xe=0,Ve=[];++j<se;){var Dt=O[j];z(Dt,j,O)&&(Ve[xe++]=Dt)}return Ve}function Bc(O,z){var j=O==null?0:O.length;return!!j&&As(O,z,0)>-1}function Of(O,z,j){for(var se=-1,xe=O==null?0:O.length;++se<xe;)if(j(z,O[se]))return!0;return!1}function ut(O,z){for(var j=-1,se=O==null?0:O.length,xe=Array(se);++j<se;)xe[j]=z(O[j],j,O);return xe}function Vi(O,z){for(var j=-1,se=z.length,xe=O.length;++j<se;)O[xe+j]=z[j];return O}function Rf(O,z,j,se){var xe=-1,Ve=O==null?0:O.length;for(se&&Ve&&(j=O[++xe]);++xe<Ve;)j=z(j,O[xe],xe,O);return j}function dC(O,z,j,se){var xe=O==null?0:O.length;for(se&&xe&&(j=O[--xe]);xe--;)j=z(j,O[xe],xe,O);return j}function Pf(O,z){for(var j=-1,se=O==null?0:O.length;++j<se;)if(z(O[j],j,O))return!0;return!1}var pC=Tf("length");function gC(O){return O.split("")}function mC(O){return O.match(IS)||[]}function ty(O,z,j){var se;return j(O,function(xe,Ve,Dt){if(z(xe,Ve,Dt))return se=Ve,!1}),se}function kc(O,z,j,se){for(var xe=O.length,Ve=j+(se?1:-1);se?Ve--:++Ve<xe;)if(z(O[Ve],Ve,O))return Ve;return-1}function As(O,z,j){return z===z?DC(O,z,j):kc(O,ry,j)}function yC(O,z,j,se){for(var xe=j-1,Ve=O.length;++xe<Ve;)if(se(O[xe],z))return xe;return-1}function ry(O){return O!==O}function iy(O,z){var j=O==null?0:O.length;return j?Lf(O,z)/j:ue}function Tf(O){return function(z){return z==null?t:z[O]}}function Nf(O){return function(z){return O==null?t:O[z]}}function ny(O,z,j,se,xe){return xe(O,function(Ve,Dt,tt){j=se?(se=!1,Ve):z(j,Ve,Dt,tt)}),j}function wC(O,z){var j=O.length;for(O.sort(z);j--;)O[j]=O[j].value;return O}function Lf(O,z){for(var j,se=-1,xe=O.length;++se<xe;){var Ve=z(O[se]);Ve!==t&&(j=j===t?Ve:j+Ve)}return j}function Uf(O,z){for(var j=-1,se=Array(O);++j<O;)se[j]=z(j);return se}function vC(O,z){return ut(z,function(j){return[j,O[j]]})}function sy(O){return O&&O.slice(0,ly(O)+1).replace(Ef,"")}function hr(O){return function(z){return O(z)}}function Mf(O,z){return ut(z,function(j){return O[j]})}function Zo(O,z){return O.has(z)}function oy(O,z){for(var j=-1,se=O.length;++j<se&&As(z,O[j],0)>-1;);return j}function ay(O,z){for(var j=O.length;j--&&As(z,O[j],0)>-1;);return j}function bC(O,z){for(var j=O.length,se=0;j--;)O[j]===z&&++se;return se}var EC=Nf(nC),_C=Nf(sC);function xC(O){return"\\"+aC[O]}function IC(O,z){return O==null?t:O[z]}function Ds(O){return eC.test(O)}function SC(O){return tC.test(O)}function CC(O){for(var z,j=[];!(z=O.next()).done;)j.push(z.value);return j}function jf(O){var z=-1,j=Array(O.size);return O.forEach(function(se,xe){j[++z]=[xe,se]}),j}function cy(O,z){return function(j){return O(z(j))}}function Wi(O,z){for(var j=-1,se=O.length,xe=0,Ve=[];++j<se;){var Dt=O[j];(Dt===z||Dt===m)&&(O[j]=m,Ve[xe++]=j)}return Ve}function qc(O){var z=-1,j=Array(O.size);return O.forEach(function(se){j[++z]=se}),j}function AC(O){var z=-1,j=Array(O.size);return O.forEach(function(se){j[++z]=[se,se]}),j}function DC(O,z,j){for(var se=j-1,xe=O.length;++se<xe;)if(O[se]===z)return se;return-1}function OC(O,z,j){for(var se=j+1;se--;)if(O[se]===z)return se;return se}function Os(O){return Ds(O)?PC(O):pC(O)}function Br(O){return Ds(O)?TC(O):gC(O)}function ly(O){for(var z=O.length;z--&&bS.test(O.charAt(z)););return z}var RC=Nf(oC);function PC(O){for(var z=Cf.lastIndex=0;Cf.test(O);)++z;return z}function TC(O){return O.match(Cf)||[]}function NC(O){return O.match(QS)||[]}var LC=function O(z){z=z==null?Mt:Rs.defaults(Mt.Object(),z,Rs.pick(Mt,rC));var j=z.Array,se=z.Date,xe=z.Error,Ve=z.Function,Dt=z.Math,tt=z.Object,Ff=z.RegExp,UC=z.String,xr=z.TypeError,Hc=j.prototype,MC=Ve.prototype,Ps=tt.prototype,zc=z["__core-js_shared__"],Vc=MC.toString,Ze=Ps.hasOwnProperty,jC=0,uy=function(){var s=/[^.]+$/.exec(zc&&zc.keys&&zc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Wc=Ps.toString,FC=Vc.call(tt),$C=Mt._,BC=Ff("^"+Vc.call(Ze).replace(bf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=Km?z.Buffer:t,Ki=z.Symbol,Gc=z.Uint8Array,hy=Kc?Kc.allocUnsafe:t,Jc=cy(tt.getPrototypeOf,tt),fy=tt.create,dy=Ps.propertyIsEnumerable,Yc=Hc.splice,py=Ki?Ki.isConcatSpreadable:t,Xo=Ki?Ki.iterator:t,jn=Ki?Ki.toStringTag:t,Zc=function(){try{var s=qn(tt,"defineProperty");return s({},"",{}),s}catch{}}(),kC=z.clearTimeout!==Mt.clearTimeout&&z.clearTimeout,qC=se&&se.now!==Mt.Date.now&&se.now,HC=z.setTimeout!==Mt.setTimeout&&z.setTimeout,Xc=Dt.ceil,Qc=Dt.floor,$f=tt.getOwnPropertySymbols,zC=Kc?Kc.isBuffer:t,gy=z.isFinite,VC=Hc.join,WC=cy(tt.keys,tt),Ot=Dt.max,Bt=Dt.min,KC=se.now,GC=z.parseInt,my=Dt.random,JC=Hc.reverse,Bf=qn(z,"DataView"),Qo=qn(z,"Map"),kf=qn(z,"Promise"),Ts=qn(z,"Set"),ea=qn(z,"WeakMap"),ta=qn(tt,"create"),el=ea&&new ea,Ns={},YC=Hn(Bf),ZC=Hn(Qo),XC=Hn(kf),QC=Hn(Ts),eA=Hn(ea),tl=Ki?Ki.prototype:t,ra=tl?tl.valueOf:t,yy=tl?tl.toString:t;function g(s){if(wt(s)&&!Ce(s)&&!(s instanceof Be)){if(s instanceof Ir)return s;if(Ze.call(s,"__wrapped__"))return ww(s)}return new Ir(s)}var Ls=function(){function s(){}return function(a){if(!gt(a))return{};if(fy)return fy(a);s.prototype=a;var l=new s;return s.prototype=t,l}}();function rl(){}function Ir(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}g.templateSettings={escape:pS,evaluate:gS,interpolate:Cm,variable:"",imports:{_:g}},g.prototype=rl.prototype,g.prototype.constructor=g,Ir.prototype=Ls(rl.prototype),Ir.prototype.constructor=Ir;function Be(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function tA(){var s=new Be(this.__wrapped__);return s.__actions__=ir(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ir(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ir(this.__views__),s}function rA(){if(this.__filtered__){var s=new Be(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function iA(){var s=this.__wrapped__.value(),a=this.__dir__,l=Ce(s),h=a<0,p=l?s.length:0,w=gD(0,p,this.__views__),x=w.start,A=w.end,T=A-x,K=h?A:x-1,J=this.__iteratees__,Y=J.length,re=0,ce=Bt(T,this.__takeCount__);if(!l||!h&&p==T&&ce==T)return ky(s,this.__actions__);var be=[];e:for(;T--&&re<ce;){K+=a;for(var Te=-1,Ee=s[K];++Te<Y;){var Fe=J[Te],ke=Fe.iteratee,pr=Fe.type,Yt=ke(Ee);if(pr==Q)Ee=Yt;else if(!Yt){if(pr==G)continue e;break e}}be[re++]=Ee}return be}Be.prototype=Ls(rl.prototype),Be.prototype.constructor=Be;function Fn(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function nA(){this.__data__=ta?ta(null):{},this.size=0}function sA(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function oA(s){var a=this.__data__;if(ta){var l=a[s];return l===f?t:l}return Ze.call(a,s)?a[s]:t}function aA(s){var a=this.__data__;return ta?a[s]!==t:Ze.call(a,s)}function cA(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=ta&&a===t?f:a,this}Fn.prototype.clear=nA,Fn.prototype.delete=sA,Fn.prototype.get=oA,Fn.prototype.has=aA,Fn.prototype.set=cA;function di(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function lA(){this.__data__=[],this.size=0}function uA(s){var a=this.__data__,l=il(a,s);if(l<0)return!1;var h=a.length-1;return l==h?a.pop():Yc.call(a,l,1),--this.size,!0}function hA(s){var a=this.__data__,l=il(a,s);return l<0?t:a[l][1]}function fA(s){return il(this.__data__,s)>-1}function dA(s,a){var l=this.__data__,h=il(l,s);return h<0?(++this.size,l.push([s,a])):l[h][1]=a,this}di.prototype.clear=lA,di.prototype.delete=uA,di.prototype.get=hA,di.prototype.has=fA,di.prototype.set=dA;function pi(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}function pA(){this.size=0,this.__data__={hash:new Fn,map:new(Qo||di),string:new Fn}}function gA(s){var a=gl(this,s).delete(s);return this.size-=a?1:0,a}function mA(s){return gl(this,s).get(s)}function yA(s){return gl(this,s).has(s)}function wA(s,a){var l=gl(this,s),h=l.size;return l.set(s,a),this.size+=l.size==h?0:1,this}pi.prototype.clear=pA,pi.prototype.delete=gA,pi.prototype.get=mA,pi.prototype.has=yA,pi.prototype.set=wA;function $n(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new pi;++a<l;)this.add(s[a])}function vA(s){return this.__data__.set(s,f),this}function bA(s){return this.__data__.has(s)}$n.prototype.add=$n.prototype.push=vA,$n.prototype.has=bA;function kr(s){var a=this.__data__=new di(s);this.size=a.size}function EA(){this.__data__=new di,this.size=0}function _A(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}function xA(s){return this.__data__.get(s)}function IA(s){return this.__data__.has(s)}function SA(s,a){var l=this.__data__;if(l instanceof di){var h=l.__data__;if(!Qo||h.length<n-1)return h.push([s,a]),this.size=++l.size,this;l=this.__data__=new pi(h)}return l.set(s,a),this.size=l.size,this}kr.prototype.clear=EA,kr.prototype.delete=_A,kr.prototype.get=xA,kr.prototype.has=IA,kr.prototype.set=SA;function wy(s,a){var l=Ce(s),h=!l&&zn(s),p=!l&&!h&&Xi(s),w=!l&&!h&&!p&&Fs(s),x=l||h||p||w,A=x?Uf(s.length,UC):[],T=A.length;for(var K in s)(a||Ze.call(s,K))&&!(x&&(K=="length"||p&&(K=="offset"||K=="parent")||w&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||wi(K,T)))&&A.push(K);return A}function vy(s){var a=s.length;return a?s[Xf(0,a-1)]:t}function CA(s,a){return ml(ir(s),Bn(a,0,s.length))}function AA(s){return ml(ir(s))}function qf(s,a,l){(l!==t&&!qr(s[a],l)||l===t&&!(a in s))&&gi(s,a,l)}function ia(s,a,l){var h=s[a];(!(Ze.call(s,a)&&qr(h,l))||l===t&&!(a in s))&&gi(s,a,l)}function il(s,a){for(var l=s.length;l--;)if(qr(s[l][0],a))return l;return-1}function DA(s,a,l,h){return Gi(s,function(p,w,x){a(h,p,l(p),x)}),h}function by(s,a){return s&&Gr(a,Tt(a),s)}function OA(s,a){return s&&Gr(a,sr(a),s)}function gi(s,a,l){a=="__proto__"&&Zc?Zc(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}function Hf(s,a){for(var l=-1,h=a.length,p=j(h),w=s==null;++l<h;)p[l]=w?t:xd(s,a[l]);return p}function Bn(s,a,l){return s===s&&(l!==t&&(s=s<=l?s:l),a!==t&&(s=s>=a?s:a)),s}function Sr(s,a,l,h,p,w){var x,A=a&y,T=a&b,K=a&v;if(l&&(x=p?l(s,h,p,w):l(s)),x!==t)return x;if(!gt(s))return s;var J=Ce(s);if(J){if(x=yD(s),!A)return ir(s,x)}else{var Y=kt(s),re=Y==Oe||Y==$e;if(Xi(s))return zy(s,A);if(Y==fi||Y==he||re&&!p){if(x=T||re?{}:lw(s),!A)return T?oD(s,OA(x,s)):sD(s,by(x,s))}else{if(!it[Y])return p?s:{};x=wD(s,Y,A)}}w||(w=new kr);var ce=w.get(s);if(ce)return ce;w.set(s,x),Fw(s)?s.forEach(function(Ee){x.add(Sr(Ee,a,l,Ee,s,w))}):Mw(s)&&s.forEach(function(Ee,Fe){x.set(Fe,Sr(Ee,a,l,Fe,s,w))});var be=K?T?ld:cd:T?sr:Tt,Te=J?t:be(s);return _r(Te||s,function(Ee,Fe){Te&&(Fe=Ee,Ee=s[Fe]),ia(x,Fe,Sr(Ee,a,l,Fe,s,w))}),x}function RA(s){var a=Tt(s);return function(l){return Ey(l,s,a)}}function Ey(s,a,l){var h=l.length;if(s==null)return!h;for(s=tt(s);h--;){var p=l[h],w=a[p],x=s[p];if(x===t&&!(p in s)||!w(x))return!1}return!0}function _y(s,a,l){if(typeof s!="function")throw new xr(c);return ua(function(){s.apply(t,l)},a)}function na(s,a,l,h){var p=-1,w=Bc,x=!0,A=s.length,T=[],K=a.length;if(!A)return T;l&&(a=ut(a,hr(l))),h?(w=Of,x=!1):a.length>=n&&(w=Zo,x=!1,a=new $n(a));e:for(;++p<A;){var J=s[p],Y=l==null?J:l(J);if(J=h||J!==0?J:0,x&&Y===Y){for(var re=K;re--;)if(a[re]===Y)continue e;T.push(J)}else w(a,Y,h)||T.push(J)}return T}var Gi=Jy(Kr),xy=Jy(Vf,!0);function PA(s,a){var l=!0;return Gi(s,function(h,p,w){return l=!!a(h,p,w),l}),l}function nl(s,a,l){for(var h=-1,p=s.length;++h<p;){var w=s[h],x=a(w);if(x!=null&&(A===t?x===x&&!dr(x):l(x,A)))var A=x,T=w}return T}function TA(s,a,l,h){var p=s.length;for(l=Re(l),l<0&&(l=-l>p?0:p+l),h=h===t||h>p?p:Re(h),h<0&&(h+=p),h=l>h?0:Bw(h);l<h;)s[l++]=a;return s}function Iy(s,a){var l=[];return Gi(s,function(h,p,w){a(h,p,w)&&l.push(h)}),l}function jt(s,a,l,h,p){var w=-1,x=s.length;for(l||(l=bD),p||(p=[]);++w<x;){var A=s[w];a>0&&l(A)?a>1?jt(A,a-1,l,h,p):Vi(p,A):h||(p[p.length]=A)}return p}var zf=Yy(),Sy=Yy(!0);function Kr(s,a){return s&&zf(s,a,Tt)}function Vf(s,a){return s&&Sy(s,a,Tt)}function sl(s,a){return zi(a,function(l){return vi(s[l])})}function kn(s,a){a=Yi(a,s);for(var l=0,h=a.length;s!=null&&l<h;)s=s[Jr(a[l++])];return l&&l==h?s:t}function Cy(s,a,l){var h=a(s);return Ce(s)?h:Vi(h,l(s))}function Gt(s){return s==null?s===t?aS:sS:jn&&jn in tt(s)?pD(s):AD(s)}function Wf(s,a){return s>a}function NA(s,a){return s!=null&&Ze.call(s,a)}function LA(s,a){return s!=null&&a in tt(s)}function UA(s,a,l){return s>=Bt(a,l)&&s<Ot(a,l)}function Kf(s,a,l){for(var h=l?Of:Bc,p=s[0].length,w=s.length,x=w,A=j(w),T=1/0,K=[];x--;){var J=s[x];x&&a&&(J=ut(J,hr(a))),T=Bt(J.length,T),A[x]=!l&&(a||p>=120&&J.length>=120)?new $n(x&&J):t}J=s[0];var Y=-1,re=A[0];e:for(;++Y<p&&K.length<T;){var ce=J[Y],be=a?a(ce):ce;if(ce=l||ce!==0?ce:0,!(re?Zo(re,be):h(K,be,l))){for(x=w;--x;){var Te=A[x];if(!(Te?Zo(Te,be):h(s[x],be,l)))continue e}re&&re.push(be),K.push(ce)}}return K}function MA(s,a,l,h){return Kr(s,function(p,w,x){a(h,l(p),w,x)}),h}function sa(s,a,l){a=Yi(a,s),s=dw(s,a);var h=s==null?s:s[Jr(Ar(a))];return h==null?t:ur(h,s,l)}function Ay(s){return wt(s)&&Gt(s)==he}function jA(s){return wt(s)&&Gt(s)==Yo}function FA(s){return wt(s)&&Gt(s)==De}function oa(s,a,l,h,p){return s===a?!0:s==null||a==null||!wt(s)&&!wt(a)?s!==s&&a!==a:$A(s,a,l,h,oa,p)}function $A(s,a,l,h,p,w){var x=Ce(s),A=Ce(a),T=x?fe:kt(s),K=A?fe:kt(a);T=T==he?fi:T,K=K==he?fi:K;var J=T==fi,Y=K==fi,re=T==K;if(re&&Xi(s)){if(!Xi(a))return!1;x=!0,J=!1}if(re&&!J)return w||(w=new kr),x||Fs(s)?ow(s,a,l,h,p,w):fD(s,a,T,l,h,p,w);if(!(l&_)){var ce=J&&Ze.call(s,"__wrapped__"),be=Y&&Ze.call(a,"__wrapped__");if(ce||be){var Te=ce?s.value():s,Ee=be?a.value():a;return w||(w=new kr),p(Te,Ee,l,h,w)}}return re?(w||(w=new kr),dD(s,a,l,h,p,w)):!1}function BA(s){return wt(s)&&kt(s)==_e}function Gf(s,a,l,h){var p=l.length,w=p,x=!h;if(s==null)return!w;for(s=tt(s);p--;){var A=l[p];if(x&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++p<w;){A=l[p];var T=A[0],K=s[T],J=A[1];if(x&&A[2]){if(K===t&&!(T in s))return!1}else{var Y=new kr;if(h)var re=h(K,J,T,s,a,Y);if(!(re===t?oa(J,K,_|S,h,Y):re))return!1}}return!0}function Dy(s){if(!gt(s)||_D(s))return!1;var a=vi(s)?BC:RS;return a.test(Hn(s))}function kA(s){return wt(s)&&Gt(s)==Ko}function qA(s){return wt(s)&&kt(s)==$r}function HA(s){return wt(s)&&_l(s.length)&&!!at[Gt(s)]}function Oy(s){return typeof s=="function"?s:s==null?or:typeof s=="object"?Ce(s)?Ty(s[0],s[1]):Py(s):Zw(s)}function Jf(s){if(!la(s))return WC(s);var a=[];for(var l in tt(s))Ze.call(s,l)&&l!="constructor"&&a.push(l);return a}function zA(s){if(!gt(s))return CD(s);var a=la(s),l=[];for(var h in s)h=="constructor"&&(a||!Ze.call(s,h))||l.push(h);return l}function Yf(s,a){return s<a}function Ry(s,a){var l=-1,h=nr(s)?j(s.length):[];return Gi(s,function(p,w,x){h[++l]=a(p,w,x)}),h}function Py(s){var a=hd(s);return a.length==1&&a[0][2]?hw(a[0][0],a[0][1]):function(l){return l===s||Gf(l,s,a)}}function Ty(s,a){return dd(s)&&uw(a)?hw(Jr(s),a):function(l){var h=xd(l,s);return h===t&&h===a?Id(l,s):oa(a,h,_|S)}}function ol(s,a,l,h,p){s!==a&&zf(a,function(w,x){if(p||(p=new kr),gt(w))VA(s,a,x,l,ol,h,p);else{var A=h?h(gd(s,x),w,x+"",s,a,p):t;A===t&&(A=w),qf(s,x,A)}},sr)}function VA(s,a,l,h,p,w,x){var A=gd(s,l),T=gd(a,l),K=x.get(T);if(K){qf(s,l,K);return}var J=w?w(A,T,l+"",s,a,x):t,Y=J===t;if(Y){var re=Ce(T),ce=!re&&Xi(T),be=!re&&!ce&&Fs(T);J=T,re||ce||be?Ce(A)?J=A:Et(A)?J=ir(A):ce?(Y=!1,J=zy(T,!0)):be?(Y=!1,J=Vy(T,!0)):J=[]:ha(T)||zn(T)?(J=A,zn(A)?J=kw(A):(!gt(A)||vi(A))&&(J=lw(T))):Y=!1}Y&&(x.set(T,J),p(J,T,h,w,x),x.delete(T)),qf(s,l,J)}function Ny(s,a){var l=s.length;if(l)return a+=a<0?l:0,wi(a,l)?s[a]:t}function Ly(s,a,l){a.length?a=ut(a,function(w){return Ce(w)?function(x){return kn(x,w.length===1?w[0]:w)}:w}):a=[or];var h=-1;a=ut(a,hr(ve()));var p=Ry(s,function(w,x,A){var T=ut(a,function(K){return K(w)});return{criteria:T,index:++h,value:w}});return wC(p,function(w,x){return nD(w,x,l)})}function WA(s,a){return Uy(s,a,function(l,h){return Id(s,h)})}function Uy(s,a,l){for(var h=-1,p=a.length,w={};++h<p;){var x=a[h],A=kn(s,x);l(A,x)&&aa(w,Yi(x,s),A)}return w}function KA(s){return function(a){return kn(a,s)}}function Zf(s,a,l,h){var p=h?yC:As,w=-1,x=a.length,A=s;for(s===a&&(a=ir(a)),l&&(A=ut(s,hr(l)));++w<x;)for(var T=0,K=a[w],J=l?l(K):K;(T=p(A,J,T,h))>-1;)A!==s&&Yc.call(A,T,1),Yc.call(s,T,1);return s}function My(s,a){for(var l=s?a.length:0,h=l-1;l--;){var p=a[l];if(l==h||p!==w){var w=p;wi(p)?Yc.call(s,p,1):td(s,p)}}return s}function Xf(s,a){return s+Qc(my()*(a-s+1))}function GA(s,a,l,h){for(var p=-1,w=Ot(Xc((a-s)/(l||1)),0),x=j(w);w--;)x[h?w:++p]=s,s+=l;return x}function Qf(s,a){var l="";if(!s||a<1||a>oe)return l;do a%2&&(l+=s),a=Qc(a/2),a&&(s+=s);while(a);return l}function Ue(s,a){return md(fw(s,a,or),s+"")}function JA(s){return vy($s(s))}function YA(s,a){var l=$s(s);return ml(l,Bn(a,0,l.length))}function aa(s,a,l,h){if(!gt(s))return s;a=Yi(a,s);for(var p=-1,w=a.length,x=w-1,A=s;A!=null&&++p<w;){var T=Jr(a[p]),K=l;if(T==="__proto__"||T==="constructor"||T==="prototype")return s;if(p!=x){var J=A[T];K=h?h(J,T,A):t,K===t&&(K=gt(J)?J:wi(a[p+1])?[]:{})}ia(A,T,K),A=A[T]}return s}var jy=el?function(s,a){return el.set(s,a),s}:or,ZA=Zc?function(s,a){return Zc(s,"toString",{configurable:!0,enumerable:!1,value:Cd(a),writable:!0})}:or;function XA(s){return ml($s(s))}function Cr(s,a,l){var h=-1,p=s.length;a<0&&(a=-a>p?0:p+a),l=l>p?p:l,l<0&&(l+=p),p=a>l?0:l-a>>>0,a>>>=0;for(var w=j(p);++h<p;)w[h]=s[h+a];return w}function QA(s,a){var l;return Gi(s,function(h,p,w){return l=a(h,p,w),!l}),!!l}function al(s,a,l){var h=0,p=s==null?h:s.length;if(typeof a=="number"&&a===a&&p<=ye){for(;h<p;){var w=h+p>>>1,x=s[w];x!==null&&!dr(x)&&(l?x<=a:x<a)?h=w+1:p=w}return p}return ed(s,a,or,l)}function ed(s,a,l,h){var p=0,w=s==null?0:s.length;if(w===0)return 0;a=l(a);for(var x=a!==a,A=a===null,T=dr(a),K=a===t;p<w;){var J=Qc((p+w)/2),Y=l(s[J]),re=Y!==t,ce=Y===null,be=Y===Y,Te=dr(Y);if(x)var Ee=h||be;else K?Ee=be&&(h||re):A?Ee=be&&re&&(h||!ce):T?Ee=be&&re&&!ce&&(h||!Te):ce||Te?Ee=!1:Ee=h?Y<=a:Y<a;Ee?p=J+1:w=J}return Bt(w,me)}function Fy(s,a){for(var l=-1,h=s.length,p=0,w=[];++l<h;){var x=s[l],A=a?a(x):x;if(!l||!qr(A,T)){var T=A;w[p++]=x===0?0:x}}return w}function $y(s){return typeof s=="number"?s:dr(s)?ue:+s}function fr(s){if(typeof s=="string")return s;if(Ce(s))return ut(s,fr)+"";if(dr(s))return yy?yy.call(s):"";var a=s+"";return a=="0"&&1/s==-ee?"-0":a}function Ji(s,a,l){var h=-1,p=Bc,w=s.length,x=!0,A=[],T=A;if(l)x=!1,p=Of;else if(w>=n){var K=a?null:uD(s);if(K)return qc(K);x=!1,p=Zo,T=new $n}else T=a?[]:A;e:for(;++h<w;){var J=s[h],Y=a?a(J):J;if(J=l||J!==0?J:0,x&&Y===Y){for(var re=T.length;re--;)if(T[re]===Y)continue e;a&&T.push(Y),A.push(J)}else p(T,Y,l)||(T!==A&&T.push(Y),A.push(J))}return A}function td(s,a){return a=Yi(a,s),s=dw(s,a),s==null||delete s[Jr(Ar(a))]}function By(s,a,l,h){return aa(s,a,l(kn(s,a)),h)}function cl(s,a,l,h){for(var p=s.length,w=h?p:-1;(h?w--:++w<p)&&a(s[w],w,s););return l?Cr(s,h?0:w,h?w+1:p):Cr(s,h?w+1:0,h?p:w)}function ky(s,a){var l=s;return l instanceof Be&&(l=l.value()),Rf(a,function(h,p){return p.func.apply(p.thisArg,Vi([h],p.args))},l)}function rd(s,a,l){var h=s.length;if(h<2)return h?Ji(s[0]):[];for(var p=-1,w=j(h);++p<h;)for(var x=s[p],A=-1;++A<h;)A!=p&&(w[p]=na(w[p]||x,s[A],a,l));return Ji(jt(w,1),a,l)}function qy(s,a,l){for(var h=-1,p=s.length,w=a.length,x={};++h<p;){var A=h<w?a[h]:t;l(x,s[h],A)}return x}function id(s){return Et(s)?s:[]}function nd(s){return typeof s=="function"?s:or}function Yi(s,a){return Ce(s)?s:dd(s,a)?[s]:yw(We(s))}var eD=Ue;function Zi(s,a,l){var h=s.length;return l=l===t?h:l,!a&&l>=h?s:Cr(s,a,l)}var Hy=kC||function(s){return Mt.clearTimeout(s)};function zy(s,a){if(a)return s.slice();var l=s.length,h=hy?hy(l):new s.constructor(l);return s.copy(h),h}function sd(s){var a=new s.constructor(s.byteLength);return new Gc(a).set(new Gc(s)),a}function tD(s,a){var l=a?sd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function rD(s){var a=new s.constructor(s.source,Am.exec(s));return a.lastIndex=s.lastIndex,a}function iD(s){return ra?tt(ra.call(s)):{}}function Vy(s,a){var l=a?sd(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function Wy(s,a){if(s!==a){var l=s!==t,h=s===null,p=s===s,w=dr(s),x=a!==t,A=a===null,T=a===a,K=dr(a);if(!A&&!K&&!w&&s>a||w&&x&&T&&!A&&!K||h&&x&&T||!l&&T||!p)return 1;if(!h&&!w&&!K&&s<a||K&&l&&p&&!h&&!w||A&&l&&p||!x&&p||!T)return-1}return 0}function nD(s,a,l){for(var h=-1,p=s.criteria,w=a.criteria,x=p.length,A=l.length;++h<x;){var T=Wy(p[h],w[h]);if(T){if(h>=A)return T;var K=l[h];return T*(K=="desc"?-1:1)}}return s.index-a.index}function Ky(s,a,l,h){for(var p=-1,w=s.length,x=l.length,A=-1,T=a.length,K=Ot(w-x,0),J=j(T+K),Y=!h;++A<T;)J[A]=a[A];for(;++p<x;)(Y||p<w)&&(J[l[p]]=s[p]);for(;K--;)J[A++]=s[p++];return J}function Gy(s,a,l,h){for(var p=-1,w=s.length,x=-1,A=l.length,T=-1,K=a.length,J=Ot(w-A,0),Y=j(J+K),re=!h;++p<J;)Y[p]=s[p];for(var ce=p;++T<K;)Y[ce+T]=a[T];for(;++x<A;)(re||p<w)&&(Y[ce+l[x]]=s[p++]);return Y}function ir(s,a){var l=-1,h=s.length;for(a||(a=j(h));++l<h;)a[l]=s[l];return a}function Gr(s,a,l,h){var p=!l;l||(l={});for(var w=-1,x=a.length;++w<x;){var A=a[w],T=h?h(l[A],s[A],A,l,s):t;T===t&&(T=s[A]),p?gi(l,A,T):ia(l,A,T)}return l}function sD(s,a){return Gr(s,fd(s),a)}function oD(s,a){return Gr(s,aw(s),a)}function ll(s,a){return function(l,h){var p=Ce(l)?hC:DA,w=a?a():{};return p(l,s,ve(h,2),w)}}function Us(s){return Ue(function(a,l){var h=-1,p=l.length,w=p>1?l[p-1]:t,x=p>2?l[2]:t;for(w=s.length>3&&typeof w=="function"?(p--,w):t,x&&Jt(l[0],l[1],x)&&(w=p<3?t:w,p=1),a=tt(a);++h<p;){var A=l[h];A&&s(a,A,h,w)}return a})}function Jy(s,a){return function(l,h){if(l==null)return l;if(!nr(l))return s(l,h);for(var p=l.length,w=a?p:-1,x=tt(l);(a?w--:++w<p)&&h(x[w],w,x)!==!1;);return l}}function Yy(s){return function(a,l,h){for(var p=-1,w=tt(a),x=h(a),A=x.length;A--;){var T=x[s?A:++p];if(l(w[T],T,w)===!1)break}return a}}function aD(s,a,l){var h=a&R,p=ca(s);function w(){var x=this&&this!==Mt&&this instanceof w?p:s;return x.apply(h?l:this,arguments)}return w}function Zy(s){return function(a){a=We(a);var l=Ds(a)?Br(a):t,h=l?l[0]:a.charAt(0),p=l?Zi(l,1).join(""):a.slice(1);return h[s]()+p}}function Ms(s){return function(a){return Rf(Jw(Gw(a).replace(ZS,"")),s,"")}}function ca(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=Ls(s.prototype),h=s.apply(l,a);return gt(h)?h:l}}function cD(s,a,l){var h=ca(s);function p(){for(var w=arguments.length,x=j(w),A=w,T=js(p);A--;)x[A]=arguments[A];var K=w<3&&x[0]!==T&&x[w-1]!==T?[]:Wi(x,T);if(w-=K.length,w<l)return rw(s,a,ul,p.placeholder,t,x,K,t,t,l-w);var J=this&&this!==Mt&&this instanceof p?h:s;return ur(J,this,x)}return p}function Xy(s){return function(a,l,h){var p=tt(a);if(!nr(a)){var w=ve(l,3);a=Tt(a),l=function(A){return w(p[A],A,p)}}var x=s(a,l,h);return x>-1?p[w?a[x]:x]:t}}function Qy(s){return yi(function(a){var l=a.length,h=l,p=Ir.prototype.thru;for(s&&a.reverse();h--;){var w=a[h];if(typeof w!="function")throw new xr(c);if(p&&!x&&pl(w)=="wrapper")var x=new Ir([],!0)}for(h=x?h:l;++h<l;){w=a[h];var A=pl(w),T=A=="wrapper"?ud(w):t;T&&pd(T[0])&&T[1]==(C|U|k|D)&&!T[4].length&&T[9]==1?x=x[pl(T[0])].apply(x,T[3]):x=w.length==1&&pd(w)?x[A]():x.thru(w)}return function(){var K=arguments,J=K[0];if(x&&K.length==1&&Ce(J))return x.plant(J).value();for(var Y=0,re=l?a[Y].apply(this,K):J;++Y<l;)re=a[Y].call(this,re);return re}})}function ul(s,a,l,h,p,w,x,A,T,K){var J=a&C,Y=a&R,re=a&P,ce=a&(U|N),be=a&V,Te=re?t:ca(s);function Ee(){for(var Fe=arguments.length,ke=j(Fe),pr=Fe;pr--;)ke[pr]=arguments[pr];if(ce)var Yt=js(Ee),gr=bC(ke,Yt);if(h&&(ke=Ky(ke,h,p,ce)),w&&(ke=Gy(ke,w,x,ce)),Fe-=gr,ce&&Fe<K){var _t=Wi(ke,Yt);return rw(s,a,ul,Ee.placeholder,l,ke,_t,A,T,K-Fe)}var Hr=Y?l:this,Ei=re?Hr[s]:s;return Fe=ke.length,A?ke=DD(ke,A):be&&Fe>1&&ke.reverse(),J&&T<Fe&&(ke.length=T),this&&this!==Mt&&this instanceof Ee&&(Ei=Te||ca(Ei)),Ei.apply(Hr,ke)}return Ee}function ew(s,a){return function(l,h){return MA(l,s,a(h),{})}}function hl(s,a){return function(l,h){var p;if(l===t&&h===t)return a;if(l!==t&&(p=l),h!==t){if(p===t)return h;typeof l=="string"||typeof h=="string"?(l=fr(l),h=fr(h)):(l=$y(l),h=$y(h)),p=s(l,h)}return p}}function od(s){return yi(function(a){return a=ut(a,hr(ve())),Ue(function(l){var h=this;return s(a,function(p){return ur(p,h,l)})})})}function fl(s,a){a=a===t?" ":fr(a);var l=a.length;if(l<2)return l?Qf(a,s):a;var h=Qf(a,Xc(s/Os(a)));return Ds(a)?Zi(Br(h),0,s).join(""):h.slice(0,s)}function lD(s,a,l,h){var p=a&R,w=ca(s);function x(){for(var A=-1,T=arguments.length,K=-1,J=h.length,Y=j(J+T),re=this&&this!==Mt&&this instanceof x?w:s;++K<J;)Y[K]=h[K];for(;T--;)Y[K++]=arguments[++A];return ur(re,p?l:this,Y)}return x}function tw(s){return function(a,l,h){return h&&typeof h!="number"&&Jt(a,l,h)&&(l=h=t),a=bi(a),l===t?(l=a,a=0):l=bi(l),h=h===t?a<l?1:-1:bi(h),GA(a,l,h,s)}}function dl(s){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=Dr(a),l=Dr(l)),s(a,l)}}function rw(s,a,l,h,p,w,x,A,T,K){var J=a&U,Y=J?x:t,re=J?t:x,ce=J?w:t,be=J?t:w;a|=J?k:W,a&=~(J?W:k),a&H||(a&=~(R|P));var Te=[s,a,p,ce,Y,be,re,A,T,K],Ee=l.apply(t,Te);return pd(s)&&pw(Ee,Te),Ee.placeholder=h,gw(Ee,s,a)}function ad(s){var a=Dt[s];return function(l,h){if(l=Dr(l),h=h==null?0:Bt(Re(h),292),h&&gy(l)){var p=(We(l)+"e").split("e"),w=a(p[0]+"e"+(+p[1]+h));return p=(We(w)+"e").split("e"),+(p[0]+"e"+(+p[1]-h))}return a(l)}}var uD=Ts&&1/qc(new Ts([,-0]))[1]==ee?function(s){return new Ts(s)}:Od;function iw(s){return function(a){var l=kt(a);return l==_e?jf(a):l==$r?AC(a):vC(a,s(a))}}function mi(s,a,l,h,p,w,x,A){var T=a&P;if(!T&&typeof s!="function")throw new xr(c);var K=h?h.length:0;if(K||(a&=~(k|W),h=p=t),x=x===t?x:Ot(Re(x),0),A=A===t?A:Re(A),K-=p?p.length:0,a&W){var J=h,Y=p;h=p=t}var re=T?t:ud(s),ce=[s,a,l,h,p,J,Y,w,x,A];if(re&&SD(ce,re),s=ce[0],a=ce[1],l=ce[2],h=ce[3],p=ce[4],A=ce[9]=ce[9]===t?T?0:s.length:Ot(ce[9]-K,0),!A&&a&(U|N)&&(a&=~(U|N)),!a||a==R)var be=aD(s,a,l);else a==U||a==N?be=cD(s,a,A):(a==k||a==(R|k))&&!p.length?be=lD(s,a,l,h):be=ul.apply(t,ce);var Te=re?jy:pw;return gw(Te(be,ce),s,a)}function nw(s,a,l,h){return s===t||qr(s,Ps[l])&&!Ze.call(h,l)?a:s}function sw(s,a,l,h,p,w){return gt(s)&&gt(a)&&(w.set(a,s),ol(s,a,t,sw,w),w.delete(a)),s}function hD(s){return ha(s)?t:s}function ow(s,a,l,h,p,w){var x=l&_,A=s.length,T=a.length;if(A!=T&&!(x&&T>A))return!1;var K=w.get(s),J=w.get(a);if(K&&J)return K==a&&J==s;var Y=-1,re=!0,ce=l&S?new $n:t;for(w.set(s,a),w.set(a,s);++Y<A;){var be=s[Y],Te=a[Y];if(h)var Ee=x?h(Te,be,Y,a,s,w):h(be,Te,Y,s,a,w);if(Ee!==t){if(Ee)continue;re=!1;break}if(ce){if(!Pf(a,function(Fe,ke){if(!Zo(ce,ke)&&(be===Fe||p(be,Fe,l,h,w)))return ce.push(ke)})){re=!1;break}}else if(!(be===Te||p(be,Te,l,h,w))){re=!1;break}}return w.delete(s),w.delete(a),re}function fD(s,a,l,h,p,w,x){switch(l){case Ss:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Yo:return!(s.byteLength!=a.byteLength||!w(new Gc(s),new Gc(a)));case Se:case De:case Le:return qr(+s,+a);case Pe:return s.name==a.name&&s.message==a.message;case Ko:case Go:return s==a+"";case _e:var A=jf;case $r:var T=h&_;if(A||(A=qc),s.size!=a.size&&!T)return!1;var K=x.get(s);if(K)return K==a;h|=S,x.set(s,a);var J=ow(A(s),A(a),h,p,w,x);return x.delete(s),J;case Mc:if(ra)return ra.call(s)==ra.call(a)}return!1}function dD(s,a,l,h,p,w){var x=l&_,A=cd(s),T=A.length,K=cd(a),J=K.length;if(T!=J&&!x)return!1;for(var Y=T;Y--;){var re=A[Y];if(!(x?re in a:Ze.call(a,re)))return!1}var ce=w.get(s),be=w.get(a);if(ce&&be)return ce==a&&be==s;var Te=!0;w.set(s,a),w.set(a,s);for(var Ee=x;++Y<T;){re=A[Y];var Fe=s[re],ke=a[re];if(h)var pr=x?h(ke,Fe,re,a,s,w):h(Fe,ke,re,s,a,w);if(!(pr===t?Fe===ke||p(Fe,ke,l,h,w):pr)){Te=!1;break}Ee||(Ee=re=="constructor")}if(Te&&!Ee){var Yt=s.constructor,gr=a.constructor;Yt!=gr&&"constructor"in s&&"constructor"in a&&!(typeof Yt=="function"&&Yt instanceof Yt&&typeof gr=="function"&&gr instanceof gr)&&(Te=!1)}return w.delete(s),w.delete(a),Te}function yi(s){return md(fw(s,t,Ew),s+"")}function cd(s){return Cy(s,Tt,fd)}function ld(s){return Cy(s,sr,aw)}var ud=el?function(s){return el.get(s)}:Od;function pl(s){for(var a=s.name+"",l=Ns[a],h=Ze.call(Ns,a)?l.length:0;h--;){var p=l[h],w=p.func;if(w==null||w==s)return p.name}return a}function js(s){var a=Ze.call(g,"placeholder")?g:s;return a.placeholder}function ve(){var s=g.iteratee||Ad;return s=s===Ad?Oy:s,arguments.length?s(arguments[0],arguments[1]):s}function gl(s,a){var l=s.__data__;return ED(a)?l[typeof a=="string"?"string":"hash"]:l.map}function hd(s){for(var a=Tt(s),l=a.length;l--;){var h=a[l],p=s[h];a[l]=[h,p,uw(p)]}return a}function qn(s,a){var l=IC(s,a);return Dy(l)?l:t}function pD(s){var a=Ze.call(s,jn),l=s[jn];try{s[jn]=t;var h=!0}catch{}var p=Wc.call(s);return h&&(a?s[jn]=l:delete s[jn]),p}var fd=$f?function(s){return s==null?[]:(s=tt(s),zi($f(s),function(a){return dy.call(s,a)}))}:Rd,aw=$f?function(s){for(var a=[];s;)Vi(a,fd(s)),s=Jc(s);return a}:Rd,kt=Gt;(Bf&&kt(new Bf(new ArrayBuffer(1)))!=Ss||Qo&&kt(new Qo)!=_e||kf&&kt(kf.resolve())!=xm||Ts&&kt(new Ts)!=$r||ea&&kt(new ea)!=Jo)&&(kt=function(s){var a=Gt(s),l=a==fi?s.constructor:t,h=l?Hn(l):"";if(h)switch(h){case YC:return Ss;case ZC:return _e;case XC:return xm;case QC:return $r;case eA:return Jo}return a});function gD(s,a,l){for(var h=-1,p=l.length;++h<p;){var w=l[h],x=w.size;switch(w.type){case"drop":s+=x;break;case"dropRight":a-=x;break;case"take":a=Bt(a,s+x);break;case"takeRight":s=Ot(s,a-x);break}}return{start:s,end:a}}function mD(s){var a=s.match(_S);return a?a[1].split(xS):[]}function cw(s,a,l){a=Yi(a,s);for(var h=-1,p=a.length,w=!1;++h<p;){var x=Jr(a[h]);if(!(w=s!=null&&l(s,x)))break;s=s[x]}return w||++h!=p?w:(p=s==null?0:s.length,!!p&&_l(p)&&wi(x,p)&&(Ce(s)||zn(s)))}function yD(s){var a=s.length,l=new s.constructor(a);return a&&typeof s[0]=="string"&&Ze.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function lw(s){return typeof s.constructor=="function"&&!la(s)?Ls(Jc(s)):{}}function wD(s,a,l){var h=s.constructor;switch(a){case Yo:return sd(s);case Se:case De:return new h(+s);case Ss:return tD(s,l);case hf:case ff:case df:case pf:case gf:case mf:case yf:case wf:case vf:return Vy(s,l);case _e:return new h;case Le:case Go:return new h(s);case Ko:return rD(s);case $r:return new h;case Mc:return iD(s)}}function vD(s,a){var l=a.length;if(!l)return s;var h=l-1;return a[h]=(l>1?"& ":"")+a[h],a=a.join(l>2?", ":" "),s.replace(ES,`{
/* [wrapped with `+a+`] */
`)}function bD(s){return Ce(s)||zn(s)||!!(py&&s&&s[py])}function wi(s,a){var l=typeof s;return a=a??oe,!!a&&(l=="number"||l!="symbol"&&TS.test(s))&&s>-1&&s%1==0&&s<a}function Jt(s,a,l){if(!gt(l))return!1;var h=typeof a;return(h=="number"?nr(l)&&wi(a,l.length):h=="string"&&a in l)?qr(l[a],s):!1}function dd(s,a){if(Ce(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||dr(s)?!0:yS.test(s)||!mS.test(s)||a!=null&&s in tt(a)}function ED(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function pd(s){var a=pl(s),l=g[a];if(typeof l!="function"||!(a in Be.prototype))return!1;if(s===l)return!0;var h=ud(l);return!!h&&s===h[0]}function _D(s){return!!uy&&uy in s}var xD=zc?vi:Pd;function la(s){var a=s&&s.constructor,l=typeof a=="function"&&a.prototype||Ps;return s===l}function uw(s){return s===s&&!gt(s)}function hw(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==t||s in tt(l))}}function ID(s){var a=bl(s,function(h){return l.size===d&&l.clear(),h}),l=a.cache;return a}function SD(s,a){var l=s[1],h=a[1],p=l|h,w=p<(R|P|C),x=h==C&&l==U||h==C&&l==D&&s[7].length<=a[8]||h==(C|D)&&a[7].length<=a[8]&&l==U;if(!(w||x))return s;h&R&&(s[2]=a[2],p|=l&R?0:H);var A=a[3];if(A){var T=s[3];s[3]=T?Ky(T,A,a[4]):A,s[4]=T?Wi(s[3],m):a[4]}return A=a[5],A&&(T=s[5],s[5]=T?Gy(T,A,a[6]):A,s[6]=T?Wi(s[5],m):a[6]),A=a[7],A&&(s[7]=A),h&C&&(s[8]=s[8]==null?a[8]:Bt(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=p,s}function CD(s){var a=[];if(s!=null)for(var l in tt(s))a.push(l);return a}function AD(s){return Wc.call(s)}function fw(s,a,l){return a=Ot(a===t?s.length-1:a,0),function(){for(var h=arguments,p=-1,w=Ot(h.length-a,0),x=j(w);++p<w;)x[p]=h[a+p];p=-1;for(var A=j(a+1);++p<a;)A[p]=h[p];return A[a]=l(x),ur(s,this,A)}}function dw(s,a){return a.length<2?s:kn(s,Cr(a,0,-1))}function DD(s,a){for(var l=s.length,h=Bt(a.length,l),p=ir(s);h--;){var w=a[h];s[h]=wi(w,l)?p[w]:t}return s}function gd(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var pw=mw(jy),ua=HC||function(s,a){return Mt.setTimeout(s,a)},md=mw(ZA);function gw(s,a,l){var h=a+"";return md(s,vD(h,OD(mD(h),l)))}function mw(s){var a=0,l=0;return function(){var h=KC(),p=B-(h-l);if(l=h,p>0){if(++a>=L)return arguments[0]}else a=0;return s.apply(t,arguments)}}function ml(s,a){var l=-1,h=s.length,p=h-1;for(a=a===t?h:a;++l<a;){var w=Xf(l,p),x=s[w];s[w]=s[l],s[l]=x}return s.length=a,s}var yw=ID(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(wS,function(l,h,p,w){a.push(p?w.replace(CS,"$1"):h||l)}),a});function Jr(s){if(typeof s=="string"||dr(s))return s;var a=s+"";return a=="0"&&1/s==-ee?"-0":a}function Hn(s){if(s!=null){try{return Vc.call(s)}catch{}try{return s+""}catch{}}return""}function OD(s,a){return _r(ge,function(l){var h="_."+l[0];a&l[1]&&!Bc(s,h)&&s.push(h)}),s.sort()}function ww(s){if(s instanceof Be)return s.clone();var a=new Ir(s.__wrapped__,s.__chain__);return a.__actions__=ir(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function RD(s,a,l){(l?Jt(s,a,l):a===t)?a=1:a=Ot(Re(a),0);var h=s==null?0:s.length;if(!h||a<1)return[];for(var p=0,w=0,x=j(Xc(h/a));p<h;)x[w++]=Cr(s,p,p+=a);return x}function PD(s){for(var a=-1,l=s==null?0:s.length,h=0,p=[];++a<l;){var w=s[a];w&&(p[h++]=w)}return p}function TD(){var s=arguments.length;if(!s)return[];for(var a=j(s-1),l=arguments[0],h=s;h--;)a[h-1]=arguments[h];return Vi(Ce(l)?ir(l):[l],jt(a,1))}var ND=Ue(function(s,a){return Et(s)?na(s,jt(a,1,Et,!0)):[]}),LD=Ue(function(s,a){var l=Ar(a);return Et(l)&&(l=t),Et(s)?na(s,jt(a,1,Et,!0),ve(l,2)):[]}),UD=Ue(function(s,a){var l=Ar(a);return Et(l)&&(l=t),Et(s)?na(s,jt(a,1,Et,!0),t,l):[]});function MD(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),Cr(s,a<0?0:a,h)):[]}function jD(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),a=h-a,Cr(s,0,a<0?0:a)):[]}function FD(s,a){return s&&s.length?cl(s,ve(a,3),!0,!0):[]}function $D(s,a){return s&&s.length?cl(s,ve(a,3),!0):[]}function BD(s,a,l,h){var p=s==null?0:s.length;return p?(l&&typeof l!="number"&&Jt(s,a,l)&&(l=0,h=p),TA(s,a,l,h)):[]}function vw(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=l==null?0:Re(l);return p<0&&(p=Ot(h+p,0)),kc(s,ve(a,3),p)}function bw(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=h-1;return l!==t&&(p=Re(l),p=l<0?Ot(h+p,0):Bt(p,h-1)),kc(s,ve(a,3),p,!0)}function Ew(s){var a=s==null?0:s.length;return a?jt(s,1):[]}function kD(s){var a=s==null?0:s.length;return a?jt(s,ee):[]}function qD(s,a){var l=s==null?0:s.length;return l?(a=a===t?1:Re(a),jt(s,a)):[]}function HD(s){for(var a=-1,l=s==null?0:s.length,h={};++a<l;){var p=s[a];h[p[0]]=p[1]}return h}function _w(s){return s&&s.length?s[0]:t}function zD(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=l==null?0:Re(l);return p<0&&(p=Ot(h+p,0)),As(s,a,p)}function VD(s){var a=s==null?0:s.length;return a?Cr(s,0,-1):[]}var WD=Ue(function(s){var a=ut(s,id);return a.length&&a[0]===s[0]?Kf(a):[]}),KD=Ue(function(s){var a=Ar(s),l=ut(s,id);return a===Ar(l)?a=t:l.pop(),l.length&&l[0]===s[0]?Kf(l,ve(a,2)):[]}),GD=Ue(function(s){var a=Ar(s),l=ut(s,id);return a=typeof a=="function"?a:t,a&&l.pop(),l.length&&l[0]===s[0]?Kf(l,t,a):[]});function JD(s,a){return s==null?"":VC.call(s,a)}function Ar(s){var a=s==null?0:s.length;return a?s[a-1]:t}function YD(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var p=h;return l!==t&&(p=Re(l),p=p<0?Ot(h+p,0):Bt(p,h-1)),a===a?OC(s,a,p):kc(s,ry,p,!0)}function ZD(s,a){return s&&s.length?Ny(s,Re(a)):t}var XD=Ue(xw);function xw(s,a){return s&&s.length&&a&&a.length?Zf(s,a):s}function QD(s,a,l){return s&&s.length&&a&&a.length?Zf(s,a,ve(l,2)):s}function eO(s,a,l){return s&&s.length&&a&&a.length?Zf(s,a,t,l):s}var tO=yi(function(s,a){var l=s==null?0:s.length,h=Hf(s,a);return My(s,ut(a,function(p){return wi(p,l)?+p:p}).sort(Wy)),h});function rO(s,a){var l=[];if(!(s&&s.length))return l;var h=-1,p=[],w=s.length;for(a=ve(a,3);++h<w;){var x=s[h];a(x,h,s)&&(l.push(x),p.push(h))}return My(s,p),l}function yd(s){return s==null?s:JC.call(s)}function iO(s,a,l){var h=s==null?0:s.length;return h?(l&&typeof l!="number"&&Jt(s,a,l)?(a=0,l=h):(a=a==null?0:Re(a),l=l===t?h:Re(l)),Cr(s,a,l)):[]}function nO(s,a){return al(s,a)}function sO(s,a,l){return ed(s,a,ve(l,2))}function oO(s,a){var l=s==null?0:s.length;if(l){var h=al(s,a);if(h<l&&qr(s[h],a))return h}return-1}function aO(s,a){return al(s,a,!0)}function cO(s,a,l){return ed(s,a,ve(l,2),!0)}function lO(s,a){var l=s==null?0:s.length;if(l){var h=al(s,a,!0)-1;if(qr(s[h],a))return h}return-1}function uO(s){return s&&s.length?Fy(s):[]}function hO(s,a){return s&&s.length?Fy(s,ve(a,2)):[]}function fO(s){var a=s==null?0:s.length;return a?Cr(s,1,a):[]}function dO(s,a,l){return s&&s.length?(a=l||a===t?1:Re(a),Cr(s,0,a<0?0:a)):[]}function pO(s,a,l){var h=s==null?0:s.length;return h?(a=l||a===t?1:Re(a),a=h-a,Cr(s,a<0?0:a,h)):[]}function gO(s,a){return s&&s.length?cl(s,ve(a,3),!1,!0):[]}function mO(s,a){return s&&s.length?cl(s,ve(a,3)):[]}var yO=Ue(function(s){return Ji(jt(s,1,Et,!0))}),wO=Ue(function(s){var a=Ar(s);return Et(a)&&(a=t),Ji(jt(s,1,Et,!0),ve(a,2))}),vO=Ue(function(s){var a=Ar(s);return a=typeof a=="function"?a:t,Ji(jt(s,1,Et,!0),t,a)});function bO(s){return s&&s.length?Ji(s):[]}function EO(s,a){return s&&s.length?Ji(s,ve(a,2)):[]}function _O(s,a){return a=typeof a=="function"?a:t,s&&s.length?Ji(s,t,a):[]}function wd(s){if(!(s&&s.length))return[];var a=0;return s=zi(s,function(l){if(Et(l))return a=Ot(l.length,a),!0}),Uf(a,function(l){return ut(s,Tf(l))})}function Iw(s,a){if(!(s&&s.length))return[];var l=wd(s);return a==null?l:ut(l,function(h){return ur(a,t,h)})}var xO=Ue(function(s,a){return Et(s)?na(s,a):[]}),IO=Ue(function(s){return rd(zi(s,Et))}),SO=Ue(function(s){var a=Ar(s);return Et(a)&&(a=t),rd(zi(s,Et),ve(a,2))}),CO=Ue(function(s){var a=Ar(s);return a=typeof a=="function"?a:t,rd(zi(s,Et),t,a)}),AO=Ue(wd);function DO(s,a){return qy(s||[],a||[],ia)}function OO(s,a){return qy(s||[],a||[],aa)}var RO=Ue(function(s){var a=s.length,l=a>1?s[a-1]:t;return l=typeof l=="function"?(s.pop(),l):t,Iw(s,l)});function Sw(s){var a=g(s);return a.__chain__=!0,a}function PO(s,a){return a(s),s}function yl(s,a){return a(s)}var TO=yi(function(s){var a=s.length,l=a?s[0]:0,h=this.__wrapped__,p=function(w){return Hf(w,s)};return a>1||this.__actions__.length||!(h instanceof Be)||!wi(l)?this.thru(p):(h=h.slice(l,+l+(a?1:0)),h.__actions__.push({func:yl,args:[p],thisArg:t}),new Ir(h,this.__chain__).thru(function(w){return a&&!w.length&&w.push(t),w}))});function NO(){return Sw(this)}function LO(){return new Ir(this.value(),this.__chain__)}function UO(){this.__values__===t&&(this.__values__=$w(this.value()));var s=this.__index__>=this.__values__.length,a=s?t:this.__values__[this.__index__++];return{done:s,value:a}}function MO(){return this}function jO(s){for(var a,l=this;l instanceof rl;){var h=ww(l);h.__index__=0,h.__values__=t,a?p.__wrapped__=h:a=h;var p=h;l=l.__wrapped__}return p.__wrapped__=s,a}function FO(){var s=this.__wrapped__;if(s instanceof Be){var a=s;return this.__actions__.length&&(a=new Be(this)),a=a.reverse(),a.__actions__.push({func:yl,args:[yd],thisArg:t}),new Ir(a,this.__chain__)}return this.thru(yd)}function $O(){return ky(this.__wrapped__,this.__actions__)}var BO=ll(function(s,a,l){Ze.call(s,l)?++s[l]:gi(s,l,1)});function kO(s,a,l){var h=Ce(s)?ey:PA;return l&&Jt(s,a,l)&&(a=t),h(s,ve(a,3))}function qO(s,a){var l=Ce(s)?zi:Iy;return l(s,ve(a,3))}var HO=Xy(vw),zO=Xy(bw);function VO(s,a){return jt(wl(s,a),1)}function WO(s,a){return jt(wl(s,a),ee)}function KO(s,a,l){return l=l===t?1:Re(l),jt(wl(s,a),l)}function Cw(s,a){var l=Ce(s)?_r:Gi;return l(s,ve(a,3))}function Aw(s,a){var l=Ce(s)?fC:xy;return l(s,ve(a,3))}var GO=ll(function(s,a,l){Ze.call(s,l)?s[l].push(a):gi(s,l,[a])});function JO(s,a,l,h){s=nr(s)?s:$s(s),l=l&&!h?Re(l):0;var p=s.length;return l<0&&(l=Ot(p+l,0)),xl(s)?l<=p&&s.indexOf(a,l)>-1:!!p&&As(s,a,l)>-1}var YO=Ue(function(s,a,l){var h=-1,p=typeof a=="function",w=nr(s)?j(s.length):[];return Gi(s,function(x){w[++h]=p?ur(a,x,l):sa(x,a,l)}),w}),ZO=ll(function(s,a,l){gi(s,l,a)});function wl(s,a){var l=Ce(s)?ut:Ry;return l(s,ve(a,3))}function XO(s,a,l,h){return s==null?[]:(Ce(a)||(a=a==null?[]:[a]),l=h?t:l,Ce(l)||(l=l==null?[]:[l]),Ly(s,a,l))}var QO=ll(function(s,a,l){s[l?0:1].push(a)},function(){return[[],[]]});function e7(s,a,l){var h=Ce(s)?Rf:ny,p=arguments.length<3;return h(s,ve(a,4),l,p,Gi)}function t7(s,a,l){var h=Ce(s)?dC:ny,p=arguments.length<3;return h(s,ve(a,4),l,p,xy)}function r7(s,a){var l=Ce(s)?zi:Iy;return l(s,El(ve(a,3)))}function i7(s){var a=Ce(s)?vy:JA;return a(s)}function n7(s,a,l){(l?Jt(s,a,l):a===t)?a=1:a=Re(a);var h=Ce(s)?CA:YA;return h(s,a)}function s7(s){var a=Ce(s)?AA:XA;return a(s)}function o7(s){if(s==null)return 0;if(nr(s))return xl(s)?Os(s):s.length;var a=kt(s);return a==_e||a==$r?s.size:Jf(s).length}function a7(s,a,l){var h=Ce(s)?Pf:QA;return l&&Jt(s,a,l)&&(a=t),h(s,ve(a,3))}var c7=Ue(function(s,a){if(s==null)return[];var l=a.length;return l>1&&Jt(s,a[0],a[1])?a=[]:l>2&&Jt(a[0],a[1],a[2])&&(a=[a[0]]),Ly(s,jt(a,1),[])}),vl=qC||function(){return Mt.Date.now()};function l7(s,a){if(typeof a!="function")throw new xr(c);return s=Re(s),function(){if(--s<1)return a.apply(this,arguments)}}function Dw(s,a,l){return a=l?t:a,a=s&&a==null?s.length:a,mi(s,C,t,t,t,t,a)}function Ow(s,a){var l;if(typeof a!="function")throw new xr(c);return s=Re(s),function(){return--s>0&&(l=a.apply(this,arguments)),s<=1&&(a=t),l}}var vd=Ue(function(s,a,l){var h=R;if(l.length){var p=Wi(l,js(vd));h|=k}return mi(s,h,a,l,p)}),Rw=Ue(function(s,a,l){var h=R|P;if(l.length){var p=Wi(l,js(Rw));h|=k}return mi(a,h,s,l,p)});function Pw(s,a,l){a=l?t:a;var h=mi(s,U,t,t,t,t,t,a);return h.placeholder=Pw.placeholder,h}function Tw(s,a,l){a=l?t:a;var h=mi(s,N,t,t,t,t,t,a);return h.placeholder=Tw.placeholder,h}function Nw(s,a,l){var h,p,w,x,A,T,K=0,J=!1,Y=!1,re=!0;if(typeof s!="function")throw new xr(c);a=Dr(a)||0,gt(l)&&(J=!!l.leading,Y="maxWait"in l,w=Y?Ot(Dr(l.maxWait)||0,a):w,re="trailing"in l?!!l.trailing:re);function ce(_t){var Hr=h,Ei=p;return h=p=t,K=_t,x=s.apply(Ei,Hr),x}function be(_t){return K=_t,A=ua(Fe,a),J?ce(_t):x}function Te(_t){var Hr=_t-T,Ei=_t-K,Xw=a-Hr;return Y?Bt(Xw,w-Ei):Xw}function Ee(_t){var Hr=_t-T,Ei=_t-K;return T===t||Hr>=a||Hr<0||Y&&Ei>=w}function Fe(){var _t=vl();if(Ee(_t))return ke(_t);A=ua(Fe,Te(_t))}function ke(_t){return A=t,re&&h?ce(_t):(h=p=t,x)}function pr(){A!==t&&Hy(A),K=0,h=T=p=A=t}function Yt(){return A===t?x:ke(vl())}function gr(){var _t=vl(),Hr=Ee(_t);if(h=arguments,p=this,T=_t,Hr){if(A===t)return be(T);if(Y)return Hy(A),A=ua(Fe,a),ce(T)}return A===t&&(A=ua(Fe,a)),x}return gr.cancel=pr,gr.flush=Yt,gr}var u7=Ue(function(s,a){return _y(s,1,a)}),h7=Ue(function(s,a,l){return _y(s,Dr(a)||0,l)});function f7(s){return mi(s,V)}function bl(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new xr(c);var l=function(){var h=arguments,p=a?a.apply(this,h):h[0],w=l.cache;if(w.has(p))return w.get(p);var x=s.apply(this,h);return l.cache=w.set(p,x)||w,x};return l.cache=new(bl.Cache||pi),l}bl.Cache=pi;function El(s){if(typeof s!="function")throw new xr(c);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function d7(s){return Ow(2,s)}var p7=eD(function(s,a){a=a.length==1&&Ce(a[0])?ut(a[0],hr(ve())):ut(jt(a,1),hr(ve()));var l=a.length;return Ue(function(h){for(var p=-1,w=Bt(h.length,l);++p<w;)h[p]=a[p].call(this,h[p]);return ur(s,this,h)})}),bd=Ue(function(s,a){var l=Wi(a,js(bd));return mi(s,k,t,a,l)}),Lw=Ue(function(s,a){var l=Wi(a,js(Lw));return mi(s,W,t,a,l)}),g7=yi(function(s,a){return mi(s,D,t,t,t,a)});function m7(s,a){if(typeof s!="function")throw new xr(c);return a=a===t?a:Re(a),Ue(s,a)}function y7(s,a){if(typeof s!="function")throw new xr(c);return a=a==null?0:Ot(Re(a),0),Ue(function(l){var h=l[a],p=Zi(l,0,a);return h&&Vi(p,h),ur(s,this,p)})}function w7(s,a,l){var h=!0,p=!0;if(typeof s!="function")throw new xr(c);return gt(l)&&(h="leading"in l?!!l.leading:h,p="trailing"in l?!!l.trailing:p),Nw(s,a,{leading:h,maxWait:a,trailing:p})}function v7(s){return Dw(s,1)}function b7(s,a){return bd(nd(a),s)}function E7(){if(!arguments.length)return[];var s=arguments[0];return Ce(s)?s:[s]}function _7(s){return Sr(s,v)}function x7(s,a){return a=typeof a=="function"?a:t,Sr(s,v,a)}function I7(s){return Sr(s,y|v)}function S7(s,a){return a=typeof a=="function"?a:t,Sr(s,y|v,a)}function C7(s,a){return a==null||Ey(s,a,Tt(a))}function qr(s,a){return s===a||s!==s&&a!==a}var A7=dl(Wf),D7=dl(function(s,a){return s>=a}),zn=Ay(function(){return arguments}())?Ay:function(s){return wt(s)&&Ze.call(s,"callee")&&!dy.call(s,"callee")},Ce=j.isArray,O7=Gm?hr(Gm):jA;function nr(s){return s!=null&&_l(s.length)&&!vi(s)}function Et(s){return wt(s)&&nr(s)}function R7(s){return s===!0||s===!1||wt(s)&&Gt(s)==Se}var Xi=zC||Pd,P7=Jm?hr(Jm):FA;function T7(s){return wt(s)&&s.nodeType===1&&!ha(s)}function N7(s){if(s==null)return!0;if(nr(s)&&(Ce(s)||typeof s=="string"||typeof s.splice=="function"||Xi(s)||Fs(s)||zn(s)))return!s.length;var a=kt(s);if(a==_e||a==$r)return!s.size;if(la(s))return!Jf(s).length;for(var l in s)if(Ze.call(s,l))return!1;return!0}function L7(s,a){return oa(s,a)}function U7(s,a,l){l=typeof l=="function"?l:t;var h=l?l(s,a):t;return h===t?oa(s,a,t,l):!!h}function Ed(s){if(!wt(s))return!1;var a=Gt(s);return a==Pe||a==je||typeof s.message=="string"&&typeof s.name=="string"&&!ha(s)}function M7(s){return typeof s=="number"&&gy(s)}function vi(s){if(!gt(s))return!1;var a=Gt(s);return a==Oe||a==$e||a==we||a==oS}function Uw(s){return typeof s=="number"&&s==Re(s)}function _l(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=oe}function gt(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function wt(s){return s!=null&&typeof s=="object"}var Mw=Ym?hr(Ym):BA;function j7(s,a){return s===a||Gf(s,a,hd(a))}function F7(s,a,l){return l=typeof l=="function"?l:t,Gf(s,a,hd(a),l)}function $7(s){return jw(s)&&s!=+s}function B7(s){if(xD(s))throw new xe(o);return Dy(s)}function k7(s){return s===null}function q7(s){return s==null}function jw(s){return typeof s=="number"||wt(s)&&Gt(s)==Le}function ha(s){if(!wt(s)||Gt(s)!=fi)return!1;var a=Jc(s);if(a===null)return!0;var l=Ze.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&Vc.call(l)==FC}var _d=Zm?hr(Zm):kA;function H7(s){return Uw(s)&&s>=-oe&&s<=oe}var Fw=Xm?hr(Xm):qA;function xl(s){return typeof s=="string"||!Ce(s)&&wt(s)&&Gt(s)==Go}function dr(s){return typeof s=="symbol"||wt(s)&&Gt(s)==Mc}var Fs=Qm?hr(Qm):HA;function z7(s){return s===t}function V7(s){return wt(s)&&kt(s)==Jo}function W7(s){return wt(s)&&Gt(s)==cS}var K7=dl(Yf),G7=dl(function(s,a){return s<=a});function $w(s){if(!s)return[];if(nr(s))return xl(s)?Br(s):ir(s);if(Xo&&s[Xo])return CC(s[Xo]());var a=kt(s),l=a==_e?jf:a==$r?qc:$s;return l(s)}function bi(s){if(!s)return s===0?s:0;if(s=Dr(s),s===ee||s===-ee){var a=s<0?-1:1;return a*Ye}return s===s?s:0}function Re(s){var a=bi(s),l=a%1;return a===a?l?a-l:a:0}function Bw(s){return s?Bn(Re(s),0,ae):0}function Dr(s){if(typeof s=="number")return s;if(dr(s))return ue;if(gt(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=gt(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=sy(s);var l=OS.test(s);return l||PS.test(s)?lC(s.slice(2),l?2:8):DS.test(s)?ue:+s}function kw(s){return Gr(s,sr(s))}function J7(s){return s?Bn(Re(s),-oe,oe):s===0?s:0}function We(s){return s==null?"":fr(s)}var Y7=Us(function(s,a){if(la(a)||nr(a)){Gr(a,Tt(a),s);return}for(var l in a)Ze.call(a,l)&&ia(s,l,a[l])}),qw=Us(function(s,a){Gr(a,sr(a),s)}),Il=Us(function(s,a,l,h){Gr(a,sr(a),s,h)}),Z7=Us(function(s,a,l,h){Gr(a,Tt(a),s,h)}),X7=yi(Hf);function Q7(s,a){var l=Ls(s);return a==null?l:by(l,a)}var eR=Ue(function(s,a){s=tt(s);var l=-1,h=a.length,p=h>2?a[2]:t;for(p&&Jt(a[0],a[1],p)&&(h=1);++l<h;)for(var w=a[l],x=sr(w),A=-1,T=x.length;++A<T;){var K=x[A],J=s[K];(J===t||qr(J,Ps[K])&&!Ze.call(s,K))&&(s[K]=w[K])}return s}),tR=Ue(function(s){return s.push(t,sw),ur(Hw,t,s)});function rR(s,a){return ty(s,ve(a,3),Kr)}function iR(s,a){return ty(s,ve(a,3),Vf)}function nR(s,a){return s==null?s:zf(s,ve(a,3),sr)}function sR(s,a){return s==null?s:Sy(s,ve(a,3),sr)}function oR(s,a){return s&&Kr(s,ve(a,3))}function aR(s,a){return s&&Vf(s,ve(a,3))}function cR(s){return s==null?[]:sl(s,Tt(s))}function lR(s){return s==null?[]:sl(s,sr(s))}function xd(s,a,l){var h=s==null?t:kn(s,a);return h===t?l:h}function uR(s,a){return s!=null&&cw(s,a,NA)}function Id(s,a){return s!=null&&cw(s,a,LA)}var hR=ew(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Wc.call(a)),s[a]=l},Cd(or)),fR=ew(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Wc.call(a)),Ze.call(s,a)?s[a].push(l):s[a]=[l]},ve),dR=Ue(sa);function Tt(s){return nr(s)?wy(s):Jf(s)}function sr(s){return nr(s)?wy(s,!0):zA(s)}function pR(s,a){var l={};return a=ve(a,3),Kr(s,function(h,p,w){gi(l,a(h,p,w),h)}),l}function gR(s,a){var l={};return a=ve(a,3),Kr(s,function(h,p,w){gi(l,p,a(h,p,w))}),l}var mR=Us(function(s,a,l){ol(s,a,l)}),Hw=Us(function(s,a,l,h){ol(s,a,l,h)}),yR=yi(function(s,a){var l={};if(s==null)return l;var h=!1;a=ut(a,function(w){return w=Yi(w,s),h||(h=w.length>1),w}),Gr(s,ld(s),l),h&&(l=Sr(l,y|b|v,hD));for(var p=a.length;p--;)td(l,a[p]);return l});function wR(s,a){return zw(s,El(ve(a)))}var vR=yi(function(s,a){return s==null?{}:WA(s,a)});function zw(s,a){if(s==null)return{};var l=ut(ld(s),function(h){return[h]});return a=ve(a),Uy(s,l,function(h,p){return a(h,p[0])})}function bR(s,a,l){a=Yi(a,s);var h=-1,p=a.length;for(p||(p=1,s=t);++h<p;){var w=s==null?t:s[Jr(a[h])];w===t&&(h=p,w=l),s=vi(w)?w.call(s):w}return s}function ER(s,a,l){return s==null?s:aa(s,a,l)}function _R(s,a,l,h){return h=typeof h=="function"?h:t,s==null?s:aa(s,a,l,h)}var Vw=iw(Tt),Ww=iw(sr);function xR(s,a,l){var h=Ce(s),p=h||Xi(s)||Fs(s);if(a=ve(a,4),l==null){var w=s&&s.constructor;p?l=h?new w:[]:gt(s)?l=vi(w)?Ls(Jc(s)):{}:l={}}return(p?_r:Kr)(s,function(x,A,T){return a(l,x,A,T)}),l}function IR(s,a){return s==null?!0:td(s,a)}function SR(s,a,l){return s==null?s:By(s,a,nd(l))}function CR(s,a,l,h){return h=typeof h=="function"?h:t,s==null?s:By(s,a,nd(l),h)}function $s(s){return s==null?[]:Mf(s,Tt(s))}function AR(s){return s==null?[]:Mf(s,sr(s))}function DR(s,a,l){return l===t&&(l=a,a=t),l!==t&&(l=Dr(l),l=l===l?l:0),a!==t&&(a=Dr(a),a=a===a?a:0),Bn(Dr(s),a,l)}function OR(s,a,l){return a=bi(a),l===t?(l=a,a=0):l=bi(l),s=Dr(s),UA(s,a,l)}function RR(s,a,l){if(l&&typeof l!="boolean"&&Jt(s,a,l)&&(a=l=t),l===t&&(typeof a=="boolean"?(l=a,a=t):typeof s=="boolean"&&(l=s,s=t)),s===t&&a===t?(s=0,a=1):(s=bi(s),a===t?(a=s,s=0):a=bi(a)),s>a){var h=s;s=a,a=h}if(l||s%1||a%1){var p=my();return Bt(s+p*(a-s+cC("1e-"+((p+"").length-1))),a)}return Xf(s,a)}var PR=Ms(function(s,a,l){return a=a.toLowerCase(),s+(l?Kw(a):a)});function Kw(s){return Sd(We(s).toLowerCase())}function Gw(s){return s=We(s),s&&s.replace(NS,EC).replace(XS,"")}function TR(s,a,l){s=We(s),a=fr(a);var h=s.length;l=l===t?h:Bn(Re(l),0,h);var p=l;return l-=a.length,l>=0&&s.slice(l,p)==a}function NR(s){return s=We(s),s&&dS.test(s)?s.replace(Sm,_C):s}function LR(s){return s=We(s),s&&vS.test(s)?s.replace(bf,"\\$&"):s}var UR=Ms(function(s,a,l){return s+(l?"-":"")+a.toLowerCase()}),MR=Ms(function(s,a,l){return s+(l?" ":"")+a.toLowerCase()}),jR=Zy("toLowerCase");function FR(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;if(!a||h>=a)return s;var p=(a-h)/2;return fl(Qc(p),l)+s+fl(Xc(p),l)}function $R(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;return a&&h<a?s+fl(a-h,l):s}function BR(s,a,l){s=We(s),a=Re(a);var h=a?Os(s):0;return a&&h<a?fl(a-h,l)+s:s}function kR(s,a,l){return l||a==null?a=0:a&&(a=+a),GC(We(s).replace(Ef,""),a||0)}function qR(s,a,l){return(l?Jt(s,a,l):a===t)?a=1:a=Re(a),Qf(We(s),a)}function HR(){var s=arguments,a=We(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var zR=Ms(function(s,a,l){return s+(l?"_":"")+a.toLowerCase()});function VR(s,a,l){return l&&typeof l!="number"&&Jt(s,a,l)&&(a=l=t),l=l===t?ae:l>>>0,l?(s=We(s),s&&(typeof a=="string"||a!=null&&!_d(a))&&(a=fr(a),!a&&Ds(s))?Zi(Br(s),0,l):s.split(a,l)):[]}var WR=Ms(function(s,a,l){return s+(l?" ":"")+Sd(a)});function KR(s,a,l){return s=We(s),l=l==null?0:Bn(Re(l),0,s.length),a=fr(a),s.slice(l,l+a.length)==a}function GR(s,a,l){var h=g.templateSettings;l&&Jt(s,a,l)&&(a=t),s=We(s),a=Il({},a,h,nw);var p=Il({},a.imports,h.imports,nw),w=Tt(p),x=Mf(p,w),A,T,K=0,J=a.interpolate||jc,Y="__p += '",re=Ff((a.escape||jc).source+"|"+J.source+"|"+(J===Cm?AS:jc).source+"|"+(a.evaluate||jc).source+"|$","g"),ce="//# sourceURL="+(Ze.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++iC+"]")+`
`;s.replace(re,function(Ee,Fe,ke,pr,Yt,gr){return ke||(ke=pr),Y+=s.slice(K,gr).replace(LS,xC),Fe&&(A=!0,Y+=`' +
__e(`+Fe+`) +
'`),Yt&&(T=!0,Y+=`';
`+Yt+`;
__p += '`),ke&&(Y+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),K=gr+Ee.length,Ee}),Y+=`';
`;var be=Ze.call(a,"variable")&&a.variable;if(!be)Y=`with (obj) {
`+Y+`
}
`;else if(SS.test(be))throw new xe(u);Y=(T?Y.replace(lS,""):Y).replace(uS,"$1").replace(hS,"$1;"),Y="function("+(be||"obj")+`) {
`+(be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Te=Yw(function(){return Ve(w,ce+"return "+Y).apply(t,x)});if(Te.source=Y,Ed(Te))throw Te;return Te}function JR(s){return We(s).toLowerCase()}function YR(s){return We(s).toUpperCase()}function ZR(s,a,l){if(s=We(s),s&&(l||a===t))return sy(s);if(!s||!(a=fr(a)))return s;var h=Br(s),p=Br(a),w=oy(h,p),x=ay(h,p)+1;return Zi(h,w,x).join("")}function XR(s,a,l){if(s=We(s),s&&(l||a===t))return s.slice(0,ly(s)+1);if(!s||!(a=fr(a)))return s;var h=Br(s),p=ay(h,Br(a))+1;return Zi(h,0,p).join("")}function QR(s,a,l){if(s=We(s),s&&(l||a===t))return s.replace(Ef,"");if(!s||!(a=fr(a)))return s;var h=Br(s),p=oy(h,Br(a));return Zi(h,p).join("")}function eP(s,a){var l=E,h=I;if(gt(a)){var p="separator"in a?a.separator:p;l="length"in a?Re(a.length):l,h="omission"in a?fr(a.omission):h}s=We(s);var w=s.length;if(Ds(s)){var x=Br(s);w=x.length}if(l>=w)return s;var A=l-Os(h);if(A<1)return h;var T=x?Zi(x,0,A).join(""):s.slice(0,A);if(p===t)return T+h;if(x&&(A+=T.length-A),_d(p)){if(s.slice(A).search(p)){var K,J=T;for(p.global||(p=Ff(p.source,We(Am.exec(p))+"g")),p.lastIndex=0;K=p.exec(J);)var Y=K.index;T=T.slice(0,Y===t?A:Y)}}else if(s.indexOf(fr(p),A)!=A){var re=T.lastIndexOf(p);re>-1&&(T=T.slice(0,re))}return T+h}function tP(s){return s=We(s),s&&fS.test(s)?s.replace(Im,RC):s}var rP=Ms(function(s,a,l){return s+(l?" ":"")+a.toUpperCase()}),Sd=Zy("toUpperCase");function Jw(s,a,l){return s=We(s),a=l?t:a,a===t?SC(s)?NC(s):mC(s):s.match(a)||[]}var Yw=Ue(function(s,a){try{return ur(s,t,a)}catch(l){return Ed(l)?l:new xe(l)}}),iP=yi(function(s,a){return _r(a,function(l){l=Jr(l),gi(s,l,vd(s[l],s))}),s});function nP(s){var a=s==null?0:s.length,l=ve();return s=a?ut(s,function(h){if(typeof h[1]!="function")throw new xr(c);return[l(h[0]),h[1]]}):[],Ue(function(h){for(var p=-1;++p<a;){var w=s[p];if(ur(w[0],this,h))return ur(w[1],this,h)}})}function sP(s){return RA(Sr(s,y))}function Cd(s){return function(){return s}}function oP(s,a){return s==null||s!==s?a:s}var aP=Qy(),cP=Qy(!0);function or(s){return s}function Ad(s){return Oy(typeof s=="function"?s:Sr(s,y))}function lP(s){return Py(Sr(s,y))}function uP(s,a){return Ty(s,Sr(a,y))}var hP=Ue(function(s,a){return function(l){return sa(l,s,a)}}),fP=Ue(function(s,a){return function(l){return sa(s,l,a)}});function Dd(s,a,l){var h=Tt(a),p=sl(a,h);l==null&&!(gt(a)&&(p.length||!h.length))&&(l=a,a=s,s=this,p=sl(a,Tt(a)));var w=!(gt(l)&&"chain"in l)||!!l.chain,x=vi(s);return _r(p,function(A){var T=a[A];s[A]=T,x&&(s.prototype[A]=function(){var K=this.__chain__;if(w||K){var J=s(this.__wrapped__),Y=J.__actions__=ir(this.__actions__);return Y.push({func:T,args:arguments,thisArg:s}),J.__chain__=K,J}return T.apply(s,Vi([this.value()],arguments))})}),s}function dP(){return Mt._===this&&(Mt._=$C),this}function Od(){}function pP(s){return s=Re(s),Ue(function(a){return Ny(a,s)})}var gP=od(ut),mP=od(ey),yP=od(Pf);function Zw(s){return dd(s)?Tf(Jr(s)):KA(s)}function wP(s){return function(a){return s==null?t:kn(s,a)}}var vP=tw(),bP=tw(!0);function Rd(){return[]}function Pd(){return!1}function EP(){return{}}function _P(){return""}function xP(){return!0}function IP(s,a){if(s=Re(s),s<1||s>oe)return[];var l=ae,h=Bt(s,ae);a=ve(a),s-=ae;for(var p=Uf(h,a);++l<s;)a(l);return p}function SP(s){return Ce(s)?ut(s,Jr):dr(s)?[s]:ir(yw(We(s)))}function CP(s){var a=++jC;return We(s)+a}var AP=hl(function(s,a){return s+a},0),DP=ad("ceil"),OP=hl(function(s,a){return s/a},1),RP=ad("floor");function PP(s){return s&&s.length?nl(s,or,Wf):t}function TP(s,a){return s&&s.length?nl(s,ve(a,2),Wf):t}function NP(s){return iy(s,or)}function LP(s,a){return iy(s,ve(a,2))}function UP(s){return s&&s.length?nl(s,or,Yf):t}function MP(s,a){return s&&s.length?nl(s,ve(a,2),Yf):t}var jP=hl(function(s,a){return s*a},1),FP=ad("round"),$P=hl(function(s,a){return s-a},0);function BP(s){return s&&s.length?Lf(s,or):0}function kP(s,a){return s&&s.length?Lf(s,ve(a,2)):0}return g.after=l7,g.ary=Dw,g.assign=Y7,g.assignIn=qw,g.assignInWith=Il,g.assignWith=Z7,g.at=X7,g.before=Ow,g.bind=vd,g.bindAll=iP,g.bindKey=Rw,g.castArray=E7,g.chain=Sw,g.chunk=RD,g.compact=PD,g.concat=TD,g.cond=nP,g.conforms=sP,g.constant=Cd,g.countBy=BO,g.create=Q7,g.curry=Pw,g.curryRight=Tw,g.debounce=Nw,g.defaults=eR,g.defaultsDeep=tR,g.defer=u7,g.delay=h7,g.difference=ND,g.differenceBy=LD,g.differenceWith=UD,g.drop=MD,g.dropRight=jD,g.dropRightWhile=FD,g.dropWhile=$D,g.fill=BD,g.filter=qO,g.flatMap=VO,g.flatMapDeep=WO,g.flatMapDepth=KO,g.flatten=Ew,g.flattenDeep=kD,g.flattenDepth=qD,g.flip=f7,g.flow=aP,g.flowRight=cP,g.fromPairs=HD,g.functions=cR,g.functionsIn=lR,g.groupBy=GO,g.initial=VD,g.intersection=WD,g.intersectionBy=KD,g.intersectionWith=GD,g.invert=hR,g.invertBy=fR,g.invokeMap=YO,g.iteratee=Ad,g.keyBy=ZO,g.keys=Tt,g.keysIn=sr,g.map=wl,g.mapKeys=pR,g.mapValues=gR,g.matches=lP,g.matchesProperty=uP,g.memoize=bl,g.merge=mR,g.mergeWith=Hw,g.method=hP,g.methodOf=fP,g.mixin=Dd,g.negate=El,g.nthArg=pP,g.omit=yR,g.omitBy=wR,g.once=d7,g.orderBy=XO,g.over=gP,g.overArgs=p7,g.overEvery=mP,g.overSome=yP,g.partial=bd,g.partialRight=Lw,g.partition=QO,g.pick=vR,g.pickBy=zw,g.property=Zw,g.propertyOf=wP,g.pull=XD,g.pullAll=xw,g.pullAllBy=QD,g.pullAllWith=eO,g.pullAt=tO,g.range=vP,g.rangeRight=bP,g.rearg=g7,g.reject=r7,g.remove=rO,g.rest=m7,g.reverse=yd,g.sampleSize=n7,g.set=ER,g.setWith=_R,g.shuffle=s7,g.slice=iO,g.sortBy=c7,g.sortedUniq=uO,g.sortedUniqBy=hO,g.split=VR,g.spread=y7,g.tail=fO,g.take=dO,g.takeRight=pO,g.takeRightWhile=gO,g.takeWhile=mO,g.tap=PO,g.throttle=w7,g.thru=yl,g.toArray=$w,g.toPairs=Vw,g.toPairsIn=Ww,g.toPath=SP,g.toPlainObject=kw,g.transform=xR,g.unary=v7,g.union=yO,g.unionBy=wO,g.unionWith=vO,g.uniq=bO,g.uniqBy=EO,g.uniqWith=_O,g.unset=IR,g.unzip=wd,g.unzipWith=Iw,g.update=SR,g.updateWith=CR,g.values=$s,g.valuesIn=AR,g.without=xO,g.words=Jw,g.wrap=b7,g.xor=IO,g.xorBy=SO,g.xorWith=CO,g.zip=AO,g.zipObject=DO,g.zipObjectDeep=OO,g.zipWith=RO,g.entries=Vw,g.entriesIn=Ww,g.extend=qw,g.extendWith=Il,Dd(g,g),g.add=AP,g.attempt=Yw,g.camelCase=PR,g.capitalize=Kw,g.ceil=DP,g.clamp=DR,g.clone=_7,g.cloneDeep=I7,g.cloneDeepWith=S7,g.cloneWith=x7,g.conformsTo=C7,g.deburr=Gw,g.defaultTo=oP,g.divide=OP,g.endsWith=TR,g.eq=qr,g.escape=NR,g.escapeRegExp=LR,g.every=kO,g.find=HO,g.findIndex=vw,g.findKey=rR,g.findLast=zO,g.findLastIndex=bw,g.findLastKey=iR,g.floor=RP,g.forEach=Cw,g.forEachRight=Aw,g.forIn=nR,g.forInRight=sR,g.forOwn=oR,g.forOwnRight=aR,g.get=xd,g.gt=A7,g.gte=D7,g.has=uR,g.hasIn=Id,g.head=_w,g.identity=or,g.includes=JO,g.indexOf=zD,g.inRange=OR,g.invoke=dR,g.isArguments=zn,g.isArray=Ce,g.isArrayBuffer=O7,g.isArrayLike=nr,g.isArrayLikeObject=Et,g.isBoolean=R7,g.isBuffer=Xi,g.isDate=P7,g.isElement=T7,g.isEmpty=N7,g.isEqual=L7,g.isEqualWith=U7,g.isError=Ed,g.isFinite=M7,g.isFunction=vi,g.isInteger=Uw,g.isLength=_l,g.isMap=Mw,g.isMatch=j7,g.isMatchWith=F7,g.isNaN=$7,g.isNative=B7,g.isNil=q7,g.isNull=k7,g.isNumber=jw,g.isObject=gt,g.isObjectLike=wt,g.isPlainObject=ha,g.isRegExp=_d,g.isSafeInteger=H7,g.isSet=Fw,g.isString=xl,g.isSymbol=dr,g.isTypedArray=Fs,g.isUndefined=z7,g.isWeakMap=V7,g.isWeakSet=W7,g.join=JD,g.kebabCase=UR,g.last=Ar,g.lastIndexOf=YD,g.lowerCase=MR,g.lowerFirst=jR,g.lt=K7,g.lte=G7,g.max=PP,g.maxBy=TP,g.mean=NP,g.meanBy=LP,g.min=UP,g.minBy=MP,g.stubArray=Rd,g.stubFalse=Pd,g.stubObject=EP,g.stubString=_P,g.stubTrue=xP,g.multiply=jP,g.nth=ZD,g.noConflict=dP,g.noop=Od,g.now=vl,g.pad=FR,g.padEnd=$R,g.padStart=BR,g.parseInt=kR,g.random=RR,g.reduce=e7,g.reduceRight=t7,g.repeat=qR,g.replace=HR,g.result=bR,g.round=FP,g.runInContext=O,g.sample=i7,g.size=o7,g.snakeCase=zR,g.some=a7,g.sortedIndex=nO,g.sortedIndexBy=sO,g.sortedIndexOf=oO,g.sortedLastIndex=aO,g.sortedLastIndexBy=cO,g.sortedLastIndexOf=lO,g.startCase=WR,g.startsWith=KR,g.subtract=$P,g.sum=BP,g.sumBy=kP,g.template=GR,g.times=IP,g.toFinite=bi,g.toInteger=Re,g.toLength=Bw,g.toLower=JR,g.toNumber=Dr,g.toSafeInteger=J7,g.toString=We,g.toUpper=YR,g.trim=ZR,g.trimEnd=XR,g.trimStart=QR,g.truncate=eP,g.unescape=tP,g.uniqueId=CP,g.upperCase=rP,g.upperFirst=Sd,g.each=Cw,g.eachRight=Aw,g.first=_w,Dd(g,function(){var s={};return Kr(g,function(a,l){Ze.call(g.prototype,l)||(s[l]=a)}),s}(),{chain:!1}),g.VERSION=i,_r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){g[s].placeholder=g}),_r(["drop","take"],function(s,a){Be.prototype[s]=function(l){l=l===t?1:Ot(Re(l),0);var h=this.__filtered__&&!a?new Be(this):this.clone();return h.__filtered__?h.__takeCount__=Bt(l,h.__takeCount__):h.__views__.push({size:Bt(l,ae),type:s+(h.__dir__<0?"Right":"")}),h},Be.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),_r(["filter","map","takeWhile"],function(s,a){var l=a+1,h=l==G||l==ne;Be.prototype[s]=function(p){var w=this.clone();return w.__iteratees__.push({iteratee:ve(p,3),type:l}),w.__filtered__=w.__filtered__||h,w}}),_r(["head","last"],function(s,a){var l="take"+(a?"Right":"");Be.prototype[s]=function(){return this[l](1).value()[0]}}),_r(["initial","tail"],function(s,a){var l="drop"+(a?"":"Right");Be.prototype[s]=function(){return this.__filtered__?new Be(this):this[l](1)}}),Be.prototype.compact=function(){return this.filter(or)},Be.prototype.find=function(s){return this.filter(s).head()},Be.prototype.findLast=function(s){return this.reverse().find(s)},Be.prototype.invokeMap=Ue(function(s,a){return typeof s=="function"?new Be(this):this.map(function(l){return sa(l,s,a)})}),Be.prototype.reject=function(s){return this.filter(El(ve(s)))},Be.prototype.slice=function(s,a){s=Re(s);var l=this;return l.__filtered__&&(s>0||a<0)?new Be(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),a!==t&&(a=Re(a),l=a<0?l.dropRight(-a):l.take(a-s)),l)},Be.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Be.prototype.toArray=function(){return this.take(ae)},Kr(Be.prototype,function(s,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),h=/^(?:head|last)$/.test(a),p=g[h?"take"+(a=="last"?"Right":""):a],w=h||/^find/.test(a);p&&(g.prototype[a]=function(){var x=this.__wrapped__,A=h?[1]:arguments,T=x instanceof Be,K=A[0],J=T||Ce(x),Y=function(Fe){var ke=p.apply(g,Vi([Fe],A));return h&&re?ke[0]:ke};J&&l&&typeof K=="function"&&K.length!=1&&(T=J=!1);var re=this.__chain__,ce=!!this.__actions__.length,be=w&&!re,Te=T&&!ce;if(!w&&J){x=Te?x:new Be(this);var Ee=s.apply(x,A);return Ee.__actions__.push({func:yl,args:[Y],thisArg:t}),new Ir(Ee,re)}return be&&Te?s.apply(this,A):(Ee=this.thru(Y),be?h?Ee.value()[0]:Ee.value():Ee)})}),_r(["pop","push","shift","sort","splice","unshift"],function(s){var a=Hc[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",h=/^(?:pop|shift)$/.test(s);g.prototype[s]=function(){var p=arguments;if(h&&!this.__chain__){var w=this.value();return a.apply(Ce(w)?w:[],p)}return this[l](function(x){return a.apply(Ce(x)?x:[],p)})}}),Kr(Be.prototype,function(s,a){var l=g[a];if(l){var h=l.name+"";Ze.call(Ns,h)||(Ns[h]=[]),Ns[h].push({name:a,func:l})}}),Ns[ul(t,P).name]=[{name:"wrapper",func:t}],Be.prototype.clone=tA,Be.prototype.reverse=rA,Be.prototype.value=iA,g.prototype.at=TO,g.prototype.chain=NO,g.prototype.commit=LO,g.prototype.next=UO,g.prototype.plant=jO,g.prototype.reverse=FO,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=$O,g.prototype.first=g.prototype.head,Xo&&(g.prototype[Xo]=MO),g},Rs=LC();Mn?((Mn.exports=Rs)._=Rs,Af._=Rs):Mt._=Rs}).call(rc)})(_g,_g.exports);var hk=Object.defineProperty,fk=Object.defineProperties,dk=Object.getOwnPropertyDescriptors,a6=Object.getOwnPropertySymbols,pk=Object.prototype.hasOwnProperty,gk=Object.prototype.propertyIsEnumerable,c6=(r,e,t)=>e in r?hk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vh=(r,e)=>{for(var t in e||(e={}))pk.call(e,t)&&c6(r,t,e[t]);if(a6)for(var t of a6(e))gk.call(e,t)&&c6(r,t,e[t]);return r},mk=(r,e)=>fk(r,dk(e));function Lr(r,e,t){let i,n=xg(r);return e.rpcMap&&(i=e.rpcMap[n]),i||(i=`${uk}?chainId=eip155:${n}&projectId=${t}`),i}function xg(r){return r.includes("eip155")?Number(r.split(":")[1]):Number(r)}function yk(r,e){if(!e.includes(r))throw new Error(`Chain '${r}' not approved. Please use one of the following: ${e.toString()}`)}function wk(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function vk(r,e){let t=Object.keys(e.namespaces).filter(n=>n.includes(r));if(!t.length)return[];let i=[];return t.forEach(n=>{let o=e.namespaces[n].accounts;i.push(...o)}),i}function bk(r,e={}){let t=l6(r),i=l6(e);return _g.exports.merge(t,i)}function l6(r){var e,t,i,n;let o={};if(!Nr.isValidObject(r))return o;for(let[c,u]of Object.entries(r)){let f=Nr.isCaipNamespace(c)?[c]:u.chains,d=u.methods||[],m=u.events||[],y=u.rpcMap||{},b=Nr.parseNamespaceKey(c);o[b]=mk(vh(vh({},o[b]),u),{chains:Nr.mergeArrays(f,(e=o[b])==null?void 0:e.chains),methods:Nr.mergeArrays(d,(t=o[b])==null?void 0:t.methods),events:Nr.mergeArrays(m,(i=o[b])==null?void 0:i.events),rpcMap:vh(vh({},y),(n=o[b])==null?void 0:n.rpcMap)})}return o}var u6={},It=r=>u6[r],Ig=(r,e)=>{u6[r]=e},h6=class{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},f6=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){var t;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){let i=xg(e);if(!this.httpProviders[i]){let n=t||Lr(`${this.name}:${i}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${i}`);this.setHttpProvider(i,n)}this.chainId=i,this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${i}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new n6.HttpConnection(i,It("disableProviderPing")))}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;let n=xg(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){let t=parseInt(e,16),i=`${this.name}:${t}`;yk(i,this.namespace.chains),this.setDefaultChain(`${t}`)}},d6=class{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},p6=class{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},g6=class{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let i=this.getCardanoRPCUrl(t);e[t]=this.createHttpProvider(t,i)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||this.getCardanoRPCUrl(e);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},m6=class{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},y6=class{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=It("events"),this.client=It("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let i=t||Lr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(mn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){let i=t||Lr(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new os.JsonRpcProvider(new xo.default(i,It("disableProviderPing")))}},Ek=Object.defineProperty,_k=Object.defineProperties,xk=Object.getOwnPropertyDescriptors,w6=Object.getOwnPropertySymbols,Ik=Object.prototype.hasOwnProperty,Sk=Object.prototype.propertyIsEnumerable,v6=(r,e,t)=>e in r?Ek(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bh=(r,e)=>{for(var t in e||(e={}))Ik.call(e,t)&&v6(r,t,e[t]);if(w6)for(var t of w6(e))Sk.call(e,t)&&v6(r,t,e[t]);return r},Sg=(r,e)=>_k(r,xk(e)),ic=class{constructor(e){this.events=new ok.default,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:i6.pino(i6.getDefaultLoggerOptions({level:e?.logger||s6})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new ic(e);return await t.initialize(),t}async request(e,t){let[i,n]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:bh({},e),chainId:`${i}:${n}`,topic:this.session.topic})}sendAsync(e,t,i){this.request(e,i).then(n=>t(null,n)).catch(n=>t(n,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Nr.getSdkError("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");let{uri:i,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(o=>{this.session=o}).catch(o=>{if(o.message!==r6.PROPOSAL_EXPIRY_MESSAGE)throw o;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{let[i,n]=this.validateChain(e);this.getProvider(i).setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(Nr.isValidArray(t)){for(let i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await sk.default.init({logger:this.providerOpts.logger||s6,relayUrl:this.providerOpts.relayUrl||ak,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(t=>Nr.parseNamespaceKey(t)))];Ig("client",this.client),Ig("events",this.events),Ig("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;let i=vk(t,this.session),n=wk(i),o=bk(this.namespaces,this.optionalNamespaces),c=Sg(bh({},o[t]),{accounts:i,chains:n});switch(t){case"eip155":this.rpcProviders[t]=new f6({namespace:c});break;case"solana":this.rpcProviders[t]=new d6({namespace:c});break;case"cosmos":this.rpcProviders[t]=new p6({namespace:c});break;case"polkadot":this.rpcProviders[t]=new h6({namespace:c});break;case"cip34":this.rpcProviders[t]=new g6({namespace:c});break;case"elrond":this.rpcProviders[t]=new m6({namespace:c});break;case"multiversx":this.rpcProviders[t]=new y6({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:i}=t;i.name==="accountsChanged"?this.events.emit("accountsChanged",i.data):i.name==="chainChanged"?this.onChainChanged(t.chainId):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var i;let{namespaces:n}=t,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Sg(bh({},o),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Sg(bh({},Nr.getSdkError("USER_DISCONNECTED")),{data:e.topic}))}),this.on(mn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:i,sessionProperties:n}=e;if(!t||!Object.keys(t).length)throw new Error("Namespaces must be not empty");this.namespaces=t,this.optionalNamespaces=i,this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",i)}validateChain(e){let[t,i]=e?.split(":")||["",""];if(t&&!Object.keys(this.namespaces).map(c=>Nr.parseNamespaceKey(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];let n=Nr.parseNamespaceKey(Object.keys(this.namespaces)[0]),o=this.rpcProviders[n].getDefaultChain();return[n,o]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var i;let[n,o]=this.validateChain(e);t||this.getProvider(n).setDefaultChain(o),((i=this.namespaces[n])!=null?i:this.namespaces[`${n}:${o}`]).defaultChain=o,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",o)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${o6}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${o6}/${e}`)}},Ck=ic;Eh.UniversalProvider=Ck,Eh.default=ic});var eY,Ak,E6,Cg,Dk,_6,Ag,x6=M(()=>{eY=Symbol(),Ak=Symbol(),E6=Object.getPrototypeOf,Cg=new WeakMap,Dk=r=>r&&(Cg.has(r)?Cg.get(r):E6(r)===Object.prototype||E6(r)===Array.prototype),_6=r=>Dk(r)&&r[Ak]||null,Ag=(r,e=!0)=>{Cg.set(r,e)}});function Ui(r={}){return Rk(r)}function wn(r,e,t){let i=yn.get(r);(vn.env&&vn.env.MODE)!=="production"&&!i&&console.warn("Please use proxy object");let n,o=[],c=i[3],u=!1,d=c(m=>{if(o.push(m),t){e(o.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,u&&e(o.splice(0))}))});return u=!0,()=>{u=!1,d()}}function I6(r,e){let t=yn.get(r);(vn.env&&vn.env.MODE)!=="production"&&!t&&console.warn("Please use proxy object");let[i,n,o]=t;return o(i,n(),e)}var vn,Dg,yn,_h,Ok,Rk,S6=M(()=>{x6();vn={},Dg=r=>typeof r=="object"&&r!==null,yn=new WeakMap,_h=new WeakSet,Ok=(r=Object.is,e=(d,m)=>new Proxy(d,m),t=d=>Dg(d)&&!_h.has(d)&&(Array.isArray(d)||!(Symbol.iterator in d))&&!(d instanceof WeakMap)&&!(d instanceof WeakSet)&&!(d instanceof Error)&&!(d instanceof Number)&&!(d instanceof Date)&&!(d instanceof String)&&!(d instanceof RegExp)&&!(d instanceof ArrayBuffer),i=d=>{switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:throw d}},n=new WeakMap,o=(d,m,y=i)=>{let b=n.get(d);if((b==null?void 0:b[0])===m)return b[1];let v=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d));return Ag(v,!0),n.set(d,[m,v]),Reflect.ownKeys(d).forEach(_=>{if(Object.getOwnPropertyDescriptor(v,_))return;let S=Reflect.get(d,_),R={value:S,enumerable:!0,configurable:!0};if(_h.has(S))Ag(S,!1);else if(S instanceof Promise)delete R.value,R.get=()=>y(S);else if(yn.has(S)){let[P,H]=yn.get(S);R.value=o(P,H(),y)}Object.defineProperty(v,_,R)}),v},c=new WeakMap,u=[1,1],f=d=>{if(!Dg(d))throw new Error("object required");let m=c.get(d);if(m)return m;let y=u[0],b=new Set,v=(V,E=++u[0])=>{y!==E&&(y=E,b.forEach(I=>I(V,E)))},_=u[1],S=(V=++u[1])=>(_!==V&&!b.size&&(_=V,P.forEach(([E])=>{let I=E[1](V);I>y&&(y=I)})),y),R=V=>(E,I)=>{let L=[...E];L[1]=[V,...L[1]],v(L,I)},P=new Map,H=(V,E)=>{if((vn.env&&vn.env.MODE)!=="production"&&P.has(V))throw new Error("prop listener already exists");if(b.size){let I=E[3](R(V));P.set(V,[E,I])}else P.set(V,[E])},U=V=>{var E;let I=P.get(V);I&&(P.delete(V),(E=I[1])==null||E.call(I))},N=V=>(b.add(V),b.size===1&&P.forEach(([I,L],B)=>{if((vn.env&&vn.env.MODE)!=="production"&&L)throw new Error("remove already exists");let G=I[3](R(B));P.set(B,[I,G])}),()=>{b.delete(V),b.size===0&&P.forEach(([I,L],B)=>{L&&(L(),P.set(B,[I]))})}),k=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d)),C=e(k,{deleteProperty(V,E){let I=Reflect.get(V,E);U(E);let L=Reflect.deleteProperty(V,E);return L&&v(["delete",[E],I]),L},set(V,E,I,L){let B=Reflect.has(V,E),G=Reflect.get(V,E,L);if(B&&(r(G,I)||c.has(I)&&r(G,c.get(I))))return!0;U(E),Dg(I)&&(I=_6(I)||I);let Q=I;if(I instanceof Promise)I.then(ne=>{I.status="fulfilled",I.value=ne,v(["resolve",[E],ne])}).catch(ne=>{I.status="rejected",I.reason=ne,v(["reject",[E],ne])});else{!yn.has(I)&&t(I)&&(Q=f(I));let ne=!_h.has(Q)&&yn.get(Q);ne&&H(E,ne)}return Reflect.set(V,E,Q,L),v(["set",[E],I,G]),!0}});c.set(d,C);let D=[k,S,o,N];return yn.set(C,D),Reflect.ownKeys(d).forEach(V=>{let E=Object.getOwnPropertyDescriptor(d,V);"value"in E&&(C[V]=d[V],delete E.value,delete E.writable),Object.defineProperty(k,V,E)}),C})=>[f,yn,_h,r,e,t,i,n,o,c,u],[Rk]=Ok()});var D6=Z(xh=>{"use strict";xh.byteLength=Tk;xh.toByteArray=Lk;xh.fromByteArray=jk;var ni=[],Ur=[],Pk=typeof Uint8Array!="undefined"?Uint8Array:Array,Og="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(as=0,C6=Og.length;as<C6;++as)ni[as]=Og[as],Ur[Og.charCodeAt(as)]=as;var as,C6;Ur["-".charCodeAt(0)]=62;Ur["_".charCodeAt(0)]=63;function A6(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function Tk(r){var e=A6(r),t=e[0],i=e[1];return(t+i)*3/4-i}function Nk(r,e,t){return(e+t)*3/4-t}function Lk(r){var e,t=A6(r),i=t[0],n=t[1],o=new Pk(Nk(r,i,n)),c=0,u=n>0?i-4:i,f;for(f=0;f<u;f+=4)e=Ur[r.charCodeAt(f)]<<18|Ur[r.charCodeAt(f+1)]<<12|Ur[r.charCodeAt(f+2)]<<6|Ur[r.charCodeAt(f+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=e&255;return n===2&&(e=Ur[r.charCodeAt(f)]<<2|Ur[r.charCodeAt(f+1)]>>4,o[c++]=e&255),n===1&&(e=Ur[r.charCodeAt(f)]<<10|Ur[r.charCodeAt(f+1)]<<4|Ur[r.charCodeAt(f+2)]>>2,o[c++]=e>>8&255,o[c++]=e&255),o}function Uk(r){return ni[r>>18&63]+ni[r>>12&63]+ni[r>>6&63]+ni[r&63]}function Mk(r,e,t){for(var i,n=[],o=e;o<t;o+=3)i=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),n.push(Uk(i));return n.join("")}function jk(r){for(var e,t=r.length,i=t%3,n=[],o=16383,c=0,u=t-i;c<u;c+=o)n.push(Mk(r,c,c+o>u?u:c+o));return i===1?(e=r[t-1],n.push(ni[e>>2]+ni[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(ni[e>>10]+ni[e>>4&63]+ni[e<<2&63]+"=")),n.join("")}});var O6=Z(Rg=>{Rg.read=function(r,e,t,i,n){var o,c,u=n*8-i-1,f=(1<<u)-1,d=f>>1,m=-7,y=t?n-1:0,b=t?-1:1,v=r[e+y];for(y+=b,o=v&(1<<-m)-1,v>>=-m,m+=u;m>0;o=o*256+r[e+y],y+=b,m-=8);for(c=o&(1<<-m)-1,o>>=-m,m+=i;m>0;c=c*256+r[e+y],y+=b,m-=8);if(o===0)o=1-d;else{if(o===f)return c?NaN:(v?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-d}return(v?-1:1)*c*Math.pow(2,o-i)};Rg.write=function(r,e,t,i,n,o){var c,u,f,d=o*8-n-1,m=(1<<d)-1,y=m>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:o-1,_=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+y>=1?e+=b/f:e+=b*Math.pow(2,1-y),e*f>=2&&(c++,f/=2),c+y>=m?(u=0,c=m):c+y>=1?(u=(e*f-1)*Math.pow(2,n),c=c+y):(u=e*Math.pow(2,y-1)*Math.pow(2,n),c=0));n>=8;r[t+v]=u&255,v+=_,u/=256,n-=8);for(c=c<<n|u,d+=n;d>0;r[t+v]=c&255,v+=_,c/=256,d-=8);r[t+v-_]|=S*128}});var W6=Z(Ao=>{"use strict";var Pg=D6(),Io=O6(),R6=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ao.Buffer=q;Ao.SlowBuffer=Hk;Ao.INSPECT_MAX_BYTES=50;var Ih=2147483647;Ao.kMaxLength=Ih;q.TYPED_ARRAY_SUPPORT=Fk();!q.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Fk(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(q.prototype,"parent",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.buffer}});Object.defineProperty(q.prototype,"offset",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.byteOffset}});function Mi(r){if(r>Ih)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,q.prototype),e}function q(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Tg(r)}return P6(r,e,t)}q.poolSize=8192;function P6(r,e,t){if(typeof r=="string")return Bk(r,e);if(ArrayBuffer.isView(r))return kk(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(si(r,ArrayBuffer)||r&&si(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(si(r,SharedArrayBuffer)||r&&si(r.buffer,SharedArrayBuffer)))return Lg(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return q.from(i,e,t);let n=qk(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return q.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}q.from=function(r,e,t){return P6(r,e,t)};Object.setPrototypeOf(q.prototype,Uint8Array.prototype);Object.setPrototypeOf(q,Uint8Array);function T6(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function $k(r,e,t){return T6(r),r<=0?Mi(r):e!==void 0?typeof t=="string"?Mi(r).fill(e,t):Mi(r).fill(e):Mi(r)}q.alloc=function(r,e,t){return $k(r,e,t)};function Tg(r){return T6(r),Mi(r<0?0:Ug(r)|0)}q.allocUnsafe=function(r){return Tg(r)};q.allocUnsafeSlow=function(r){return Tg(r)};function Bk(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!q.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=N6(r,e)|0,i=Mi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Ng(r){let e=r.length<0?0:Ug(r.length)|0,t=Mi(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function kk(r){if(si(r,Uint8Array)){let e=new Uint8Array(r);return Lg(e.buffer,e.byteOffset,e.byteLength)}return Ng(r)}function Lg(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,q.prototype),i}function qk(r){if(q.isBuffer(r)){let e=Ug(r.length)|0,t=Mi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Fg(r.length)?Mi(0):Ng(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Ng(r.data)}function Ug(r){if(r>=Ih)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ih.toString(16)+" bytes");return r|0}function Hk(r){return+r!=r&&(r=0),q.alloc(+r)}q.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==q.prototype};q.compare=function(e,t){if(si(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),si(t,Uint8Array)&&(t=q.from(t,t.offset,t.byteLength)),!q.isBuffer(e)||!q.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let o=0,c=Math.min(i,n);o<c;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0};q.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};q.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return q.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=q.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){let c=e[i];if(si(c,Uint8Array))o+c.length>n.length?(q.isBuffer(c)||(c=q.from(c)),c.copy(n,o)):Uint8Array.prototype.set.call(n,c,o);else if(q.isBuffer(c))c.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=c.length}return n};function N6(r,e){if(q.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||si(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return jg(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return V6(r).length;default:if(n)return i?-1:jg(r).length;e=(""+e).toLowerCase(),n=!0}}q.byteLength=N6;function zk(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return eq(this,e,t);case"utf8":case"utf-8":return M6(this,e,t);case"ascii":return Xk(this,e,t);case"latin1":case"binary":return Qk(this,e,t);case"base64":return Yk(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tq(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}q.prototype._isBuffer=!0;function cs(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}q.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)cs(this,t,t+1);return this};q.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)cs(this,t,t+3),cs(this,t+1,t+2);return this};q.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)cs(this,t,t+7),cs(this,t+1,t+6),cs(this,t+2,t+5),cs(this,t+3,t+4);return this};q.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?M6(this,0,e):zk.apply(this,arguments)};q.prototype.toLocaleString=q.prototype.toString;q.prototype.equals=function(e){if(!q.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:q.compare(this,e)===0};q.prototype.inspect=function(){let e="",t=Ao.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};R6&&(q.prototype[R6]=q.prototype.inspect);q.prototype.compare=function(e,t,i,n,o){if(si(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),!q.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;let c=o-n,u=i-t,f=Math.min(c,u),d=this.slice(n,o),m=e.slice(t,i);for(let y=0;y<f;++y)if(d[y]!==m[y]){c=d[y],u=m[y];break}return c<u?-1:u<c?1:0};function L6(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Fg(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=q.from(e,i)),q.isBuffer(e))return e.length===0?-1:U6(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):U6(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function U6(r,e,t,i,n){let o=1,c=r.length,u=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,c/=2,u/=2,t/=2}function f(m,y){return o===1?m[y]:m.readUInt16BE(y*o)}let d;if(n){let m=-1;for(d=t;d<c;d++)if(f(r,d)===f(e,m===-1?0:d-m)){if(m===-1&&(m=d),d-m+1===u)return m*o}else m!==-1&&(d-=d-m),m=-1}else for(t+u>c&&(t=c-u),d=t;d>=0;d--){let m=!0;for(let y=0;y<u;y++)if(f(r,d+y)!==f(e,y)){m=!1;break}if(m)return d}return-1}q.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};q.prototype.indexOf=function(e,t,i){return L6(this,e,t,i,!0)};q.prototype.lastIndexOf=function(e,t,i){return L6(this,e,t,i,!1)};function Vk(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let o=e.length;i>o/2&&(i=o/2);let c;for(c=0;c<i;++c){let u=parseInt(e.substr(c*2,2),16);if(Fg(u))return c;r[t+c]=u}return c}function Wk(r,e,t,i){return Sh(jg(e,r.length-t),r,t,i)}function Kk(r,e,t,i){return Sh(sq(e),r,t,i)}function Gk(r,e,t,i){return Sh(V6(e),r,t,i)}function Jk(r,e,t,i){return Sh(oq(e,r.length-t),r,t,i)}q.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let c=!1;for(;;)switch(n){case"hex":return Vk(this,e,t,i);case"utf8":case"utf-8":return Wk(this,e,t,i);case"ascii":case"latin1":case"binary":return Kk(this,e,t,i);case"base64":return Gk(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jk(this,e,t,i);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}};q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Yk(r,e,t){return e===0&&t===r.length?Pg.fromByteArray(r):Pg.fromByteArray(r.slice(e,t))}function M6(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let o=r[n],c=null,u=o>239?4:o>223?3:o>191?2:1;if(n+u<=t){let f,d,m,y;switch(u){case 1:o<128&&(c=o);break;case 2:f=r[n+1],(f&192)==128&&(y=(o&31)<<6|f&63,y>127&&(c=y));break;case 3:f=r[n+1],d=r[n+2],(f&192)==128&&(d&192)==128&&(y=(o&15)<<12|(f&63)<<6|d&63,y>2047&&(y<55296||y>57343)&&(c=y));break;case 4:f=r[n+1],d=r[n+2],m=r[n+3],(f&192)==128&&(d&192)==128&&(m&192)==128&&(y=(o&15)<<18|(f&63)<<12|(d&63)<<6|m&63,y>65535&&y<1114112&&(c=y))}}c===null?(c=65533,u=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c),n+=u}return Zk(i)}var j6=4096;function Zk(r){let e=r.length;if(e<=j6)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=j6));return t}function Xk(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function Qk(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function eq(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let o=e;o<t;++o)n+=aq[r[o]];return n}function tq(r,e,t){let i=r.slice(e,t),n="";for(let o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}q.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,q.prototype),n};function Lt(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}q.prototype.readUintLE=q.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e],o=1,c=0;for(;++c<t&&(o*=256);)n+=this[e+c]*o;return n};q.prototype.readUintBE=q.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n};q.prototype.readUint8=q.prototype.readUInt8=function(e,t){return e=e>>>0,t||Lt(e,1,this.length),this[e]};q.prototype.readUint16LE=q.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Lt(e,2,this.length),this[e]|this[e+1]<<8};q.prototype.readUint16BE=q.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Lt(e,2,this.length),this[e]<<8|this[e+1]};q.prototype.readUint32LE=q.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};q.prototype.readUint32BE=q.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};q.prototype.readBigUInt64LE=bn(function(e){e=e>>>0,Co(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))});q.prototype.readBigUInt64BE=bn(function(e){e=e>>>0,Co(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(o)});q.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=this[e],o=1,c=0;for(;++c<t&&(o*=256);)n+=this[e+c]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n};q.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Lt(e,t,this.length);let n=t,o=1,c=this[e+--n];for(;n>0&&(o*=256);)c+=this[e+--n]*o;return o*=128,c>=o&&(c-=Math.pow(2,8*t)),c};q.prototype.readInt8=function(e,t){return e=e>>>0,t||Lt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};q.prototype.readInt16LE=function(e,t){e=e>>>0,t||Lt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};q.prototype.readInt16BE=function(e,t){e=e>>>0,t||Lt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};q.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};q.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};q.prototype.readBigInt64LE=bn(function(e){e=e>>>0,Co(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});q.prototype.readBigInt64BE=bn(function(e){e=e>>>0,Co(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&nc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});q.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),Io.read(this,e,!0,23,4)};q.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Lt(e,4,this.length),Io.read(this,e,!1,23,4)};q.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Lt(e,8,this.length),Io.read(this,e,!0,52,8)};q.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Lt(e,8,this.length),Io.read(this,e,!1,52,8)};function lr(r,e,t,i,n,o){if(!q.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}q.prototype.writeUintLE=q.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let u=Math.pow(2,8*i)-1;lr(this,e,t,i,u,0)}let o=1,c=0;for(this[t]=e&255;++c<i&&(o*=256);)this[t+c]=e/o&255;return t+i};q.prototype.writeUintBE=q.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let u=Math.pow(2,8*i)-1;lr(this,e,t,i,u,0)}let o=i-1,c=1;for(this[t+o]=e&255;--o>=0&&(c*=256);)this[t+o]=e/c&255;return t+i};q.prototype.writeUint8=q.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,255,0),this[t]=e&255,t+1};q.prototype.writeUint16LE=q.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeUint16BE=q.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeUint32LE=q.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};q.prototype.writeUint32BE=q.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function F6(r,e,t,i,n){z6(e,i,n,r,t,7);let o=Number(e&BigInt(4294967295));r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,t}function $6(r,e,t,i,n){z6(e,i,n,r,t,7);let o=Number(e&BigInt(4294967295));r[t+7]=o,o=o>>8,r[t+6]=o,o=o>>8,r[t+5]=o,o=o>>8,r[t+4]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=c,c=c>>8,r[t+2]=c,c=c>>8,r[t+1]=c,c=c>>8,r[t]=c,t+8}q.prototype.writeBigUInt64LE=bn(function(e,t=0){return F6(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeBigUInt64BE=bn(function(e,t=0){return $6(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);lr(this,e,t,i,f-1,-f)}let o=0,c=1,u=0;for(this[t]=e&255;++o<i&&(c*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/c>>0)-u&255;return t+i};q.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let f=Math.pow(2,8*i-1);lr(this,e,t,i,f-1,-f)}let o=i-1,c=1,u=0;for(this[t+o]=e&255;--o>=0&&(c*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/c>>0)-u&255;return t+i};q.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};q.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};q.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};q.prototype.writeBigInt64LE=bn(function(e,t=0){return F6(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});q.prototype.writeBigInt64BE=bn(function(e,t=0){return $6(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function B6(r,e,t,i,n,o){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function k6(r,e,t,i,n){return e=+e,t=t>>>0,n||B6(r,e,t,4,34028234663852886e22,-34028234663852886e22),Io.write(r,e,t,i,23,4),t+4}q.prototype.writeFloatLE=function(e,t,i){return k6(this,e,t,!0,i)};q.prototype.writeFloatBE=function(e,t,i){return k6(this,e,t,!1,i)};function q6(r,e,t,i,n){return e=+e,t=t>>>0,n||B6(r,e,t,8,17976931348623157e292,-17976931348623157e292),Io.write(r,e,t,i,52,8),t+8}q.prototype.writeDoubleLE=function(e,t,i){return q6(this,e,t,!0,i)};q.prototype.writeDoubleBE=function(e,t,i){return q6(this,e,t,!1,i)};q.prototype.copy=function(e,t,i,n){if(!q.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o};q.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!q.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let c=e.charCodeAt(0);(n==="utf8"&&c<128||n==="latin1")&&(e=c)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{let c=q.isBuffer(e)?e:q.from(e,n),u=c.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=c[o%u]}return this};var So={};function Mg(r,e,t){So[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Mg("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Mg("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Mg("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=H6(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=H6(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function H6(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function rq(r,e,t){Co(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&nc(e,r.length-(t+1))}function z6(r,e,t,i,n,o){if(r>t||r<e){let c=typeof e=="bigint"?"n":"",u;throw o>3?e===0||e===BigInt(0)?u=`>= 0${c} and < 2${c} ** ${(o+1)*8}${c}`:u=`>= -(2${c} ** ${(o+1)*8-1}${c}) and < 2 ** ${(o+1)*8-1}${c}`:u=`>= ${e}${c} and <= ${t}${c}`,new So.ERR_OUT_OF_RANGE("value",u,r)}rq(i,n,o)}function Co(r,e){if(typeof r!="number")throw new So.ERR_INVALID_ARG_TYPE(e,"number",r)}function nc(r,e,t){throw Math.floor(r)!==r?(Co(r,t),new So.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new So.ERR_BUFFER_OUT_OF_BOUNDS:new So.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var iq=/[^+/0-9A-Za-z-_]/g;function nq(r){if(r=r.split("=")[0],r=r.trim().replace(iq,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function jg(r,e){e=e||1/0;let t,i=r.length,n=null,o=[];for(let c=0;c<i;++c){if(t=r.charCodeAt(c),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(c+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function sq(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function oq(r,e){let t,i,n,o=[];for(let c=0;c<r.length&&!((e-=2)<0);++c)t=r.charCodeAt(c),i=t>>8,n=t%256,o.push(n),o.push(i);return o}function V6(r){return Pg.toByteArray(nq(r))}function Sh(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function si(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Fg(r){return r!==r}var aq=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function bn(r){return typeof BigInt=="undefined"?cq:r}function cq(){throw new Error("BigInt not supported")}});async function Ah(r,e){let t=new URL(r,Bg);return t.searchParams.append("projectId",Qt.state.projectId),Object.entries(e).forEach(([i,n])=>{n&&t.searchParams.append(i,String(n))}),(await fetch(t)).json()}function wq(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}var K6,Ut,dt,pe,lq,Wt,$g,oi,yt,Ch,Qt,Bg,ls,uq,G6,hq,fq,J6,dq,Y6,ai,er,Do,ji,pq,Z6,gq,mq,X6,yq,sc,ci,us,En,kg=M(()=>{S6();K6=Or(W6()),Ut=Ui({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),dt={state:Ut,subscribe(r){return wn(Ut,()=>r(Ut))},push(r,e){r!==Ut.view&&(Ut.view=r,e&&(Ut.data=e),Ut.history.push(r))},reset(r){Ut.view=r,Ut.history=[r]},replace(r){Ut.history.length>1&&(Ut.history[Ut.history.length-1]=r,Ut.view=r)},goBack(){if(Ut.history.length>1){Ut.history.pop();let[r]=Ut.history.slice(-1);Ut.view=r}},setData(r){Ut.data=r}},pe={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return pe.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){let r=navigator.userAgent.toLowerCase();return pe.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},formatNativeUrl(r,e,t){if(pe.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let i=r;i.includes("://")||(i=r.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);let n=encodeURIComponent(e);return`${i}wc?uri=${n}`},formatUniversalUrl(r,e,t){if(!pe.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let i=r;i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);let n=encodeURIComponent(e);return`${i}wc?uri=${n}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){window.open(r,e,"noreferrer noopener")},setWalletConnectDeepLink(r,e){localStorage.setItem(pe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))},setWalletConnectAndroidDeepLink(r){let[e]=r.split("?");localStorage.setItem(pe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(pe.WALLETCONNECT_DEEPLINK_CHOICE)},setModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(pe.WCM_VERSION,"2.5.1")},getWalletRouterData(){var r;let e=(r=dt.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},lq=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Wt=Ui({enabled:lq,userSessionId:"",events:[],connectedWalletId:void 0}),$g={state:Wt,subscribe(r){return wn(Wt.events,()=>r(I6(Wt.events[Wt.events.length-1])))},initialize(){Wt.enabled&&typeof crypto<"u"&&(Wt.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){Wt.connectedWalletId=r},click(r){if(Wt.enabled){let e={type:"CLICK",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}},track(r){if(Wt.enabled){let e={type:"TRACK",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}},view(r){if(Wt.enabled){let e={type:"VIEW",name:r.name,userSessionId:Wt.userSessionId,timestamp:Date.now(),data:r};Wt.events.push(e)}}},oi=Ui({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),yt={state:oi,subscribe(r){return wn(oi,()=>r(oi))},setChains(r){oi.chains=r},setWalletConnectUri(r){oi.walletConnectUri=r},setIsCustomDesktop(r){oi.isCustomDesktop=r},setIsCustomMobile(r){oi.isCustomMobile=r},setIsDataLoaded(r){oi.isDataLoaded=r},setIsUiLoaded(r){oi.isUiLoaded=r},setIsAuth(r){oi.isAuth=r}},Ch=Ui({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Qt={state:Ch,subscribe(r){return wn(Ch,()=>r(Ch))},setConfig(r){var e,t;$g.initialize(),yt.setChains(r.chains),yt.setIsAuth(Boolean(r.enableAuthMode)),yt.setIsCustomMobile(Boolean((e=r.mobileWallets)==null?void 0:e.length)),yt.setIsCustomDesktop(Boolean((t=r.desktopWallets)==null?void 0:t.length)),pe.setModalVersionInStorage(),Object.assign(Ch,r)}},Bg="https://explorer-api.walletconnect.com";ls={async getDesktopListings(r){return Ah("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return Ah("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return Ah("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return Ah("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${Bg}/w3m/v1/getWalletImage/${r}?projectId=${Qt.state.projectId}`},getAssetImageUrl(r){return`${Bg}/w3m/v1/getAssetImage/${r}?projectId=${Qt.state.projectId}`}},uq=Object.defineProperty,G6=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,J6=(r,e,t)=>e in r?uq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dq=(r,e)=>{for(var t in e||(e={}))hq.call(e,t)&&J6(r,t,e[t]);if(G6)for(var t of G6(e))fq.call(e,t)&&J6(r,t,e[t]);return r},Y6=pe.isMobile(),ai=Ui({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),er={state:ai,async getRecomendedWallets(){let{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=Qt.state;if(r==="NONE"||e==="ALL"&&!r)return ai.recomendedWallets;if(pe.isArray(r)){let t={recommendedIds:r.join(",")},{listings:i}=await ls.getAllListings(t),n=Object.values(i);n.sort((o,c)=>{let u=r.indexOf(o.id),f=r.indexOf(c.id);return u-f}),ai.recomendedWallets=n}else{let{chains:t,isAuth:i}=yt.state,n=t?.join(","),o=pe.isArray(e),c={page:1,sdks:i?"auth_v1":void 0,entries:pe.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:o?e.join(","):void 0},{listings:u}=Y6?await ls.getMobileListings(c):await ls.getDesktopListings(c);ai.recomendedWallets=Object.values(u)}return ai.recomendedWallets},async getWallets(r){let e=dq({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:i}=Qt.state,{recomendedWallets:n}=ai;if(i==="ALL")return ai.wallets;e.search||(n.length?e.excludedIds=n.map(y=>y.id).join(","):pe.isArray(t)&&(e.excludedIds=t.join(","))),pe.isArray(i)&&(e.excludedIds=[e.excludedIds,i].filter(Boolean).join(",")),yt.state.isAuth&&(e.sdks="auth_v1");let{page:o,search:c}=r,{listings:u,total:f}=Y6?await ls.getMobileListings(e):await ls.getDesktopListings(e),d=Object.values(u),m=c?"search":"wallets";return ai[m]={listings:[...ai[m].listings,...d],total:f,page:o??1},{listings:d,total:f}},getWalletImageUrl(r){return ls.getWalletImageUrl(r)},getAssetImageUrl(r){return ls.getAssetImageUrl(r)},resetSearch(){ai.search={listings:[],total:0,page:1}}},Do=Ui({open:!1}),ji={state:Do,subscribe(r){return wn(Do,()=>r(Do))},async open(r){return new Promise(e=>{let{isUiLoaded:t,isDataLoaded:i}=yt.state;if(yt.setWalletConnectUri(r?.uri),yt.setChains(r?.chains),dt.reset("ConnectWallet"),t&&i)Do.open=!0,e();else{let n=setInterval(()=>{let o=yt.state;o.isUiLoaded&&o.isDataLoaded&&(clearInterval(n),Do.open=!0,e())},200)}})},close(){Do.open=!1}},pq=Object.defineProperty,Z6=Object.getOwnPropertySymbols,gq=Object.prototype.hasOwnProperty,mq=Object.prototype.propertyIsEnumerable,X6=(r,e,t)=>e in r?pq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yq=(r,e)=>{for(var t in e||(e={}))gq.call(e,t)&&X6(r,t,e[t]);if(Z6)for(var t of Z6(e))mq.call(e,t)&&X6(r,t,e[t]);return r};sc=Ui({themeMode:wq()?"dark":"light"}),ci={state:sc,subscribe(r){return wn(sc,()=>r(sc))},setThemeConfig(r){let{themeMode:e,themeVariables:t}=r;e&&(sc.themeMode=e),t&&(sc.themeVariables=yq({},t))}},us=Ui({open:!1,message:"",variant:"success"}),En={state:us,subscribe(r){return wn(us,()=>r(us))},openToast(r,e){us.open=!0,us.message=r,us.variant=e},closeToast(){us.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=K6.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window))});var Dh,Oh,qg,Q6,Rh,e8,ze,Hg,Ph,zg=M(()=>{Dh=window,Oh=Dh.ShadowRoot&&(Dh.ShadyCSS===void 0||Dh.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,qg=Symbol(),Q6=new WeakMap,Rh=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==qg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Oh&&e===void 0){let i=t!==void 0&&t.length===1;i&&(e=Q6.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&Q6.set(t,e))}return e}toString(){return this.cssText}},e8=r=>new Rh(typeof r=="string"?r:r+"",void 0,qg),ze=(r,...e)=>{let t=r.length===1?r[0]:e.reduce((i,n,o)=>i+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[o+1],r[0]);return new Rh(t,r,qg)},Hg=(r,e)=>{Oh?r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{let i=document.createElement("style"),n=Dh.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=t.cssText,r.appendChild(i)})},Ph=Oh?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return e8(t)})(r):r});var Vg,Th,t8,vq,r8,Wg,i8,Kg,Gg,_n,Nh=M(()=>{zg();zg();Th=window,t8=Th.trustedTypes,vq=t8?t8.emptyScript:"",r8=Th.reactiveElementPolyfillSupport,Wg={toAttribute(r,e){switch(e){case Boolean:r=r?vq:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},i8=(r,e)=>e!==r&&(e==e||r==r),Kg={attribute:!0,type:String,converter:Wg,reflect:!1,hasChanged:i8},Gg="finalized",_n=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,i)=>{let n=this._$Ep(i,t);n!==void 0&&(this._$Ev.set(n,i),e.push(n))}),e}static createProperty(e,t=Kg){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let o=this[e];this[t]=n,this.requestUpdate(e,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Kg}static finalize(){if(this.hasOwnProperty(Gg))return!1;this[Gg]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let n of i)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let n of i)t.unshift(Ph(n))}else e!==void 0&&t.push(Ph(e));return t}static _$Ep(e,t){let i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,i;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Hg(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostConnected)===null||i===void 0?void 0:i.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostDisconnected)===null||i===void 0?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=Kg){var n;let o=this.constructor._$Ep(e,i);if(o!==void 0&&i.reflect===!0){let c=(((n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?i.converter:Wg).toAttribute(t,i.type);this._$El=e,c==null?this.removeAttribute(o):this.setAttribute(o,c),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,o=n._$Ev.get(e);if(o!==void 0&&this._$El!==o){let c=n.getPropertyOptions(o),u=typeof c.converter=="function"?{fromAttribute:c.converter}:((i=c.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?c.converter:Wg;this._$El=o,this[o]=u.fromAttribute(t,c.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;e!==void 0&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||i8)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,o)=>this[o]=n),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var o;return(o=n.hostUpdate)===null||o===void 0?void 0:o.call(n)}),this.update(i)):this._$Ek()}catch(n){throw t=!1,this._$Ek(),n}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(i=>{var n;return(n=i.hostUpdated)===null||n===void 0?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,i)=>this._$EO(i,this[i],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};_n[Gg]=!0,_n.elementProperties=new Map,_n.elementStyles=[],_n.shadowRootOptions={mode:"open"},r8==null||r8({ReactiveElement:_n}),((Vg=Th.reactiveElementVersions)!==null&&Vg!==void 0?Vg:Th.reactiveElementVersions=[]).push("1.6.2")});function Po(r,e,t=r,i){var n,o,c,u;if(e===Fi)return e;let f=i!==void 0?(n=t._$Co)===null||n===void 0?void 0:n[i]:t._$Cl,d=ac(e)?void 0:e._$litDirective$;return(f==null?void 0:f.constructor)!==d&&((o=f==null?void 0:f._$AO)===null||o===void 0||o.call(f,!1),d===void 0?f=void 0:(f=new d(r),f._$AT(r,t,i)),i!==void 0?((c=(u=t)._$Co)!==null&&c!==void 0?c:u._$Co=[])[i]=f:t._$Cl=f),f!==void 0&&(e=Po(r,f._$AS(r,e.values),f,i)),e}var Jg,Lh,Oo,n8,Yg,xn,s8,bq,hs,oc,ac,o8,Eq,Zg,cc,a8,c8,fs,l8,u8,h8,f8,te,pt,Fi,Ct,d8,ds,_q,Ro,p8,To,lc,g8,xq,m8,y8,w8,v8,b8,ps=M(()=>{Lh=window,Oo=Lh.trustedTypes,n8=Oo?Oo.createPolicy("lit-html",{createHTML:r=>r}):void 0,Yg="$lit$",xn=`lit$${(Math.random()+"").slice(9)}$`,s8="?"+xn,bq=`<${s8}>`,hs=document,oc=()=>hs.createComment(""),ac=r=>r===null||typeof r!="object"&&typeof r!="function",o8=Array.isArray,Eq=r=>o8(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",Zg=`[ 	
\f\r]`,cc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a8=/-->/g,c8=/>/g,fs=RegExp(`>|${Zg}(?:([^\\s"'>=/]+)(${Zg}*=${Zg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),l8=/'/g,u8=/"/g,h8=/^(?:script|style|textarea|title)$/i,f8=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),te=f8(1),pt=f8(2),Fi=Symbol.for("lit-noChange"),Ct=Symbol.for("lit-nothing"),d8=new WeakMap,ds=hs.createTreeWalker(hs,129,null,!1),_q=(r,e)=>{let t=r.length-1,i=[],n,o=e===2?"<svg>":"",c=cc;for(let f=0;f<t;f++){let d=r[f],m,y,b=-1,v=0;for(;v<d.length&&(c.lastIndex=v,y=c.exec(d),y!==null);)v=c.lastIndex,c===cc?y[1]==="!--"?c=a8:y[1]!==void 0?c=c8:y[2]!==void 0?(h8.test(y[2])&&(n=RegExp("</"+y[2],"g")),c=fs):y[3]!==void 0&&(c=fs):c===fs?y[0]===">"?(c=n??cc,b=-1):y[1]===void 0?b=-2:(b=c.lastIndex-y[2].length,m=y[1],c=y[3]===void 0?fs:y[3]==='"'?u8:l8):c===u8||c===l8?c=fs:c===a8||c===c8?c=cc:(c=fs,n=void 0);let _=c===fs&&r[f+1].startsWith("/>")?" ":"";o+=c===cc?d+bq:b>=0?(i.push(m),d.slice(0,b)+Yg+d.slice(b)+xn+_):d+xn+(b===-2?(i.push(void 0),f):_)}let u=o+(r[t]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return[n8!==void 0?n8.createHTML(u):u,i]},Ro=class{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let o=0,c=0,u=e.length-1,f=this.parts,[d,m]=_q(e,t);if(this.el=Ro.createElement(d,i),ds.currentNode=this.el.content,t===2){let y=this.el.content,b=y.firstChild;b.remove(),y.append(...b.childNodes)}for(;(n=ds.nextNode())!==null&&f.length<u;){if(n.nodeType===1){if(n.hasAttributes()){let y=[];for(let b of n.getAttributeNames())if(b.endsWith(Yg)||b.startsWith(xn)){let v=m[c++];if(y.push(b),v!==void 0){let _=n.getAttribute(v.toLowerCase()+Yg).split(xn),S=/([.?@])?(.*)/.exec(v);f.push({type:1,index:o,name:S[2],strings:_,ctor:S[1]==="."?g8:S[1]==="?"?m8:S[1]==="@"?y8:lc})}else f.push({type:6,index:o})}for(let b of y)n.removeAttribute(b)}if(h8.test(n.tagName)){let y=n.textContent.split(xn),b=y.length-1;if(b>0){n.textContent=Oo?Oo.emptyScript:"";for(let v=0;v<b;v++)n.append(y[v],oc()),ds.nextNode(),f.push({type:2,index:++o});n.append(y[b],oc())}}}else if(n.nodeType===8)if(n.data===s8)f.push({type:2,index:o});else{let y=-1;for(;(y=n.data.indexOf(xn,y+1))!==-1;)f.push({type:7,index:o}),y+=xn.length-1}o++}}static createElement(e,t){let i=hs.createElement("template");return i.innerHTML=e,i}};p8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:i},parts:n}=this._$AD,o=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:hs).importNode(i,!0);ds.currentNode=o;let c=ds.nextNode(),u=0,f=0,d=n[0];for(;d!==void 0;){if(u===d.index){let m;d.type===2?m=new To(c,c.nextSibling,this,e):d.type===1?m=new d.ctor(c,d.name,d.strings,this,e):d.type===6&&(m=new w8(c,this,e)),this._$AV.push(m),d=n[++f]}u!==(d==null?void 0:d.index)&&(c=ds.nextNode(),u++)}return ds.currentNode=hs,o}v(e){let t=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}},To=class{constructor(e,t,i,n){var o;this.type=2,this._$AH=Ct,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cp=(o=n==null?void 0:n.isConnected)===null||o===void 0||o}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Po(this,e,t),ac(e)?e===Ct||e==null||e===""?(this._$AH!==Ct&&this._$AR(),this._$AH=Ct):e!==this._$AH&&e!==Fi&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Eq(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Ct&&ac(this._$AH)?this._$AA.nextSibling.data=e:this.$(hs.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:n}=e,o=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Ro.createElement(n.h,this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===o)this._$AH.v(i);else{let c=new p8(o,this),u=c.u(this.options);c.v(i),this.$(u),this._$AH=c}}_$AC(e){let t=d8.get(e.strings);return t===void 0&&d8.set(e.strings,t=new Ro(e)),t}T(e){o8(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,i,n=0;for(let o of e)n===t.length?t.push(i=new To(this.k(oc()),this.k(oc()),this,this.options)):i=t[n],i._$AI(o),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,t);e&&e!==this._$AB;){let n=e.nextSibling;e.remove(),e=n}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}},lc=class{constructor(e,t,i,n,o){this.type=1,this._$AH=Ct,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ct}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,n){let o=this.strings,c=!1;if(o===void 0)e=Po(this,e,t,0),c=!ac(e)||e!==this._$AH&&e!==Fi,c&&(this._$AH=e);else{let u=e,f,d;for(e=o[0],f=0;f<o.length-1;f++)d=Po(this,u[i+f],t,f),d===Fi&&(d=this._$AH[f]),c||(c=!ac(d)||d!==this._$AH[f]),d===Ct?e=Ct:e!==Ct&&(e+=(d??"")+o[f+1]),this._$AH[f]=d}c&&!n&&this.j(e)}j(e){e===Ct?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},g8=class extends lc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ct?void 0:e}},xq=Oo?Oo.emptyScript:"",m8=class extends lc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ct?this.element.setAttribute(this.name,xq):this.element.removeAttribute(this.name)}},y8=class extends lc{constructor(e,t,i,n,o){super(e,t,i,n,o),this.type=5}_$AI(e,t=this){var i;if((e=(i=Po(this,e,t,0))!==null&&i!==void 0?i:Ct)===Fi)return;let n=this._$AH,o=e===Ct&&n!==Ct||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,c=e!==Ct&&(n===Ct||o);o&&this.element.removeEventListener(this.name,this,n),c&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((i=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}},w8=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Po(this,e)}},v8=Lh.litHtmlPolyfillSupport;v8==null||v8(Ro,To),((Jg=Lh.litHtmlVersions)!==null&&Jg!==void 0?Jg:Lh.litHtmlVersions=[]).push("2.7.4");b8=(r,e,t)=>{var i,n;let o=(i=t==null?void 0:t.renderBefore)!==null&&i!==void 0?i:e,c=o._$litPart$;if(c===void 0){let u=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:null;o._$litPart$=c=new To(e.insertBefore(oc(),u),u,void 0,t??{})}return c._$AI(r),c}});var Xg,Qg,Ne,E8,_8=M(()=>{Nh();Nh();ps();ps();Ne=class extends _n{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=b8(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Fi}};Ne.finalized=!0,Ne._$litElement$=!0,(Xg=globalThis.litElementHydrateSupport)===null||Xg===void 0||Xg.call(globalThis,{LitElement:Ne});E8=globalThis.litElementPolyfillSupport;E8==null||E8({LitElement:Ne});((Qg=globalThis.litElementVersions)!==null&&Qg!==void 0?Qg:globalThis.litElementVersions=[]).push("3.3.2")});var x8=M(()=>{});var I8=M(()=>{Nh();ps();_8();x8()});var qe,S8=M(()=>{qe=r=>e=>typeof e=="function"?((t,i)=>(customElements.define(t,i),i))(r,e):((t,i)=>{let{kind:n,elements:o}=i;return{kind:n,elements:o,finisher(c){customElements.define(t,c)}}})(r,e)});function Ae(r){return(e,t)=>t!==void 0?Sq(r,e,t):Iq(r,e)}var Iq,Sq,e1=M(()=>{Iq=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},Sq=(r,e,t)=>{e.constructor.createProperty(t,r)}});function tr(r){return Ae({...r,state:!0})}var C8=M(()=>{e1();});var gs=M(()=>{});var A8=M(()=>{gs();});var D8=M(()=>{gs();});var O8=M(()=>{gs();});var R8=M(()=>{gs();});var t1,BY,r1=M(()=>{gs();BY=((t1=window.HTMLSlotElement)===null||t1===void 0?void 0:t1.prototype.assignedElements)!=null?(r,e)=>r.assignedElements(e):(r,e)=>r.assignedNodes(e).filter(t=>t.nodeType===Node.ELEMENT_NODE)});var P8=M(()=>{gs();r1();});var T8=M(()=>{S8();e1();C8();A8();D8();O8();R8();r1();P8()});var N8,L8,i1,U8=M(()=>{N8={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},L8=r=>(...e)=>({_$litDirective$:r,values:e}),i1=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}});var li,M8=M(()=>{ps();U8();li=L8(class extends i1{constructor(r){var e;if(super(r),r.type!==N8.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){var t,i;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in e)e[o]&&!((t=this.nt)===null||t===void 0?void 0:t.has(o))&&this.it.add(o);return this.render(e)}let n=r.element.classList;this.it.forEach(o=>{o in e||(n.remove(o),this.it.delete(o))});for(let o in e){let c=!!e[o];c===this.it.has(o)||((i=this.nt)===null||i===void 0?void 0:i.has(o))||(c?(n.add(o),this.it.add(o)):(n.remove(o),this.it.delete(o)))}return Fi}})});var j8=M(()=>{M8()});function n1(r,e){r.indexOf(e)===-1&&r.push(e)}var F8=M(()=>{});var hc,s1=M(()=>{hc=(r,e,t)=>Math.min(Math.max(t,r),e)});var $t,$8=M(()=>{$t={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"}});var $i,Uh=M(()=>{$i=r=>typeof r=="number"});var ui,o1=M(()=>{Uh();ui=r=>Array.isArray(r)&&!$i(r[0])});var B8,k8=M(()=>{B8=(r,e,t)=>{let i=e-r;return((t-r)%i+i)%i+r}});function q8(r,e){return ui(r)?r[B8(0,r.length,e)]:r}var H8=M(()=>{o1();k8()});var Mh,a1=M(()=>{Mh=(r,e,t)=>-t*r+t*e+r});var fc,rr,c1=M(()=>{fc=()=>{},rr=r=>r});var ms,jh=M(()=>{ms=(r,e,t)=>e-r==0?1:(t-r)/(e-r)});function l1(r,e){let t=r[r.length-1];for(let i=1;i<=e;i++){let n=ms(0,e,i);r.push(Mh(t,1,n))}}function z8(r){let e=[0];return l1(e,r-1),e}var V8=M(()=>{a1();jh()});function u1(r,e=z8(r.length),t=rr){let i=r.length,n=i-e.length;return n>0&&l1(e,n),o=>{let c=0;for(;c<i-2&&!(o<e[c+1]);c++);let u=hc(0,1,ms(e[c],e[c+1],o));return u=q8(t,c)(u),Mh(r[c],r[c+1],u)}}var W8=M(()=>{a1();c1();V8();jh();H8();s1()});var dc,K8=M(()=>{Uh();dc=r=>Array.isArray(r)&&$i(r[0])});var No,G8=M(()=>{No=r=>typeof r=="object"&&Boolean(r.createAnimation)});var Mr,J8=M(()=>{Mr=r=>typeof r=="function"});var h1,Y8=M(()=>{h1=r=>typeof r=="string"});var In,Z8=M(()=>{In={ms:r=>r*1e3,s:r=>r/1e3}});var jr=M(()=>{F8();s1();$8();W8();K8();G8();o1();J8();Uh();Y8();c1();jh();Z8()});function Dq(r,e,t,i,n){let o,c,u=0;do c=e+(t-e)/2,o=X8(c,i,n)-r,o>0?t=c:e=c;while(Math.abs(o)>Cq&&++u<Aq);return c}function ys(r,e,t,i){if(r===e&&t===i)return rr;let n=o=>Dq(o,0,1,r,t);return o=>o===0||o===1?o:X8(n(o),e,i)}var X8,Cq,Aq,Q8=M(()=>{jr();X8=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,Cq=1e-7,Aq=12});var f1,e4=M(()=>{jr();f1=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);let i=t*r,n=e==="end"?Math.floor(i):Math.ceil(i);return hc(0,1,n/r)}});var t4=M(()=>{Q8();e4()});function d1(r){if(Mr(r))return r;if(dc(r))return ys(...r);if(r4[r])return r4[r];if(r.startsWith("steps")){let e=Oq.exec(r);if(e){let t=e[1].split(",");return f1(parseFloat(t[0]),t[1].trim())}}return rr}var r4,Oq,i4=M(()=>{t4();jr();r4={ease:ys(.25,.1,.25,1),"ease-in":ys(.42,0,1,1),"ease-in-out":ys(.42,0,.58,1),"ease-out":ys(0,0,.58,1)},Oq=/\((.*?)\)/});var Lo,n4=M(()=>{jr();i4();Lo=class{constructor(e,t=[0,1],{easing:i,duration:n=$t.duration,delay:o=$t.delay,endDelay:c=$t.endDelay,repeat:u=$t.repeat,offset:f,direction:d="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=rr,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((y,b)=>{this.resolve=y,this.reject=b}),i=i||$t.easing,No(i)){let y=i.createAnimation(t);i=y.easing,t=y.keyframes||t,n=y.duration||n}this.repeat=u,this.easing=ui(i)?rr:d1(i),this.updateDuration(n);let m=u1(t,f,ui(i)?i.map(d1):rr);this.tick=y=>{var b;o=o;let v=0;this.pauseTime!==void 0?v=this.pauseTime:v=(y-this.startTime)*this.rate,this.t=v,v/=1e3,v=Math.max(v-o,0),this.playState==="finished"&&this.pauseTime===void 0&&(v=this.totalDuration);let _=v/this.duration,S=Math.floor(_),R=_%1;!R&&_>=1&&(R=1),R===1&&S--;let P=S%2;(d==="reverse"||d==="alternate"&&P||d==="alternate-reverse"&&!P)&&(R=1-R);let H=v>=this.totalDuration?1:Math.min(R,1),U=m(this.easing(H));e(U),this.pauseTime===void 0&&(this.playState==="finished"||v>=this.totalDuration+c)?(this.playState="finished",(b=this.resolve)===null||b===void 0||b.call(this,U)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){let e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}});var p1=M(()=>{n4()});var g1,s4=M(()=>{g1=function(){}});var Fh,o4=M(()=>{Fh=class{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}});var m1=M(()=>{o4()});function $h(r){return y1.has(r)||y1.set(r,{transforms:[],values:new Map}),y1.get(r)}function a4(r,e){return r.has(e)||r.set(e,new Fh),r.get(e)}var y1,w1=M(()=>{m1();y1=new WeakMap});var Rq,Pq,pc,c4,Tq,Sn,Bh,kh,Nq,Lq,qh,l4,Uq,Mq,gc=M(()=>{jr();w1();Rq=["","X","Y","Z"],Pq=["translate","scale","rotate","skew"],pc={x:"translateX",y:"translateY",z:"translateZ"},c4={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},Tq={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:c4,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:rr},skew:c4},Sn=new Map,Bh=r=>`--motion-${r}`,kh=["x","y","z"];Pq.forEach(r=>{Rq.forEach(e=>{kh.push(r+e),Sn.set(Bh(r+e),Tq[r])})});Nq=(r,e)=>kh.indexOf(r)-kh.indexOf(e),Lq=new Set(kh),qh=r=>Lq.has(r),l4=(r,e)=>{pc[e]&&(e=pc[e]);let{transforms:t}=$h(r);n1(t,e),r.style.transform=Uq(t)},Uq=r=>r.sort(Nq).reduce(Mq,"").trim(),Mq=(r,e)=>`${r} ${e}(var(${Bh(e)}))`});function h4(r){if(!u4.has(r)){u4.add(r);try{let{syntax:e,initialValue:t}=Sn.has(r)?Sn.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}var mc,u4,v1=M(()=>{gc();mc=r=>r.startsWith("--"),u4=new Set});var b1,f4,E1,Cn,_1=M(()=>{b1=(r,e)=>document.createElement("div").animate(r,e),f4={cssRegisterProperty:()=>typeof CSS!="undefined"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{b1({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(b1({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{b1({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},E1={},Cn={};for(let r in f4)Cn[r]=()=>(E1[r]===void 0&&(E1[r]=f4[r]()),E1[r])});var jq,Fq,x1,$q,d4=M(()=>{jr();_1();jq=.015,Fq=(r,e)=>{let t="",i=Math.round(e/jq);for(let n=0;n<i;n++)t+=r(ms(0,i-1,n))+", ";return t.substring(0,t.length-2)},x1=(r,e)=>Mr(r)?Cn.linearEasing()?`linear(${Fq(r,e)})`:$t.easing:dc(r)?$q(r):r,$q=([r,e,t,i])=>`cubic-bezier(${r}, ${e}, ${t}, ${i})`});function p4(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}var g4,m4=M(()=>{g4=r=>Array.isArray(r)?r:[r]});function yc(r){return pc[r]&&(r=pc[r]),qh(r)?Bh(r):r}var I1=M(()=>{gc()});var wc,y4=M(()=>{v1();I1();gc();wc={get:(r,e)=>{e=yc(e);let t=mc(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){let i=Sn.get(e);i&&(t=i.initialValue)}return t},set:(r,e,t)=>{e=yc(e),mc(e)?r.style.setProperty(e,t):r.style[e]=t}}});function Hh(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}var S1=M(()=>{});function w4(r,e){var t;let i=(e==null?void 0:e.toDefaultUnit)||rr,n=r[r.length-1];if(h1(n)){let o=((t=n.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";o&&(i=c=>c+o)}return i}var v4=M(()=>{jr()});function Bq(){return window.__MOTION_DEV_TOOLS_RECORD}function b4(r,e,t,i={},n){let o=Bq(),c=i.record!==!1&&o,u,{duration:f=$t.duration,delay:d=$t.delay,endDelay:m=$t.endDelay,repeat:y=$t.repeat,easing:b=$t.easing,persist:v=!1,direction:_,offset:S,allowWebkitAcceleration:R=!1}=i,P=$h(r),H=qh(e),U=Cn.waapi();H&&l4(r,e);let N=yc(e),k=a4(P.values,N),W=Sn.get(N);return Hh(k.animation,!(No(b)&&k.generator)&&i.record!==!1),()=>{let C=()=>{var E,I;return(I=(E=wc.get(r,N))!==null&&E!==void 0?E:W==null?void 0:W.initialValue)!==null&&I!==void 0?I:0},D=p4(g4(t),C),V=w4(D,W);if(No(b)){let E=b.createAnimation(D,e!=="opacity",C,N,k);b=E.easing,D=E.keyframes||D,f=E.duration||f}if(mc(N)&&(Cn.cssRegisterProperty()?h4(N):U=!1),H&&!Cn.linearEasing()&&(Mr(b)||ui(b)&&b.some(Mr))&&(U=!1),U){W&&(D=D.map(L=>$i(L)?W.toDefaultUnit(L):L)),D.length===1&&(!Cn.partialKeyframes()||c)&&D.unshift(C());let E={delay:In.ms(d),duration:In.ms(f),endDelay:In.ms(m),easing:ui(b)?void 0:x1(b,f),direction:_,iterations:y+1,fill:"both"};u=r.animate({[N]:D,offset:S,easing:ui(b)?b.map(L=>x1(L,f)):void 0},E),u.finished||(u.finished=new Promise((L,B)=>{u.onfinish=L,u.oncancel=B}));let I=D[D.length-1];u.finished.then(()=>{v||(wc.set(r,N,I),u.cancel())}).catch(fc),R||(u.playbackRate=1.000001)}else if(n&&H)D=D.map(E=>typeof E=="string"?parseFloat(E):E),D.length===1&&D.unshift(parseFloat(C())),u=new n(E=>{wc.set(r,N,V?V(E):E)},D,Object.assign(Object.assign({},i),{duration:f,easing:b}));else{let E=D[D.length-1];wc.set(r,N,W&&$i(E)?W.toDefaultUnit(E):E)}return c&&o(r,e,D,{duration:f,delay:d,easing:b,repeat:y,offset:S},"motion-one"),k.setAnimation(u),u}}var E4=M(()=>{w1();v1();jr();gc();d4();_1();m4();y4();I1();S1();v4()});var _4,x4=M(()=>{_4=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r)});function I4(r,e){var t;return typeof r=="string"?e?((t=e[r])!==null&&t!==void 0||(e[r]=document.querySelectorAll(r)),r=e[r]):r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}var S4=M(()=>{});var kq,vc,qq,Hq,zq,C1=M(()=>{jr();S1();kq=r=>r(),vc=(r,e,t=$t.duration)=>new Proxy({animations:r.map(kq).filter(Boolean),duration:t,options:e},Hq),qq=r=>r.animations[0],Hq={get:(r,e)=>{let t=qq(r);switch(e){case"duration":return r.duration;case"currentTime":return In.s((t==null?void 0:t[e])||0);case"playbackRate":case"playState":return t==null?void 0:t[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(zq)).catch(fc)),r.finished;case"stop":return()=>{r.animations.forEach(i=>Hh(i))};case"forEachNative":return i=>{r.animations.forEach(n=>i(n,r))};default:return typeof(t==null?void 0:t[e])=="undefined"?void 0:()=>r.animations.forEach(i=>i[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=In.ms(t);case"currentTime":case"playbackRate":for(let i=0;i<r.animations.length;i++)r.animations[i][e]=t;return!0}return!1}},zq=r=>r.finished});function C4(r,e,t){return Mr(r)?r(e,t):r}var A4=M(()=>{jr()});function D4(r){return function(t,i,n={}){t=I4(t);let o=t.length;g1(Boolean(o),"No valid element provided."),g1(Boolean(i),"No keyframes defined.");let c=[];for(let u=0;u<o;u++){let f=t[u];for(let d in i){let m=_4(n,d);m.delay=C4(m.delay,u,o);let y=b4(f,d,i[d],m,r);c.push(y)}}return vc(c,n,n.duration)}}var O4=M(()=>{s4();E4();x4();S4();C1();A4()});var A1,R4=M(()=>{p1();O4();A1=D4(Lo)});var D1=M(()=>{R4();C1()});function Vq(r,e={}){return vc([()=>{let t=new Lo(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function Bi(r,e,t){return(Mr(r)?Vq:A1)(r,e,t)}var P4=M(()=>{D1();jr();p1()});var T4=M(()=>{D1();m1();P4()});var Kt,N4=M(()=>{ps();Kt=r=>r??Ct});var L4=M(()=>{N4()});var M4=Z((DQ,U4)=>{U4.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var An=Z(ws=>{var O1,Wq=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ws.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ws.getSymbolTotalCodewords=function(e){return Wq[e]};ws.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};ws.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');O1=e};ws.isKanjiModeEnabled=function(){return typeof O1!="undefined"};ws.toSJIS=function(e){return O1(e)}});var zh=Z(Fr=>{Fr.L={bit:1};Fr.M={bit:0};Fr.Q={bit:3};Fr.H={bit:2};function Kq(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Fr.L;case"m":case"medium":return Fr.M;case"q":case"quartile":return Fr.Q;case"h":case"high":return Fr.H;default:throw new Error("Unknown EC Level: "+r)}}Fr.isValid=function(e){return e&&typeof e.bit!="undefined"&&e.bit>=0&&e.bit<4};Fr.from=function(e,t){if(Fr.isValid(e))return e;try{return Kq(e)}catch{return t}}});var $4=Z((PQ,F4)=>{function j4(){this.buffer=[],this.length=0}j4.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)==1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};F4.exports=j4});var k4=Z((TQ,B4)=>{function bc(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}bc.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};bc.prototype.get=function(r,e){return this.data[r*this.size+e]};bc.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};bc.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};B4.exports=bc});var q4=Z(Vh=>{var Gq=An().getSymbolSize;Vh.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=Gq(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let c=1;c<t-1;c++)o[c]=o[c-1]-n;return o.push(6),o.reverse()};Vh.getPositions=function(e){let t=[],i=Vh.getRowColCoords(e),n=i.length;for(let o=0;o<n;o++)for(let c=0;c<n;c++)o===0&&c===0||o===0&&c===n-1||o===n-1&&c===0||t.push([i[o],i[c]]);return t}});var V4=Z(z4=>{var Jq=An().getSymbolSize,H4=7;z4.getPositions=function(e){let t=Jq(e);return[[0,0],[t-H4,0],[0,t-H4]]}});var W4=Z(ot=>{ot.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var vs={N1:3,N2:3,N3:40,N4:10};ot.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ot.from=function(e){return ot.isValid(e)?parseInt(e,10):void 0};ot.getPenaltyN1=function(e){let t=e.size,i=0,n=0,o=0,c=null,u=null;for(let f=0;f<t;f++){n=o=0,c=u=null;for(let d=0;d<t;d++){let m=e.get(f,d);m===c?n++:(n>=5&&(i+=vs.N1+(n-5)),c=m,n=1),m=e.get(d,f),m===u?o++:(o>=5&&(i+=vs.N1+(o-5)),u=m,o=1)}n>=5&&(i+=vs.N1+(n-5)),o>=5&&(i+=vs.N1+(o-5))}return i};ot.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){let c=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);(c===4||c===0)&&i++}return i*vs.N2};ot.getPenaltyN3=function(e){let t=e.size,i=0,n=0,o=0;for(let c=0;c<t;c++){n=o=0;for(let u=0;u<t;u++)n=n<<1&2047|e.get(c,u),u>=10&&(n===1488||n===93)&&i++,o=o<<1&2047|e.get(u,c),u>=10&&(o===1488||o===93)&&i++}return i*vs.N3};ot.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*vs.N4};function Yq(r,e,t){switch(r){case ot.Patterns.PATTERN000:return(e+t)%2==0;case ot.Patterns.PATTERN001:return e%2==0;case ot.Patterns.PATTERN010:return t%3==0;case ot.Patterns.PATTERN011:return(e+t)%3==0;case ot.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case ot.Patterns.PATTERN101:return e*t%2+e*t%3==0;case ot.Patterns.PATTERN110:return(e*t%2+e*t%3)%2==0;case ot.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}ot.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let o=0;o<i;o++)t.isReserved(o,n)||t.xor(o,n,Yq(e,o,n))};ot.getBestMask=function(e,t){let i=Object.keys(ot.Patterns).length,n=0,o=1/0;for(let c=0;c<i;c++){t(c),ot.applyMask(c,e);let u=ot.getPenaltyN1(e)+ot.getPenaltyN2(e)+ot.getPenaltyN3(e)+ot.getPenaltyN4(e);ot.applyMask(c,e),u<o&&(o=u,n=c)}return n}});var P1=Z(R1=>{var Dn=zh(),Wh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Kh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];R1.getBlocksCount=function(e,t){switch(t){case Dn.L:return Wh[(e-1)*4+0];case Dn.M:return Wh[(e-1)*4+1];case Dn.Q:return Wh[(e-1)*4+2];case Dn.H:return Wh[(e-1)*4+3];default:return}};R1.getTotalCodewordsCount=function(e,t){switch(t){case Dn.L:return Kh[(e-1)*4+0];case Dn.M:return Kh[(e-1)*4+1];case Dn.Q:return Kh[(e-1)*4+2];case Dn.H:return Kh[(e-1)*4+3];default:return}}});var K4=Z(Jh=>{var Ec=new Uint8Array(512),Gh=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Ec[t]=e,Gh[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Ec[t]=Ec[t-255]})();Jh.log=function(e){if(e<1)throw new Error("log("+e+")");return Gh[e]};Jh.exp=function(e){return Ec[e]};Jh.mul=function(e,t){return e===0||t===0?0:Ec[Gh[e]+Gh[t]]}});var G4=Z(_c=>{var T1=K4();_c.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)i[n+o]^=T1.mul(e[n],t[o]);return i};_c.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let c=0;c<t.length;c++)i[c]^=T1.mul(t[c],n);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};_c.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=_c.mul(t,new Uint8Array([1,T1.exp(i)]));return t}});var Z4=Z(($Q,Y4)=>{var J4=G4();function N1(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}N1.prototype.initialize=function(e){this.degree=e,this.genPoly=J4.generateECPolynomial(this.degree)};N1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=J4.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let o=new Uint8Array(this.degree);return o.set(i,n),o}return i};Y4.exports=N1});var L1=Z(X4=>{X4.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var U1=Z(ki=>{var Q4="[0-9]+",Zq="[A-Z $%*+\\-./:]+",xc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xc=xc.replace(/u/g,"\\u");var Xq="(?:(?![A-Z0-9 $%*+\\-./:]|"+xc+`)(?:.|[\r
]))+`;ki.KANJI=new RegExp(xc,"g");ki.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ki.BYTE=new RegExp(Xq,"g");ki.NUMERIC=new RegExp(Q4,"g");ki.ALPHANUMERIC=new RegExp(Zq,"g");var Qq=new RegExp("^"+xc+"$"),eH=new RegExp("^"+Q4+"$"),tH=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ki.testKanji=function(e){return Qq.test(e)};ki.testNumeric=function(e){return eH.test(e)};ki.testAlphanumeric=function(e){return tH.test(e)}});var On=Z(At=>{var rH=L1(),M1=U1();At.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};At.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};At.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};At.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};At.MIXED={bit:-1};At.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!rH.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};At.getBestModeForData=function(e){return M1.testNumeric(e)?At.NUMERIC:M1.testAlphanumeric(e)?At.ALPHANUMERIC:M1.testKanji(e)?At.KANJI:At.BYTE};At.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};At.isValid=function(e){return e&&e.bit&&e.ccBits};function iH(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return At.NUMERIC;case"alphanumeric":return At.ALPHANUMERIC;case"kanji":return At.KANJI;case"byte":return At.BYTE;default:throw new Error("Unknown mode: "+r)}}At.from=function(e,t){if(At.isValid(e))return e;try{return iH(e)}catch{return t}}});var nI=Z(bs=>{var Yh=An(),nH=P1(),eI=zh(),Rn=On(),j1=L1(),tI=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,rI=Yh.getBCHDigit(tI);function sH(r,e,t){for(let i=1;i<=40;i++)if(e<=bs.getCapacity(i,t,r))return i}function iI(r,e){return Rn.getCharCountIndicator(r,e)+4}function oH(r,e){let t=0;return r.forEach(function(i){t+=iI(i.mode,e)+i.getBitsLength()}),t}function aH(r,e){for(let t=1;t<=40;t++)if(oH(r,t)<=bs.getCapacity(t,e,Rn.MIXED))return t}bs.from=function(e,t){return j1.isValid(e)?parseInt(e,10):t};bs.getCapacity=function(e,t,i){if(!j1.isValid(e))throw new Error("Invalid QR Code version");typeof i=="undefined"&&(i=Rn.BYTE);let n=Yh.getSymbolTotalCodewords(e),o=nH.getTotalCodewordsCount(e,t),c=(n-o)*8;if(i===Rn.MIXED)return c;let u=c-iI(i,e);switch(i){case Rn.NUMERIC:return Math.floor(u/10*3);case Rn.ALPHANUMERIC:return Math.floor(u/11*2);case Rn.KANJI:return Math.floor(u/13);case Rn.BYTE:default:return Math.floor(u/8)}};bs.getBestVersionForData=function(e,t){let i,n=eI.from(t,eI.M);if(Array.isArray(e)){if(e.length>1)return aH(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return sH(i.mode,i.getLength(),n)};bs.getEncodedBits=function(e){if(!j1.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Yh.getBCHDigit(t)-rI>=0;)t^=tI<<Yh.getBCHDigit(t)-rI;return e<<12|t}});var cI=Z(aI=>{var F1=An(),sI=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,cH=1<<14|1<<12|1<<10|1<<4|1<<1,oI=F1.getBCHDigit(sI);aI.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;F1.getBCHDigit(n)-oI>=0;)n^=sI<<F1.getBCHDigit(n)-oI;return(i<<10|n)^cH}});var uI=Z((VQ,lI)=>{var lH=On();function Uo(r){this.mode=lH.NUMERIC,this.data=r.toString()}Uo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Uo.prototype.getLength=function(){return this.data.length};Uo.prototype.getBitsLength=function(){return Uo.getBitsLength(this.data.length)};Uo.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,o*3+1))};lI.exports=Uo});var fI=Z((WQ,hI)=>{var uH=On(),$1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mo(r){this.mode=uH.ALPHANUMERIC,this.data=r}Mo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Mo.prototype.getLength=function(){return this.data.length};Mo.prototype.getBitsLength=function(){return Mo.getBitsLength(this.data.length)};Mo.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=$1.indexOf(this.data[t])*45;i+=$1.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put($1.indexOf(this.data[t]),6)};hI.exports=Mo});var pI=Z((KQ,dI)=>{"use strict";dI.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319&&i>n+1){var c=e.charCodeAt(n+1);c>=56320&&c<=57343&&(o=(o-55296)*1024+c-56320+65536,n+=1)}if(o<128){t.push(o);continue}if(o<2048){t.push(o>>6|192),t.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128);continue}if(o>=65536&&o<=1114111){t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var mI=Z((GQ,gI)=>{var hH=pI(),fH=On();function jo(r){this.mode=fH.BYTE,typeof r=="string"&&(r=hH(r)),this.data=new Uint8Array(r)}jo.getBitsLength=function(e){return e*8};jo.prototype.getLength=function(){return this.data.length};jo.prototype.getBitsLength=function(){return jo.getBitsLength(this.data.length)};jo.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};gI.exports=jo});var wI=Z((JQ,yI)=>{var dH=On(),pH=An();function Fo(r){this.mode=dH.KANJI,this.data=r}Fo.getBitsLength=function(e){return e*13};Fo.prototype.getLength=function(){return this.data.length};Fo.prototype.getBitsLength=function(){return Fo.getBitsLength(this.data.length)};Fo.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=pH.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};yI.exports=Fo});var vI=Z((YQ,B1)=>{"use strict";var Ic={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var o=Ic.PriorityQueue.make();o.push(e,0);for(var c,u,f,d,m,y,b,v,_;!o.empty();){c=o.pop(),u=c.value,d=c.cost,m=r[u]||{};for(f in m)m.hasOwnProperty(f)&&(y=m[f],b=d+y,v=n[f],_=typeof n[f]=="undefined",(_||v>b)&&(n[f]=b,o.push(f,b),i[f]=u))}if(typeof t!="undefined"&&typeof n[t]=="undefined"){var S=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(S)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Ic.single_source_shortest_paths(r,e,t);return Ic.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Ic.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof B1!="undefined"&&(B1.exports=Ic)});var AI=Z($o=>{var Ge=On(),bI=uI(),EI=fI(),_I=mI(),xI=wI(),Sc=U1(),Zh=An(),gH=vI();function II(r){return unescape(encodeURIComponent(r)).length}function Cc(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function SI(r){let e=Cc(Sc.NUMERIC,Ge.NUMERIC,r),t=Cc(Sc.ALPHANUMERIC,Ge.ALPHANUMERIC,r),i,n;return Zh.isKanjiModeEnabled()?(i=Cc(Sc.BYTE,Ge.BYTE,r),n=Cc(Sc.KANJI,Ge.KANJI,r)):(i=Cc(Sc.BYTE_KANJI,Ge.BYTE,r),n=[]),e.concat(t,i,n).sort(function(c,u){return c.index-u.index}).map(function(c){return{data:c.data,mode:c.mode,length:c.length}})}function k1(r,e){switch(e){case Ge.NUMERIC:return bI.getBitsLength(r);case Ge.ALPHANUMERIC:return EI.getBitsLength(r);case Ge.KANJI:return xI.getBitsLength(r);case Ge.BYTE:return _I.getBitsLength(r)}}function mH(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function yH(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Ge.NUMERIC:e.push([i,{data:i.data,mode:Ge.ALPHANUMERIC,length:i.length},{data:i.data,mode:Ge.BYTE,length:i.length}]);break;case Ge.ALPHANUMERIC:e.push([i,{data:i.data,mode:Ge.BYTE,length:i.length}]);break;case Ge.KANJI:e.push([i,{data:i.data,mode:Ge.BYTE,length:II(i.data)}]);break;case Ge.BYTE:e.push([{data:i.data,mode:Ge.BYTE,length:II(i.data)}])}}return e}function wH(r,e){let t={},i={start:{}},n=["start"];for(let o=0;o<r.length;o++){let c=r[o],u=[];for(let f=0;f<c.length;f++){let d=c[f],m=""+o+f;u.push(m),t[m]={node:d,lastCount:0},i[m]={};for(let y=0;y<n.length;y++){let b=n[y];t[b]&&t[b].node.mode===d.mode?(i[b][m]=k1(t[b].lastCount+d.length,d.mode)-k1(t[b].lastCount,d.mode),t[b].lastCount+=d.length):(t[b]&&(t[b].lastCount=d.length),i[b][m]=k1(d.length,d.mode)+4+Ge.getCharCountIndicator(d.mode,e))}}n=u}for(let o=0;o<n.length;o++)i[n[o]].end=0;return{map:i,table:t}}function CI(r,e){let t,i=Ge.getBestModeForData(r);if(t=Ge.from(e,i),t!==Ge.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Ge.toString(t)+`.
 Suggested mode is: `+Ge.toString(i));switch(t===Ge.KANJI&&!Zh.isKanjiModeEnabled()&&(t=Ge.BYTE),t){case Ge.NUMERIC:return new bI(r);case Ge.ALPHANUMERIC:return new EI(r);case Ge.KANJI:return new xI(r);case Ge.BYTE:return new _I(r)}}$o.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(CI(i,null)):i.data&&t.push(CI(i.data,i.mode)),t},[])};$o.fromString=function(e,t){let i=SI(e,Zh.isKanjiModeEnabled()),n=yH(i),o=wH(n,t),c=gH.find_path(o.map,"start","end"),u=[];for(let f=1;f<c.length-1;f++)u.push(o.table[c[f]].node);return $o.fromArray(mH(u))};$o.rawSplit=function(e){return $o.fromArray(SI(e,Zh.isKanjiModeEnabled()))}});var OI=Z(DI=>{var Xh=An(),q1=zh(),vH=$4(),bH=k4(),EH=q4(),_H=V4(),H1=W4(),z1=P1(),xH=Z4(),Qh=nI(),IH=cI(),SH=On(),V1=AI();function CH(r,e){let t=r.size,i=_H.getPositions(e);for(let n=0;n<i.length;n++){let o=i[n][0],c=i[n][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||t<=o+u))for(let f=-1;f<=7;f++)c+f<=-1||t<=c+f||(u>=0&&u<=6&&(f===0||f===6)||f>=0&&f<=6&&(u===0||u===6)||u>=2&&u<=4&&f>=2&&f<=4?r.set(o+u,c+f,!0,!0):r.set(o+u,c+f,!1,!0))}}function AH(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2==0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function DH(r,e){let t=EH.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],o=t[i][1];for(let c=-2;c<=2;c++)for(let u=-2;u<=2;u++)c===-2||c===2||u===-2||u===2||c===0&&u===0?r.set(n+c,o+u,!0,!0):r.set(n+c,o+u,!1,!0)}}function OH(r,e){let t=r.size,i=Qh.getEncodedBits(e),n,o,c;for(let u=0;u<18;u++)n=Math.floor(u/3),o=u%3+t-8-3,c=(i>>u&1)==1,r.set(n,o,c,!0),r.set(o,n,c,!0)}function W1(r,e,t){let i=r.size,n=IH.getEncodedBits(e,t),o,c;for(o=0;o<15;o++)c=(n>>o&1)==1,o<6?r.set(o,8,c,!0):o<8?r.set(o+1,8,c,!0):r.set(i-15+o,8,c,!0),o<8?r.set(8,i-o-1,c,!0):o<9?r.set(8,15-o-1+1,c,!0):r.set(8,15-o-1,c,!0);r.set(i-8,8,1,!0)}function RH(r,e){let t=r.size,i=-1,n=t-1,o=7,c=0;for(let u=t-1;u>0;u-=2)for(u===6&&u--;;){for(let f=0;f<2;f++)if(!r.isReserved(n,u-f)){let d=!1;c<e.length&&(d=(e[c]>>>o&1)==1),r.set(n,u-f,d),o--,o===-1&&(c++,o=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function PH(r,e,t){let i=new vH;t.forEach(function(f){i.put(f.mode.bit,4),i.put(f.getLength(),SH.getCharCountIndicator(f.mode,r)),f.write(i)});let n=Xh.getSymbolTotalCodewords(r),o=z1.getTotalCodewordsCount(r,e),c=(n-o)*8;for(i.getLengthInBits()+4<=c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let u=(c-i.getLengthInBits())/8;for(let f=0;f<u;f++)i.put(f%2?17:236,8);return TH(i,r,e)}function TH(r,e,t){let i=Xh.getSymbolTotalCodewords(e),n=z1.getTotalCodewordsCount(e,t),o=i-n,c=z1.getBlocksCount(e,t),u=i%c,f=c-u,d=Math.floor(i/c),m=Math.floor(o/c),y=m+1,b=d-m,v=new xH(b),_=0,S=new Array(c),R=new Array(c),P=0,H=new Uint8Array(r.buffer);for(let C=0;C<c;C++){let D=C<f?m:y;S[C]=H.slice(_,_+D),R[C]=v.encode(S[C]),_+=D,P=Math.max(P,D)}let U=new Uint8Array(i),N=0,k,W;for(k=0;k<P;k++)for(W=0;W<c;W++)k<S[W].length&&(U[N++]=S[W][k]);for(k=0;k<b;k++)for(W=0;W<c;W++)U[N++]=R[W][k];return U}function NH(r,e,t,i){let n;if(Array.isArray(r))n=V1.fromArray(r);else if(typeof r=="string"){let d=e;if(!d){let m=V1.rawSplit(r);d=Qh.getBestVersionForData(m,t)}n=V1.fromString(r,d||40)}else throw new Error("Invalid data");let o=Qh.getBestVersionForData(n,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let c=PH(e,t,n),u=Xh.getSymbolSize(e),f=new bH(u);return CH(f,e),AH(f),DH(f,e),W1(f,t,0),e>=7&&OH(f,e),RH(f,c),isNaN(i)&&(i=H1.getBestMask(f,W1.bind(null,f,t))),H1.applyMask(i,f),W1(f,t,i),{modules:f,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}DI.create=function(e,t){if(typeof e=="undefined"||e==="")throw new Error("No input text");let i=q1.M,n,o;return typeof t!="undefined"&&(i=q1.from(t.errorCorrectionLevel,q1.M),n=Qh.from(t.version),o=H1.from(t.maskPattern),t.toSJISFunc&&Xh.setToSJISFunction(t.toSJISFunc)),NH(e,n,i,o)}});var K1=Z(Es=>{function RI(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Es.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin=="undefined"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:RI(e.color.dark||"#000000ff"),light:RI(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Es.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Es.getImageWidth=function(e,t){let i=Es.getScale(e,t);return Math.floor((e+t.margin*2)*i)};Es.qrToImageData=function(e,t,i){let n=t.modules.size,o=t.modules.data,c=Es.getScale(n,i),u=Math.floor((n+i.margin*2)*c),f=i.margin*c,d=[i.color.light,i.color.dark];for(let m=0;m<u;m++)for(let y=0;y<u;y++){let b=(m*u+y)*4,v=i.color.light;if(m>=f&&y>=f&&m<u-f&&y<u-f){let _=Math.floor((m-f)/c),S=Math.floor((y-f)/c);v=d[o[_*n+S]?1:0]}e[b++]=v.r,e[b++]=v.g,e[b++]=v.b,e[b]=v.a}}});var PI=Z(ef=>{var G1=K1();function LH(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function UH(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}ef.render=function(e,t,i){let n=i,o=t;typeof n=="undefined"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(o=UH()),n=G1.getOptions(n);let c=G1.getImageWidth(e.modules.size,n),u=o.getContext("2d"),f=u.createImageData(c,c);return G1.qrToImageData(f.data,e,n),LH(u,o,c),u.putImageData(f,0,0),o};ef.renderToDataURL=function(e,t,i){let n=i;typeof n=="undefined"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let o=ef.render(e,t,n),c=n.type||"image/png",u=n.rendererOpts||{};return o.toDataURL(c,u.quality)}});var LI=Z(NI=>{var MH=K1();function TI(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function J1(r,e,t){let i=r+e;return typeof t!="undefined"&&(i+=" "+t),i}function jH(r,e,t){let i="",n=0,o=!1,c=0;for(let u=0;u<r.length;u++){let f=Math.floor(u%e),d=Math.floor(u/e);!f&&!o&&(o=!0),r[u]?(c++,u>0&&f>0&&r[u-1]||(i+=o?J1("M",f+t,.5+d+t):J1("m",n,0),n=0,o=!1),f+1<e&&r[u+1]||(i+=J1("h",c),c=0)):n++}return i}NI.render=function(e,t,i){let n=MH.getOptions(t),o=e.modules.size,c=e.modules.data,u=o+n.margin*2,f=n.color.light.a?"<path "+TI(n.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",d="<path "+TI(n.color.dark,"stroke")+' d="'+jH(c,o,n.margin)+'"/>',m='viewBox="0 0 '+u+" "+u+'"',y=n.width?'width="'+n.width+'" height="'+n.width+'" ':"",b='<svg xmlns="http://www.w3.org/2000/svg" '+y+m+' shape-rendering="crispEdges">'+f+d+`</svg>
`;return typeof i=="function"&&i(null,b),b}});var MI=Z(Ac=>{var FH=M4(),Y1=OI(),UI=PI(),$H=LI();function Z1(r,e,t,i,n){let o=[].slice.call(arguments,1),c=o.length,u=typeof o[c-1]=="function";if(!u&&!FH())throw new Error("Callback required as last argument");if(u){if(c<2)throw new Error("Too few arguments provided");c===2?(n=t,t=e,e=i=void 0):c===3&&(e.getContext&&typeof n=="undefined"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(t=e,e=i=void 0):c===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(f,d){try{let m=Y1.create(t,i);f(r(m,e,i))}catch(m){d(m)}})}try{let f=Y1.create(t,i);n(null,r(f,e,i))}catch(f){n(f)}}Ac.create=Y1.create;Ac.toCanvas=Z1.bind(null,UI.render);Ac.toDataURL=Z1.bind(null,UI.renderToDataURL);Ac.toString=Z1.bind(null,function(r,e,t){return $H.render(r,t)})});var JI={};nt(JI,{WcmModal:()=>Vo,WcmQrCode:()=>Hi});function HH(){var r;let e=(r=ci.state.themeMode)!=null?r:"dark",t={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":t.foreground[1],"--wcm-color-fg-2":t.foreground[2],"--wcm-color-fg-3":t.foreground[3],"--wcm-color-bg-1":t.background[1],"--wcm-color-bg-2":t.background[2],"--wcm-color-bg-3":t.background[3],"--wcm-color-overlay":t.overlay}}function BI(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}function sm(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+Ez}function _z(r,e){let t=Array.prototype.slice.call(jI.default.create(r,{errorCorrectionLevel:e}).modules.data,0),i=Math.sqrt(t.length);return t.reduce((n,o,c)=>(c%i==0?n.push([o]):n[n.length-1].push(o))&&n,[])}var jI,BH,FI,kH,qH,$I,X1,He,zH,VH,WH,Bo,Pn,KH,GH,JH,Q1,Dc,YH,ZH,XH,QH,em,Je,ez,tz,rz,iz,tm,nz,sz,oz,az,rm,cz,lz,uz,hz,im,fz,dz,pz,Oc,_s,Ie,gz,mz,yz,nm,Rc,wz,vz,bz,kI,tf,Ez,qI,qi,xz,Iz,Sz,Cz,ko,Hi,Az,Dz,Oz,HI,rf,Rz,Pz,Tz,Nz,om,Lz,Uz,Mz,am,Pc,jz,Fz,$z,Tn,hi,Bz,kz,qz,nf,qo,Hz,zz,zI,cm,Vz,Wz,Kz,VI,Gz,Jz,Yz,Zz,lm,Xz,Qz,eV,Ho,Nn,zo,Ln,tV,rV,iV,nV,um,sV,oV,aV,cV,hm,lV,uV,hV,fV,fm,dV,pV,gV,dm,Vo,mV,yV,wV,Tc,xs,vV,bV,EV,_V,pm,xV,IV,SV,sf,Wo,CV,AV,DV,gm,OV,RV,PV,WI,of,TV,NV,LV,UV,mm,MV,jV,FV,KI,af,$V,BV,kV,qV,ym,HV,zV,VV,wm,WV,KV,GV,Nc,vm,Is,JV,YV,ZV,GI,cf,YI=M(()=>{I8();T8();j8();kg();ps();T4();L4();jI=Or(MI()),BH=Object.defineProperty,FI=Object.getOwnPropertySymbols,kH=Object.prototype.hasOwnProperty,qH=Object.prototype.propertyIsEnumerable,$I=(r,e,t)=>e in r?BH(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,X1=(r,e)=>{for(var t in e||(e={}))kH.call(e,t)&&$I(r,t,e[t]);if(FI)for(var t of FI(e))qH.call(e,t)&&$I(r,t,e[t]);return r};He={getPreset(r){return BI()[r]},setTheme(){let r=document.querySelector(":root"),{themeVariables:e}=ci.state;if(r){let t=X1(X1(X1({},HH()),BI()),e);Object.entries(t).forEach(([i,n])=>r.style.setProperty(i,n))}},globalCss:ze`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},zH=ze`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`,VH=Object.defineProperty,WH=Object.getOwnPropertyDescriptor,Bo=(r,e,t,i)=>{for(var n=i>1?void 0:i?WH(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&VH(e,t,n),n},Pn=class extends Ne{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){let r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"},e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),te`<button class="${li(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Pn.styles=[He.globalCss,zH],Bo([Ae({type:Boolean})],Pn.prototype,"disabled",2),Bo([Ae()],Pn.prototype,"iconLeft",2),Bo([Ae()],Pn.prototype,"iconRight",2),Bo([Ae()],Pn.prototype,"onClick",2),Bo([Ae()],Pn.prototype,"variant",2),Pn=Bo([qe("wcm-button")],Pn);KH=ze`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`,GH=Object.defineProperty,JH=Object.getOwnPropertyDescriptor,Q1=(r,e,t,i)=>{for(var n=i>1?void 0:i?JH(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&GH(e,t,n),n},Dc=class extends Ne{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){let r={"wcm-secondary":this.variant==="secondary"};return te`<button ?disabled="${this.disabled}" class="${li(r)}"><slot></slot></button>`}};Dc.styles=[He.globalCss,KH],Q1([Ae({type:Boolean})],Dc.prototype,"disabled",2),Q1([Ae()],Dc.prototype,"variant",2),Dc=Q1([qe("wcm-button-big")],Dc);YH=ze`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`,ZH=Object.defineProperty,XH=Object.getOwnPropertyDescriptor,QH=(r,e,t,i)=>{for(var n=i>1?void 0:i?XH(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&ZH(e,t,n),n},em=class extends Ne{render(){return te`<div><slot></slot></div>`}};em.styles=[He.globalCss,YH],em=QH([qe("wcm-info-footer")],em);Je={CROSS_ICON:pt`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:pt`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:pt`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:pt`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:pt`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:pt`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:pt`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:pt`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:pt`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:pt`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:pt`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:pt`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:pt`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:pt`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:pt`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:pt`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:pt`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:pt`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},ez=ze`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`,tz=Object.defineProperty,rz=Object.getOwnPropertyDescriptor,iz=(r,e,t,i)=>{for(var n=i>1?void 0:i?rz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&tz(e,t,n),n},tm=class extends Ne{render(){return te`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${Je.WALLET_CONNECT_LOGO} <button @click="${ji.close}">${Je.CROSS_ICON}</button></div>`}};tm.styles=[He.globalCss,ez],tm=iz([qe("wcm-modal-backcard")],tm);nz=ze`main{padding:20px;padding-top:0;width:100%}`,sz=Object.defineProperty,oz=Object.getOwnPropertyDescriptor,az=(r,e,t,i)=>{for(var n=i>1?void 0:i?oz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&sz(e,t,n),n},rm=class extends Ne{render(){return te`<main><slot></slot></main>`}};rm.styles=[He.globalCss,nz],rm=az([qe("wcm-modal-content")],rm);cz=ze`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`,lz=Object.defineProperty,uz=Object.getOwnPropertyDescriptor,hz=(r,e,t,i)=>{for(var n=i>1?void 0:i?uz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&lz(e,t,n),n},im=class extends Ne{render(){return te`<footer><slot></slot></footer>`}};im.styles=[He.globalCss,cz],im=hz([qe("wcm-modal-footer")],im);fz=ze`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`,dz=Object.defineProperty,pz=Object.getOwnPropertyDescriptor,Oc=(r,e,t,i)=>{for(var n=i>1?void 0:i?pz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&dz(e,t,n),n},_s=class extends Ne{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return te`<button class="wcm-back-btn" @click="${dt.goBack}">${Je.BACK_ICON}</button>`}actionBtnTemplate(){return te`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){let r={"wcm-border":this.border},e=dt.state.history.length>1,t=this.title?te`<wcm-text variant="big-bold">${this.title}</wcm-text>`:te`<slot></slot>`;return te`<header class="${li(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};_s.styles=[He.globalCss,fz],Oc([Ae()],_s.prototype,"title",2),Oc([Ae()],_s.prototype,"onAction",2),Oc([Ae()],_s.prototype,"actionIcon",2),Oc([Ae({type:Boolean})],_s.prototype,"border",2),_s=Oc([qe("wcm-modal-header")],_s);Ie={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){let t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){let{walletImages:t}=Qt.state;return t!=null&&t[r]?t[r]:e?er.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e?r.split(" ")[0]:r},isMobileAnimation(){return window.innerWidth<=Ie.MOBILE_BREAKPOINT},async preloadImage(r){let e=new Promise((t,i)=>{let n=new Image;n.onload=t,n.onerror=i,n.src=r});return Promise.race([e,pe.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...i)=>{function n(){r(...i)}t&&clearTimeout(t),t=setTimeout(n,e)}},handleMobileLinking(r){let{walletConnectUri:e}=yt.state,{mobile:t,name:i}=r,n=t?.native,o=t?.universal;Ie.setRecentWallet(r);function c(u){let f="";n?f=pe.formatUniversalUrl(n,u,i):o&&(f=pe.formatNativeUrl(o,u,i)),pe.openHref(f,"_self")}e&&c(e)},handleAndroidLinking(){let{walletConnectUri:r}=yt.state;r&&(pe.setWalletConnectAndroidDeepLink(r),pe.openHref(r,"_self"))},async handleUriCopy(){let{walletConnectUri:r}=yt.state;r&&await navigator.clipboard.writeText(r),En.openToast("Link copied","success")},getCustomImageUrls(){let{walletImages:r}=Qt.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){localStorage.setItem(Ie.WCM_RECENT_WALLET_DATA,JSON.stringify(r))},getRecentWallet(){let r=localStorage.getItem(Ie.WCM_RECENT_WALLET_DATA);if(r)return JSON.parse(r)},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){pe.openHref(Ie.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){let{desktop:r,mobile:e}=pe.getWalletRouterData(),t=Boolean(r?.native),i=Boolean(r?.universal),n=Boolean(e?.native)||Boolean(e?.universal);return{isDesktop:t,isMobile:n,isWeb:i}},goToConnectingView(r){dt.setData({Wallet:r});let e=pe.isMobile(),{isDesktop:t,isWeb:i,isMobile:n}=Ie.getCachedRouterWalletPlatforms();e?n?dt.push("MobileConnecting"):i?dt.push("WebConnecting"):dt.push("InstallWallet"):t?dt.push("DesktopConnecting"):i?dt.push("WebConnecting"):n?dt.push("MobileQrcodeConnecting"):dt.push("InstallWallet")}},gz=ze`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`,mz=Object.defineProperty,yz=Object.getOwnPropertyDescriptor,nm=(r,e,t,i)=>{for(var n=i>1?void 0:i?yz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&mz(e,t,n),n},Rc=class extends Ne{constructor(){super(),this.view=dt.state.view,this.prevView=dt.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=dt.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{let e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&Bi(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Ie.getShadowRootElement(this,".wcm-router")}get contentEl(){return Ie.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return te`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return te`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return te`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return te`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return te`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return te`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return te`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return te`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return te`<div>Not Found</div>`}}async onChangeRoute(){await Bi(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=dt.state.view,Bi(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return te`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};Rc.styles=[He.globalCss,gz],nm([tr()],Rc.prototype,"view",2),nm([tr()],Rc.prototype,"prevView",2),Rc=nm([qe("wcm-modal-router")],Rc);wz=ze`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`,vz=Object.defineProperty,bz=Object.getOwnPropertyDescriptor,kI=(r,e,t,i)=>{for(var n=i>1?void 0:i?bz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&vz(e,t,n),n},tf=class extends Ne{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=En.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>En.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),En.closeToast()}render(){let{message:r,variant:e}=En.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?te`<div class="${li(t)}">${e==="success"?Je.CHECKMARK_ICON:null} ${e==="error"?Je.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};tf.styles=[He.globalCss,wz],kI([tr()],tf.prototype,"open",2),tf=kI([qe("wcm-modal-toast")],tf);Ez=.1,qI=2.5,qi=7;xz={generate(r,e,t){let i="#141414",n="#ffffff",o=[],c=_z(r,"Q"),u=e/c.length,f=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];f.forEach(({x:_,y:S})=>{let R=(c.length-qi)*u*_,P=(c.length-qi)*u*S,H=.45;for(let U=0;U<f.length;U+=1){let N=u*(qi-U*2);o.push(pt`<rect fill="${U%2==0?i:n}" height="${N}" rx="${N*H}" ry="${N*H}" width="${N}" x="${R+u*U}" y="${P+u*U}">`)}});let d=Math.floor((t+25)/u),m=c.length/2-d/2,y=c.length/2+d/2-1,b=[];c.forEach((_,S)=>{_.forEach((R,P)=>{if(c[S][P]&&!(S<qi&&P<qi||S>c.length-(qi+1)&&P<qi||S<qi&&P>c.length-(qi+1))&&!(S>m&&S<y&&P>m&&P<y)){let H=S*u+u/2,U=P*u+u/2;b.push([H,U])}})});let v={};return b.forEach(([_,S])=>{v[_]?v[_].push(S):v[_]=[S]}),Object.entries(v).map(([_,S])=>{let R=S.filter(P=>S.every(H=>!sm(P,H,u)));return[Number(_),R]}).forEach(([_,S])=>{S.forEach(R=>{o.push(pt`<circle cx="${_}" cy="${R}" fill="${i}" r="${u/qI}">`)})}),Object.entries(v).filter(([_,S])=>S.length>1).map(([_,S])=>{let R=S.filter(P=>S.some(H=>sm(P,H,u)));return[Number(_),R]}).map(([_,S])=>{S.sort((P,H)=>P<H?-1:1);let R=[];for(let P of S){let H=R.find(U=>U.some(N=>sm(P,N,u)));H?H.push(P):R.push([P])}return[_,R.map(P=>[P[0],P[P.length-1]])]}).forEach(([_,S])=>{S.forEach(([R,P])=>{o.push(pt`<line x1="${_}" x2="${_}" y1="${R}" y2="${P}" stroke="${i}" stroke-width="${u/(qI/2)}" stroke-linecap="round">`)})}),o}},Iz=ze`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`,Sz=Object.defineProperty,Cz=Object.getOwnPropertyDescriptor,ko=(r,e,t,i)=>{for(var n=i>1?void 0:i?Cz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Sz(e,t,n),n},Hi=class extends Ne{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){let r=ci.state.themeMode==="light"?this.size:this.size-36;return pt`<svg height="${r}" width="${r}">${xz.generate(this.uri,r,r/4)}</svg>`}render(){let r={"wcm-dark":ci.state.themeMode==="dark"};return te`<div style="${`width: ${this.size}px`}" class="${li(r)}">${this.walletId||this.imageUrl?te`<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}" imageUrl="${Kt(this.imageUrl)}"></wcm-wallet-image>`:Je.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Hi.styles=[He.globalCss,Iz],ko([Ae()],Hi.prototype,"uri",2),ko([Ae({type:Number})],Hi.prototype,"size",2),ko([Ae()],Hi.prototype,"imageId",2),ko([Ae()],Hi.prototype,"walletId",2),ko([Ae()],Hi.prototype,"imageUrl",2),Hi=ko([qe("wcm-qrcode")],Hi);Az=ze`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`,Dz=Object.defineProperty,Oz=Object.getOwnPropertyDescriptor,HI=(r,e,t,i)=>{for(var n=i>1?void 0:i?Oz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Dz(e,t,n),n},rf=class extends Ne{constructor(){super(...arguments),this.onChange=()=>null}render(){return te`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${Je.SEARCH_ICON}`}};rf.styles=[He.globalCss,Az],HI([Ae()],rf.prototype,"onChange",2),rf=HI([qe("wcm-search-input")],rf);Rz=ze`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`,Pz=Object.defineProperty,Tz=Object.getOwnPropertyDescriptor,Nz=(r,e,t,i)=>{for(var n=i>1?void 0:i?Tz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Pz(e,t,n),n},om=class extends Ne{render(){return te`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};om.styles=[He.globalCss,Rz],om=Nz([qe("wcm-spinner")],om);Lz=ze`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`,Uz=Object.defineProperty,Mz=Object.getOwnPropertyDescriptor,am=(r,e,t,i)=>{for(var n=i>1?void 0:i?Mz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Uz(e,t,n),n},Pc=class extends Ne{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){let r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return te`<span><slot class="${li(r)}"></slot></span>`}};Pc.styles=[He.globalCss,Lz],am([Ae()],Pc.prototype,"variant",2),am([Ae()],Pc.prototype,"color",2),Pc=am([qe("wcm-text")],Pc);jz=ze`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`,Fz=Object.defineProperty,$z=Object.getOwnPropertyDescriptor,Tn=(r,e,t,i)=>{for(var n=i>1?void 0:i?$z(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Fz(e,t,n),n},hi=class extends Ne{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){$g.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return te`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Kt(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:Ie.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};hi.styles=[He.globalCss,jz],Tn([Ae()],hi.prototype,"onClick",2),Tn([Ae()],hi.prototype,"name",2),Tn([Ae()],hi.prototype,"walletId",2),Tn([Ae()],hi.prototype,"label",2),Tn([Ae()],hi.prototype,"imageId",2),Tn([Ae({type:Boolean})],hi.prototype,"installed",2),Tn([Ae({type:Boolean})],hi.prototype,"recent",2),hi=Tn([qe("wcm-wallet-button")],hi);Bz=ze`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,kz=Object.defineProperty,qz=Object.getOwnPropertyDescriptor,nf=(r,e,t,i)=>{for(var n=i>1?void 0:i?qz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&kz(e,t,n),n},qo=class extends Ne{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;let e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:Ie.getWalletIcon({id:this.walletId,image_id:this.imageId});return te`${e.length?te`<div><img src="${e}" alt="${this.id}"></div>`:Je.WALLET_PLACEHOLDER}`}};qo.styles=[He.globalCss,Bz],nf([Ae()],qo.prototype,"walletId",2),nf([Ae()],qo.prototype,"imageId",2),nf([Ae()],qo.prototype,"imageUrl",2),qo=nf([qe("wcm-wallet-image")],qo);Hz=Object.defineProperty,zz=Object.getOwnPropertyDescriptor,zI=(r,e,t,i)=>{for(var n=i>1?void 0:i?zz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Hz(e,t,n),n},cm=class extends Ne{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r!=null&&r.length&&await Promise.all(r.map(async e=>Ie.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(Qt.state.enableExplorer){await er.getRecomendedWallets(),yt.setIsDataLoaded(!0);let{recomendedWallets:r}=er.state,e=r.map(t=>Ie.getWalletIcon(t));await this.loadImages(e)}else yt.setIsDataLoaded(!0)}async preloadCustomImages(){let r=Ie.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),En.openToast("Failed preloading","error")}}};zI([tr()],cm.prototype,"preload",2),cm=zI([qe("wcm-explorer-context")],cm);Vz=Object.defineProperty,Wz=Object.getOwnPropertyDescriptor,Kz=(r,e,t,i)=>{for(var n=i>1?void 0:i?Wz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Vz(e,t,n),n},VI=class extends Ne{constructor(){super(),this.unsubscribeTheme=void 0,He.setTheme(),this.unsubscribeTheme=ci.subscribe(He.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};VI=Kz([qe("wcm-theme-context")],VI);Gz=ze`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,Jz=Object.defineProperty,Yz=Object.getOwnPropertyDescriptor,Zz=(r,e,t,i)=>{for(var n=i>1?void 0:i?Yz(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Jz(e,t,n),n},lm=class extends Ne{onGoToQrcode(){dt.push("Qrcode")}render(){let{recomendedWallets:r}=er.state,e=[...r,...r],t=pe.RECOMMENDED_WALLET_AMOUNT*2;return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${Je.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${Je.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((i,n)=>{let o=e[n%e.length];return o?te`<wcm-wallet-image walletId="${o.id}" imageId="${o.image_id}"></wcm-wallet-image>`:Je.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${Ie.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};lm.styles=[He.globalCss,Gz],lm=Zz([qe("wcm-android-wallet-selection")],lm);Xz=ze`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`,Qz=Object.defineProperty,eV=Object.getOwnPropertyDescriptor,Ho=(r,e,t,i)=>{for(var n=i>1?void 0:i?eV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&Qz(e,t,n),n},Nn=class extends Ne{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;let t=(e=(r=ci.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:He.getPreset("--wcm-wallet-icon-large-border-radius"),i=0;t.includes("%")?i=88/100*parseInt(t,10):i=parseInt(t,10),i*=1.17;let n=317-i*1.57,o=425-i*1.8;return te`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${i}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${n}" stroke-dashoffset="${o}"></use></svg>`}render(){let r={"wcm-error":this.isError,"wcm-stale":this.isStale};return te`<div class="${li(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Nn.styles=[He.globalCss,Xz],Ho([Ae()],Nn.prototype,"walletId",2),Ho([Ae()],Nn.prototype,"imageId",2),Ho([Ae({type:Boolean})],Nn.prototype,"isError",2),Ho([Ae({type:Boolean})],Nn.prototype,"isStale",2),Ho([Ae()],Nn.prototype,"label",2),Nn=Ho([qe("wcm-connector-waiting")],Nn);zo={manualWallets(){var r,e;let{mobileWallets:t,desktopWallets:i}=Qt.state,n=(r=zo.recentWallet())==null?void 0:r.id,o=pe.isMobile()?t:i,c=o?.filter(u=>n!==u.id);return(e=pe.isMobile()?c?.map(({id:u,name:f,links:d})=>({id:u,name:f,mobile:d,links:d})):c?.map(({id:u,name:f,links:d})=>({id:u,name:f,desktop:d,links:d})))!=null?e:[]},recentWallet(){return Ie.getRecentWallet()},recomendedWallets(r=!1){var e;let t=r||(e=zo.recentWallet())==null?void 0:e.id,{recomendedWallets:i}=er.state;return i.filter(n=>t!==n.id)}},Ln={onConnecting(r){Ie.goToConnectingView(r)},manualWalletsTemplate(){return zo.manualWallets().map(r=>te`<wcm-wallet-button walletId="${r.id}" name="${r.name}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return zo.recomendedWallets(r).map(e=>te`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recentWalletTemplate(){let r=zo.recentWallet();if(r)return te`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${Kt(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},tV=ze`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`,rV=Object.defineProperty,iV=Object.getOwnPropertyDescriptor,nV=(r,e,t,i)=>{for(var n=i>1?void 0:i?iV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&rV(e,t,n),n},um=class extends Ne{render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=Qt.state,t=r!=="ALL"&&e,i=Ln.manualWalletsTemplate(),n=Ln.recomendedWalletsTemplate(),o=[Ln.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);let c=o.length>4||t,u=[];c?u=o.slice(0,3):u=o;let f=Boolean(u.length);return te`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${Je.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${Je.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${f?te`<wcm-modal-footer><div class="wcm-desktop-title">${Je.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${u} ${c?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};um.styles=[He.globalCss,tV],um=nV([qe("wcm-desktop-wallet-selection")],um);sV=ze`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`,oV=Object.defineProperty,aV=Object.getOwnPropertyDescriptor,cV=(r,e,t,i)=>{for(var n=i>1?void 0:i?aV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&oV(e,t,n),n},hm=class extends Ne{render(){let{termsOfServiceUrl:r,privacyPolicyUrl:e}=Qt.state;return r??e?te`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?te`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?te`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};hm.styles=[He.globalCss,sV],hm=cV([qe("wcm-legal-notice")],hm);lV=ze`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`,uV=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,fV=(r,e,t,i)=>{for(var n=i>1?void 0:i?hV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&uV(e,t,n),n},fm=class extends Ne{onQrcode(){dt.push("Qrcode")}render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=Qt.state,t=r!=="ALL"&&e,i=Ln.manualWalletsTemplate(),n=Ln.recomendedWalletsTemplate(),o=[Ln.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);let c=o.length>8||t,u=[];c?u=o.slice(0,7):u=o;let f=Boolean(u.length);return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${Je.QRCODE_ICON}"></wcm-modal-header>${f?te`<wcm-modal-content><div>${u} ${c?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};fm.styles=[He.globalCss,lV],fm=fV([qe("wcm-mobile-wallet-selection")],fm);dV=ze`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`,pV=Object.defineProperty,gV=Object.getOwnPropertyDescriptor,dm=(r,e,t,i)=>{for(var n=i>1?void 0:i?gV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&pV(e,t,n),n},Vo=class extends Ne{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=ji.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Ie.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){document.querySelector("body")&&(r?document.getElementById("wcm-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}onCloseModal(r){r.target===r.currentTarget&&ji.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{let r=Ie.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([Bi(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,Bi(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();let r=Ie.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([Bi(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,Bi(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?ji.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){let r={"wcm-overlay":!0,"wcm-active":this.active};return te`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${li(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?te`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};Vo.styles=[He.globalCss,dV],dm([tr()],Vo.prototype,"open",2),dm([tr()],Vo.prototype,"active",2),Vo=dm([qe("wcm-modal")],Vo);mV=ze`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`,yV=Object.defineProperty,wV=Object.getOwnPropertyDescriptor,Tc=(r,e,t,i)=>{for(var n=i>1?void 0:i?wV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&yV(e,t,n),n},xs=class extends Ne{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){pe.isMobile()?dt.replace("MobileConnecting"):dt.replace("MobileQrcodeConnecting")}onDesktop(){dt.replace("DesktopConnecting")}onWeb(){dt.replace("WebConnecting")}render(){return te`<div>${this.isRetry?te`<slot></slot>`:null} ${this.isMobile?te`<wcm-button .onClick="${this.onMobile}" .iconLeft="${Je.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?te`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${Je.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?te`<wcm-button .onClick="${this.onWeb}" .iconLeft="${Je.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};xs.styles=[He.globalCss,mV],Tc([Ae({type:Boolean})],xs.prototype,"isMobile",2),Tc([Ae({type:Boolean})],xs.prototype,"isDesktop",2),Tc([Ae({type:Boolean})],xs.prototype,"isWeb",2),Tc([Ae({type:Boolean})],xs.prototype,"isRetry",2),xs=Tc([qe("wcm-platform-selection")],xs);vV=ze`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,bV=Object.defineProperty,EV=Object.getOwnPropertyDescriptor,_V=(r,e,t,i)=>{for(var n=i>1?void 0:i?EV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&bV(e,t,n),n},pm=class extends Ne{onClick(){dt.push("WalletExplorer")}render(){let{recomendedWallets:r}=er.state,e=zo.manualWallets(),t=[...r,...e].reverse().slice(0,4);return te`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(i=>{let n=Ie.getWalletIcon(i);if(n)return te`<img src="${n}">`;let o=Ie.getWalletIcon({id:i.id});return o?te`<img src="${o}">`:Je.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>Je.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};pm.styles=[He.globalCss,vV],pm=_V([qe("wcm-view-all-wallets-button")],pm);xV=ze`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`,IV=Object.defineProperty,SV=Object.getOwnPropertyDescriptor,sf=(r,e,t,i)=>{for(var n=i>1?void 0:i?SV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&IV(e,t,n),n},Wo=class extends Ne{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{let{walletConnectUri:r}=yt.state;this.uri=r},0)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-qr-container")}render(){return te`<div class="wcm-qr-container">${this.uri?te`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-qrcode>`:te`<wcm-spinner></wcm-spinner>`}</div>`}};Wo.styles=[He.globalCss,xV],sf([Ae()],Wo.prototype,"walletId",2),sf([Ae()],Wo.prototype,"imageId",2),sf([tr()],Wo.prototype,"uri",2),Wo=sf([qe("wcm-walletconnect-qr")],Wo);CV=Object.defineProperty,AV=Object.getOwnPropertyDescriptor,DV=(r,e,t,i)=>{for(var n=i>1?void 0:i?AV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&CV(e,t,n),n},gm=class extends Ne{viewTemplate(){return pe.isAndroid()?te`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:pe.isMobile()?te`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:te`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return te`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};gm.styles=[He.globalCss],gm=DV([qe("wcm-connect-wallet-view")],gm);OV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,RV=Object.defineProperty,PV=Object.getOwnPropertyDescriptor,WI=(r,e,t,i)=>{for(var n=i>1?void 0:i?PV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&RV(e,t,n),n},of=class extends Ne{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){let{desktop:e,name:t}=pe.getWalletRouterData(),i=e?.native;if(i){let n=pe.formatNativeUrl(i,r,t);pe.openHref(n,"_self")}}openDesktopApp(){let{walletConnectUri:r}=yt.state,e=pe.getWalletRouterData();Ie.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isMobile:i,isWeb:n}=Ie.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isWeb="${n}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};of.styles=[He.globalCss,OV],WI([tr()],of.prototype,"isError",2),of=WI([qe("wcm-desktop-connecting-view")],of);TV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`,NV=Object.defineProperty,LV=Object.getOwnPropertyDescriptor,UV=(r,e,t,i)=>{for(var n=i>1?void 0:i?LV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&NV(e,t,n),n},mm=class extends Ne{onInstall(r){r&&pe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,homepage:i}=pe.getWalletRouterData();return te`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(i)}" .iconLeft="${Je.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};mm.styles=[He.globalCss,TV],mm=UV([qe("wcm-install-wallet-view")],mm);MV=ze`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`,jV=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,KI=(r,e,t,i)=>{for(var n=i>1?void 0:i?FV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&jV(e,t,n),n},af=class extends Ne{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){let{mobile:t,name:i}=pe.getWalletRouterData(),n=t?.native,o=t?.universal;if(n&&!e){let c=pe.formatNativeUrl(n,r,i);pe.openHref(c,"_self")}else if(o){let c=pe.formatUniversalUrl(o,r,i);pe.openHref(c,"_self")}}openMobileApp(r=!1){let{walletConnectUri:e}=yt.state,t=pe.getWalletRouterData();Ie.setRecentWallet(t),e&&this.onFormatAndRedirect(e,r)}onGoToAppStore(r){r&&pe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,app:i,mobile:n}=pe.getWalletRouterData(),{isWeb:o}=Ie.getCachedRouterWalletPlatforms(),c=i?.ios,u=n?.universal;return te`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${o}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${u?te`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Kt(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${Je.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(c)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};af.styles=[He.globalCss,MV],KI([tr()],af.prototype,"isError",2),af=KI([qe("wcm-mobile-connecting-view")],af);$V=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,BV=Object.defineProperty,kV=Object.getOwnPropertyDescriptor,qV=(r,e,t,i)=>{for(var n=i>1?void 0:i?kV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&BV(e,t,n),n},ym=class extends Ne{render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isDesktop:i,isWeb:n}=Ie.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Kt(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${i}" .isWeb="${n}"></wcm-platform-selection></wcm-info-footer>`}};ym.styles=[He.globalCss,$V],ym=qV([qe("wcm-mobile-qr-connecting-view")],ym);HV=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,VV=(r,e,t,i)=>{for(var n=i>1?void 0:i?zV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&HV(e,t,n),n},wm=class extends Ne{render(){return te`<wcm-modal-header title="Scan the code" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};wm.styles=[He.globalCss],wm=VV([qe("wcm-qrcode-view")],wm);WV=ze`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`,KV=Object.defineProperty,GV=Object.getOwnPropertyDescriptor,Nc=(r,e,t,i)=>{for(var n=i>1?void 0:i?GV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&KV(e,t,n),n},vm=40,Is=class extends Ne{constructor(){super(...arguments),this.loading=!er.state.wallets.listings.length,this.firstFetch=!er.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Ie.debounce(r=>{r.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=r,er.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),er.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return Ie.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){let{wallets:r,search:e}=er.state,{listings:t,total:i}=this.search?e:r;return i<=vm||t.length>=i}async fetchWallets(){var r;let{wallets:e,search:t}=er.state,{listings:i,total:n,page:o}=this.search?t:e;if(!this.endReached&&(this.firstFetch||n>vm&&i.length<n))try{this.loading=!0;let c=(r=yt.state.chains)==null?void 0:r.join(","),{listings:u}=await er.getWallets({page:this.firstFetch?1:o+1,entries:vm,search:this.search,version:2,chains:c}),f=u.map(d=>Ie.getWalletIcon(d));await Promise.all([...f.map(async d=>Ie.preloadImage(d)),pe.wait(300)]),this.endReached=this.isLastPage()}catch(c){console.error(c),En.openToast(Ie.getErrorMessage(c),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){pe.isAndroid()?Ie.handleMobileLinking(r):Ie.goToConnectingView(r)}onSearchChange(r){let{value:e}=r.target;this.searchDebounce(e)}render(){let{wallets:r,search:e}=er.state,{listings:t}=this.search?e:r,i=this.loading&&!t.length,n=this.search.length>=3,o=Ln.manualWalletsTemplate(),c=Ln.recomendedWalletsTemplate(!0);n&&(o=o.filter(({values:d})=>Ie.caseSafeIncludes(d[0],this.search)),c=c.filter(({values:d})=>Ie.caseSafeIncludes(d[0],this.search)));let u=!this.loading&&!t.length&&!c.length,f={"wcm-loading":i,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":u};return te`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${li(f)}"><div class="wcm-grid">${i?null:o} ${i?null:c} ${i?null:t.map(d=>te`${d?te`<wcm-wallet-button imageId="${d.image_id}" name="${d.name}" walletId="${d.id}" .onClick="${()=>this.onConnect(d)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${u?te`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!u&&this.loading?te`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Is.styles=[He.globalCss,WV],Nc([tr()],Is.prototype,"loading",2),Nc([tr()],Is.prototype,"firstFetch",2),Nc([tr()],Is.prototype,"search",2),Nc([tr()],Is.prototype,"endReached",2),Is=Nc([qe("wcm-wallet-explorer-view")],Is);JV=ze`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,YV=Object.defineProperty,ZV=Object.getOwnPropertyDescriptor,GI=(r,e,t,i)=>{for(var n=i>1?void 0:i?ZV(e,t):e,o=r.length-1,c;o>=0;o--)(c=r[o])&&(n=(i?c(e,t,n):c(n))||n);return i&&n&&YV(e,t,n),n},cf=class extends Ne{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){let{desktop:e,name:t}=pe.getWalletRouterData(),i=e?.universal;if(i){let n=pe.formatUniversalUrl(i,r,t);pe.openHref(n,"_blank")}}openWebWallet(){let{walletConnectUri:r}=yt.state,e=pe.getWalletRouterData();Ie.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=pe.getWalletRouterData(),{isMobile:i,isDesktop:n}=Ie.getCachedRouterWalletPlatforms(),o=pe.isMobile();return te`<wcm-modal-header title="${r}" .onAction="${Ie.handleUriCopy}" .actionIcon="${Je.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isDesktop="${o?!1:n}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${Je.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};cf.styles=[He.globalCss,JV],GI([tr()],cf.prototype,"isError",2),cf=GI([qe("wcm-web-connecting-view")],cf)});var XI={};nt(XI,{WalletConnectModal:()=>ZI});var ZI,QI=M(()=>{kg();ZI=class{constructor(e){this.openModal=ji.open,this.closeModal=ji.close,this.subscribeModal=ji.subscribe,this.setTheme=ci.setThemeConfig,ci.setThemeConfig(e),Qt.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>(YI(),JI));let e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),yt.setIsUiLoaded(!0)}}}});var iS=Z(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var XV=Yr(),Lc=Ra(),QV=b6();function eW(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var tW="wc",rW="ethereum_provider",iW=`${tW}@2:${rW}:`,nW="https://rpc.walletconnect.com/v1/",lf=["eth_sendTransaction","personal_sign"],sW=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],uf=["chainChanged","accountsChanged"],oW=["message","disconnect","connect"],aW=Object.defineProperty,cW=Object.defineProperties,lW=Object.getOwnPropertyDescriptors,eS=Object.getOwnPropertySymbols,uW=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,tS=(r,e,t)=>e in r?aW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bm=(r,e)=>{for(var t in e||(e={}))uW.call(e,t)&&tS(r,t,e[t]);if(eS)for(var t of eS(e))hW.call(e,t)&&tS(r,t,e[t]);return r},rS=(r,e)=>cW(r,lW(e));function Em(r){return Number(r[0].split(":")[1])}function _m(r){return`0x${r.toString(16)}`}function fW(r){let{chains:e,optionalChains:t,methods:i,optionalMethods:n,events:o,optionalEvents:c,rpcMap:u}=r;if(!Lc.isValidArray(e))throw new Error("Invalid chains");let f=e,d=i||lf,m=o||uf,y={[Em(f)]:u[Em(f)]},b={chains:f,methods:d,events:m,rpcMap:y},v=o?.filter(P=>!uf.includes(P)),_=i?.filter(P=>!lf.includes(P));if(!t&&!c&&!n&&!(v!=null&&v.length)&&!(_!=null&&_.length))return{required:b};let S=v?.length&&_?.length||!t,R={chains:[...new Set(S?f.concat(t||[]):t)],methods:[...new Set(d.concat(n||[]))],events:[...new Set(m.concat(c||[]))],rpcMap:u};return{required:b,optional:R}}var Uc=class{constructor(){this.events=new XV.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=iW,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new Uc;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:i}=fW(this.rpc);try{let n=await new Promise(async(c,u)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(rS(bm({namespaces:{[this.namespace]:t}},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic})).then(d=>{c(d)}).catch(d=>{u(new Error(d.message))})});if(!n)return;this.setChainIds(this.rpc.chains);let o=Lc.getAccountsFromNamespaces(n.namespaces,[this.namespace]);this.setAccounts(o),this.events.emit("connect",{chainId:_m(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:i}=t;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",_m(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",rS(bm({},Lc.getSdkError("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,i;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(i=this.modal)==null||i.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",_m(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,i,n]=e.split(":");return{chainId:`${t}:${i}`,address:n}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,i;return{chains:((t=e.chains)==null?void 0:t.map(n=>this.formatChainId(n)))||[`${this.namespace}:1`],optionalChains:e.optionalChains?e.optionalChains.map(n=>this.formatChainId(n)):void 0,methods:e?.methods||lf,events:e?.events||uf,optionalMethods:e?.optionalMethods||[],optionalEvents:e?.optionalEvents||[],rpcMap:e?.rpcMap||this.buildRpcMap(e.chains.concat(e.optionalChains||[]),e.projectId),showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:(i=e?.qrModalOptions)!=null?i:void 0,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let i={};return e.forEach(n=>{i[n]=this.getRpcUrl(n,t)}),i}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=Em(this.rpc.chains),this.signer=await QV.UniversalProvider.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{let{WalletConnectModal:i}=await Promise.resolve().then(function(){return eW((QI(),XI))});t=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(bm({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:i,rpcMap:n}=e;t&&Lc.isValidArray(t)&&(this.rpc.chains=t.map(o=>this.formatChainId(o)),t.forEach(o=>{this.rpc.rpcMap[o]=n?.[o]||this.getRpcUrl(o)})),i&&Lc.isValidArray(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(o=>this.formatChainId(o)),i.forEach(o=>{this.rpc.rpcMap[o]=n?.[o]||this.getRpcUrl(o)}))}getRpcUrl(e,t){var i;return((i=this.rpc.rpcMap)==null?void 0:i[e])||`${nW}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}},dW=Uc;Un.EthereumProvider=dW,Un.OPTIONAL_EVENTS=oW,Un.OPTIONAL_METHODS=sW,Un.REQUIRED_EVENTS=uf,Un.REQUIRED_METHODS=lf,Un.default=Uc});nt(exports,{EthereumProvider:()=>nS.EthereumProvider});var nS=Or(iS());
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/

});
